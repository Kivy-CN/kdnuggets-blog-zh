- en: 3 methods to deal with outliers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2017/01/3-methods-deal-outliers.html](https://www.kdnuggets.com/2017/01/3-methods-deal-outliers.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**By [Alberto Quesada](https://www.linkedin.com/in/alberto-quesada-le%C3%B3n-01a6b912a),
    [Artelnics](https://www.artelnics.com/).**'
  prefs: []
  type: TYPE_NORMAL
- en: '![outlier detection](../Images/fb15314161e17dc090e10ff6ca0efe21.png)'
  prefs: []
  type: TYPE_IMG
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: An outlier is a data point that is distant from other similar points. They may
    be due to variability in the measurement or may indicate experimental errors.
    If possible, outliers should be excluded from the data set. However, detecting
    that anomalous instances might be very difficult, and is not always possible.
  prefs: []
  type: TYPE_NORMAL
- en: Introduction
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Machine learning algorithms are very sensitive to the range and distribution
    of attribute values. Data outliers can spoil and mislead the training process
    resulting in longer training times, less accurate models and ultimately poorer
    results.
  prefs: []
  type: TYPE_NORMAL
- en: 'Along this article, we are going to talk about 3 different methods of dealing
    with outliers:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Univariate method:* This method looks for data points with extreme values
    on one variable.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*Multivariate method:* Here we look for unusual combinations on all the variables.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*Minkowski error:* This method reduces the contribution of potential outliers
    in the training process.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To illustrate that methods, we will use a data set obtained from the following
    function.
  prefs: []
  type: TYPE_NORMAL
- en: y = sin(π·x)
  prefs: []
  type: TYPE_NORMAL
- en: Once we have our data set, we replace two y values for other ones that are far
    from our function. The next graph depicts this data set.
  prefs: []
  type: TYPE_NORMAL
- en: '![outlier-detection-1](../Images/59e5e269dbcbf6262b91886543d5fe0d.png)'
  prefs: []
  type: TYPE_IMG
- en: The points A=(-0.5,-1.5) and B=(0.5,0.5) are outliers. Point A is outside the
    range defined by the y data, while Point B is inside that range. As we will see,
    that makes them of different nature, and we will need different methods to detect
    and treat them.
  prefs: []
  type: TYPE_NORMAL
- en: 1\. Univariate method
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: One of the simplest methods for detecting outliers is the use of box plots.
    A box plot is a graphical display for describing the distribution of the data.
    Box plots use the median and the lower and upper quartiles.
  prefs: []
  type: TYPE_NORMAL
- en: The Tukey’s method defines an outlier as those values of the data set that fall
    far from the central point, the median. The maximum distance to the center of
    the data that is going to be allowed is called the cleaning parameter. Id the
    cleaning parameter is very large, the test becomes less sensitive to outliers.
    On the contrary, if it is too small, a lot of values will be detected as outliers.
  prefs: []
  type: TYPE_NORMAL
- en: The following chart shows the box plot for the variable y. The minimum of the
    variable is -1.5, the first quartile is -0.707, the second quartile or median
    is 0, the third quartile is 0.588 and the maximum is 0.988.
  prefs: []
  type: TYPE_NORMAL
- en: '![outlier-detection-2](../Images/da5e5297ec8089173875e4934e88fed2.png)'
  prefs: []
  type: TYPE_IMG
- en: As we can see, the minimum is far away from the first quartile and the median.
    If we set the cleaning parameter to 0.6, the Tukey’s method will detect Point
    A as an outlier, and clean it from the data set.
  prefs: []
  type: TYPE_NORMAL
- en: Plotting again the box plot for that variable, we can notice that the outlier
    has been removed. As a consequence, the distribution of the data is now much better.
    Now, the minimum of y is -0.9858, the first quartile is -0.588, the second quartile
    or median is 0.078, the third quartile is 0.707 and the maximum is 0.988.
  prefs: []
  type: TYPE_NORMAL
- en: '![outlier-detection-3](../Images/0aee746ef56626cef2d6ecd4d87a099a.png)'
  prefs: []
  type: TYPE_IMG
- en: However, this univariate method has not detected Point B, and therefore we are
    not finished.
  prefs: []
  type: TYPE_NORMAL
- en: 2\. Multivariate method
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Outliers do not need to be extreme values. Therefore, as we have seen with Point
    B, the univariate method does not always work well. The multivariate method tries
    to solve that by building a model using all the data available, and then cleaning
    those instances with errors above a given value.
  prefs: []
  type: TYPE_NORMAL
- en: In this case, we have trained a neural network using all the available data
    (but Point B, which was excluded by the univariate method). Once we have our predictive
    model, we perform a linear regression analysis in order to obtain the next graph.
    The predicted values are plotted versus the actual ones as squares. The coloured
    line indicates the best linear fit. The grey line would indicate a perfect fit.
  prefs: []
  type: TYPE_NORMAL
- en: '![outlier-detection-4](../Images/1adf093616ac03e5950806952bda3932.png)'
  prefs: []
  type: TYPE_IMG
- en: As we can see, there is a point that falls too far from the model. This point
    is spoiling the model, so we can think that it is another outlier.
  prefs: []
  type: TYPE_NORMAL
- en: To find that point quantitatively, we can calculate the maximum errors between
    the outputs from the model and the targets in the data. The following table lists
    the 5 instances with maximum errors.
  prefs: []
  type: TYPE_NORMAL
- en: '![outlier_error_table](../Images/f14ee0648b2cbe63ce2f1d91cea86b81.png)'
  prefs: []
  type: TYPE_IMG
- en: We can notice that instance 11 stands out for having a large error in comparison
    with the others (0.430 versus 0.069,…). If we look at the linear regression graph,
    we can see that this instance matches the point that is far away from the model.
  prefs: []
  type: TYPE_NORMAL
- en: If we select 20% of maximum error, this method identifies Point B as an outlier
    and cleans it from the data set. We can see that by performing again a linear
    regression analysis.
  prefs: []
  type: TYPE_NORMAL
- en: '![outlier-detection-5](../Images/c88f847a26b4e6f9c30374ac967441ed.png)'
  prefs: []
  type: TYPE_IMG
- en: There are no more outliers in our data set so the generalization capabilities
    of our model will improve notably.
  prefs: []
  type: TYPE_NORMAL
- en: 3\. Minkowski error
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Now, we are going to talk about a different method for dealing with outliers.
    Unlike the univariate and multivariate methods, it doesn’t detect and clean the
    outliers. Instead, it reduces the impact that outliers will have in the model.
  prefs: []
  type: TYPE_NORMAL
- en: The Minkowski error is a loss index that is more insensitive to outliers than
    the standard sum squared error. The sum squared error raises each instance error
    to the square, making a too big contribution of outliers to the total error. The
    Minkowski error solves that by raising each instance error to a number smaller
    than 2, for instance 1.5\. This reduces the contribution of outliers to the total
    error. For instance, if an outlier has an error of 10, the squared error for that
    instance will be 100, while the Minkowski error will be 31.62.
  prefs: []
  type: TYPE_NORMAL
- en: To illustrate this method, we are going to build two different neural network
    models from our data set contaning two outliers (A and B). The architecture selected
    for this network is 1:24:1\. The first one will be created with the sum squared
    error, and the second one with the Minkowski error.
  prefs: []
  type: TYPE_NORMAL
- en: The model trained with sum squared error is plotted in the next figure. As we
    can see, two outliers are spoiling the model.
  prefs: []
  type: TYPE_NORMAL
- en: '![outlier-detection-6](../Images/24a24da8ce907fc7053acc836308fe84.png)'
  prefs: []
  type: TYPE_IMG
- en: Now, we are going to train the same neural network with the Minkowski error.
    The resulting model is depicted next. As we can see, the Minkowski error has made
    the training process more insensitive to outliers than the sum squared error.
  prefs: []
  type: TYPE_NORMAL
- en: '![outlier-detection-7](../Images/bc68f54a5c1894769627c2f858781799.png)'
  prefs: []
  type: TYPE_IMG
- en: As a result, Minkowski error has improved the quality of our model notably.
  prefs: []
  type: TYPE_NORMAL
- en: Conclusions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We have seen that outliers are one of the main problems when building a predictive
    model. Indeed, they cause data scientists to achieve poorer results than they
    could. To solve that, we need effective methods deal with that spurious points
    and remove them.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this article, we have seen 3 different methods for dealing with outliers:
    the univariate method, the multivariate method and the Minkowski error. These
    methods are complementary and, if our data set has many and difficult outliers,
    we might need to try them all.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Original](https://www.neuraldesigner.com/blog/3_methods_to_deal_with_outliers).
    Reposted with permission.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Bio:** **[Alberto Quesada](https://www.linkedin.com/in/alberto-quesada-le%C3%B3n-01a6b912a) **is
    Research assistant at **[Artelnics](https://www.artelnics.com/).**'
  prefs: []
  type: TYPE_NORMAL
- en: '**Related:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[Data Science Basics: What Types of Patterns Can Be Mined From Data?](/2016/12/data-science-basics-types-patterns-mined-data.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[A Neat Trick to Increase Robustness of Regression Models](/2016/08/neat-trick-increase-robustness-regression-models.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Machine Learning vs Statistics](/2016/11/machine-learning-vs-statistics.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[How to Deal with Categorical Data for Machine Learning](https://www.kdnuggets.com/2021/05/deal-with-categorical-data-machine-learning.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[5 Ways to Deal with the Lack of Data in Machine Learning](https://www.kdnuggets.com/2019/06/5-ways-lack-data-machine-learning.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Black Friday Deal - Master Machine Learning for Less with DataCamp](https://www.kdnuggets.com/2022/11/datacamp-black-friday-deal-master-machine-learning-less-datacamp.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[How to Deal with Missing Data Using Interpolation Techniques in Pandas](https://www.kdnuggets.com/how-to-deal-with-missing-data-using-interpolation-techniques-in-pandas)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[How to Handle Outliers in Dataset with Pandas](https://www.kdnuggets.com/how-to-handle-outliers-in-dataset-with-pandas)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Removing Outliers Using Standard Deviation in Python](https://www.kdnuggets.com/2017/02/removing-outliers-standard-deviation-python.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
