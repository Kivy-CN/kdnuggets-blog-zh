- en: How to Access and Use Gemini API for Free
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/how-to-access-and-use-gemini-api-for-free](https://www.kdnuggets.com/how-to-access-and-use-gemini-api-for-free)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/5e9b161a7892eb235e3061802e37abee.png)'
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  prefs: []
  type: TYPE_NORMAL
- en: Gemini is a new model developed by Google, and Bard is becoming usable again.
    With Gemini, it is now possible to get almost perfect answers to your queries
    by providing them with images, audio, and text.
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: In this tutorial, we will learn about the Gemini API and how to set it up on
    your machine. We will also explore various Python API functions, including text
    generation and image understanding.
  prefs: []
  type: TYPE_NORMAL
- en: Introducing Gemini AI Models
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Gemini](https://www.google.com/url?q=https://blog.google/technology/ai/google-gemini-ai/%23introducing-gemini&sa=D&source=editors&ust=1702928279671913&usg=AOvVaw3sXLHGX0QJRUSslBADx8XB) is
    a new AI model developed through collaboration between teams at Google, including
    Google Research and Google DeepMind. It was built specifically to be multimodal,
    meaning it can understand and work with different types of data like text, code,
    audio, images, and video.'
  prefs: []
  type: TYPE_NORMAL
- en: Gemini is the most advanced and largest AI model developed by Google to date.
    It has been designed to be highly flexible so that it can operate efficiently
    on a wide range of systems, from data centers to mobile devices. This means that
    it has the potential to revolutionize the way in which businesses and developers
    can build and scale AI applications.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here are three versions of the Gemini model designed for different use cases:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Gemini Ultra:** Largest and most advanced AI capable of performing complex
    tasks.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Gemini Pro:** A balanced model that has good performance and scalability.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Gemini Nano:** Most efficient for mobile devices.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/4cf5b60d4f6ec6c992916c0b6d264464.png)'
  prefs: []
  type: TYPE_IMG
- en: Image from [Introducing Gemini](https://www.google.com/url?q=https://blog.google/technology/ai/google-gemini-ai/%23performance&sa=D&source=editors&ust=1702928279673520&usg=AOvVaw0ubnWtpo19mhdYvbLKd1Jm)
  prefs: []
  type: TYPE_NORMAL
- en: Gemini Ultra has state-of-the-art performance, exceeding the performance of
    GPT-4 on several metrics. It is the first model to outperform human experts on
    the Massive Multitask Language Understanding benchmark, which tests world knowledge
    and problem solving across 57 diverse subjects. This showcases its advanced understanding
    and problem-solving capabilities.
  prefs: []
  type: TYPE_NORMAL
- en: Setting up
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To use the API, we have to first get an API key that you can can from here:
    https://ai.google.dev/tutorials/setup'
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/9f61e504d5efd47661b0f694a8af7753.png)'
  prefs: []
  type: TYPE_IMG
- en: After that click on “Get an API key” button and then click on “Create API key
    in new project”.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/507eb1e514696f45071dc47f7ed826a6.png)'
  prefs: []
  type: TYPE_IMG
- en: Copy the API key and set it as an environment variable. We are using Deepnote
    and it is quite easy for us to set the key with the name “GEMINI_API_KEY”. Just
    go to the integration, scroll down and select environment variables.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/211885313dd897964867b4e345baedb6.png)'
  prefs: []
  type: TYPE_IMG
- en: 'In the next step, we will instal the Python API using PIP:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: After that, we will set the API key to Google’s GenAI and initiate the instance.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Using Gemini Pro
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: After setting up the API key, using the Gemini Pro model to generate content
    is simple. Provide a prompt to the `generate_content` function and display the
    output as Markdown.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: This is amazing, but I don't agree with the list. However, I understand that
    it's all about personal preference.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/29a90b435e01c603bd381d1c87615647.png)'
  prefs: []
  type: TYPE_IMG
- en: Gemini can generate multiple responses, called candidates, for a single prompt.
    You can select the most suitable one. In our case, we had only one respons.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '![How to Access and Use Gemini API for Free](../Images/297249ffd40b46e3f599c5f4a2937df2.png)'
  prefs: []
  type: TYPE_IMG
- en: Let’s ask it to write a simple game in Python.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: The result is simple and to the point. Most LLMs start to explain the Python
    code instead of writing it.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/adb9360ce4ef7c82542bc3aedc02036c.png)'
  prefs: []
  type: TYPE_IMG
- en: Configuring the Response
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can customize your response using the `generation_config` argument. We are
    limiting candidate count to 1, adding the stop word "space," and setting max tokens
    and temperature.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: As you can see, the response stopped before the word “space”. Amazing.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/118789bb4eecdc7335277a1502d5a383.png)'
  prefs: []
  type: TYPE_IMG
- en: Streaming Response
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can also use the `stream` argument to stream the response. It is similar
    to the Anthropic and OpenAI APIs but faster.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '![How to Access and Use Gemini API for Free](../Images/8cb91227d0354c3e6e3969c6c7d423f4.png)'
  prefs: []
  type: TYPE_IMG
- en: Using Gemini Pro Vision
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will load [Masood Aslami's](https://www.google.com/url?q=https://www.pexels.com/photo/historical-arch-on-city-square-17165178/&sa=D&source=editors&ust=1702928279680636&usg=AOvVaw3rYreQ3Wheo4Kdc-lrqrBN) photo
    and use it to test the multimodality of Gemini Pro Vision.
  prefs: []
  type: TYPE_NORMAL
- en: Load the images to the `PIL` and display it.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: We have a high quality photo of Rua Augusta Arch.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/e9f10f46a46fff3ebc649790f05c1e5a.png)'
  prefs: []
  type: TYPE_IMG
- en: Let’s load the Gemini Pro Vision model and provide it with the image.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: The model accurately identified the palace and provided additional information
    about its history and architecture.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/3f2af91a469ded92363560cd0d9693db.png)'
  prefs: []
  type: TYPE_IMG
- en: Let’s provide the same image to the GPT-4 and ask it about the image. Both models
    have provided almost similar answers. But I like the GPT-4 response more.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/c52c0e587cf6d2e03ef7cc1d9d670ad5.png)'
  prefs: []
  type: TYPE_IMG
- en: We will now provide text and the image to the API. We have asked the vision
    model to write a travel blog using the image as reference.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: It has provided me with a short blog. I was expecting longer format.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/d6ac4064ce0e97d1d1cac47de2522193.png)'
  prefs: []
  type: TYPE_IMG
- en: Compared to GPT-4, the Gemini Pro Vision model has struggled to generate a long-format
    blog.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/9e6a643723b4788ba4fc023a75b80404.png)'
  prefs: []
  type: TYPE_IMG
- en: Chat Conversations Session
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We can set up the model to have a back-and-forth chat session. This way, the
    model remembers the context and response using the previous conversations.
  prefs: []
  type: TYPE_NORMAL
- en: In our case, we have started the chat session and asked the model to help me
    get started with the Dota 2 game.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: As you can see, the `chat` object is saving the history of the user and mode
    chat.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/0dc90660710b448d113b095668d73ec5.png)'
  prefs: []
  type: TYPE_IMG
- en: We can also display them in a Markdown style.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: '![How to Access and Use Gemini API for Free](../Images/1ef433e98e925aaaba9abb7c131f78a4.png)'
  prefs: []
  type: TYPE_IMG
- en: Let’s ask the follow up question.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: We can scroll down and see the entire session with the model.
  prefs: []
  type: TYPE_NORMAL
- en: '![How to Access and Use Gemini API for Free](../Images/4eda98827a5536ec79c4b0b5283c0955.png)'
  prefs: []
  type: TYPE_IMG
- en: Using Embeddings
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Embedding models are becoming increasingly popular for context-aware applications.
    The Gemini embedding-001 model allows words, sentences, or entire documents to
    be represented as dense vectors that encode semantic meaning. This vector representation
    makes it possible to easily compare the similarity between different pieces of
    text by comparing their corresponding embedding vectors.
  prefs: []
  type: TYPE_NORMAL
- en: We can provide the content to `embed_content` and convert the text into embeddings.
    It is that simple.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: We can convert multiple chunks of text into embeddings by passing a list of
    strings to the 'content' argument.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: If you're having trouble reproducing the same result, check out my [Deepnote
    workspace](https://www.google.com/url?q=https://deepnote.com/workspace/abid-5efa63e7-7029-4c3e-996f-40e8f1acba6f/project/How-to-Access-and-Use-Gemini-API-55818013-847a-46c6-ac51-9c814955f5cd/notebook/Notebook%25201-af572259a2374c39a21eb31a63dc23a7&sa=D&source=editors&ust=1702928279692090&usg=AOvVaw1X3t5ErX91gPhkC6UcqvfW).
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'There are so many advanced functions that we didn''t cover in this introductory
    tutorial. You can learn more about the Gemini API by going to the [Gemini API:
    Quickstart with Python](https://www.google.com/url?q=https://ai.google.dev/tutorials/python_quickstart%23generate_text_from_text_inputs&sa=D&source=editors&ust=1702928279692923&usg=AOvVaw3qwfMggQe6PvEDm5hWt7as).'
  prefs: []
  type: TYPE_NORMAL
- en: In this tutorial, we have learned about Gemini and how to access the Python
    API to generate responses. In particular, we have learned about text generation,
    visual understanding, streaming, conversation history, custom output, and embeddings.
    However, this just scratches the surface of what Gemini can do.
  prefs: []
  type: TYPE_NORMAL
- en: Feel free to share with me what you have built using the free Gemini API. The
    possibilities are limitless.
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://www.polywork.com/kingabzpro)****[Abid Ali Awan](https://www.polywork.com/kingabzpro)****
    ([@1abidaliawan](https://www.linkedin.com/in/1abidaliawan)) is a certified data
    scientist professional who loves building machine learning models. Currently,
    he is focusing on content creation and writing technical blogs on machine learning
    and data science technologies. Abid holds a Master''s degree in technology management
    and a bachelor''s degree in telecommunication engineering. His vision is to build
    an AI product using a graph neural network for students struggling with mental
    illness.'
  prefs: []
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Free ChatGPT Course: Use The OpenAI API to Code 5 Projects](https://www.kdnuggets.com/2023/05/free-chatgpt-course-openai-api-code-5-projects.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[15 Trending MLOps Talks You can Access for Free at ODSC East 2022](https://www.kdnuggets.com/2022/04/odsc-15-trending-mlops-talks-access-free-odsc-east-2022.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Hone Your Data Skills With Free Access to DataCamp](https://www.kdnuggets.com/2022/07/datacamp-hone-data-skills-free-access-datacamp.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[3 Ways to Access GPT-4 for Free](https://www.kdnuggets.com/2023/05/3-ways-access-gpt4-free.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[3 Ways to Access Claude AI for Free](https://www.kdnuggets.com/2023/06/3-ways-access-claude-ai-free.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[365 Data Science Offers Free Course Access Until Nov. 20](https://www.kdnuggets.com/2023/11/365datascience-offers-free-course-access-nov-20)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
