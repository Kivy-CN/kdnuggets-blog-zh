- en: 'TabPy: Combining Python and Tableau'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2020/11/tabpy-combining-python-tableau.html](https://www.kdnuggets.com/2020/11/tabpy-combining-python-tableau.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[comments](#comments)'
  prefs: []
  type: TYPE_NORMAL
- en: '**By [Bima Putra Pratama](https://www.linkedin.com/in/bpratama/), Data Scientist**'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure](../Images/dc2de77e9bef8f0d902832064d474061.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Paweł Czerwiński](https://unsplash.com/@pawel_czerwinski?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Can we integrate the power of Python calculation with a Tableau?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: That question was encourage me to start exploring the possibility of using Python
    calculation in Tableau, and I ended up with a TabPy.
  prefs: []
  type: TYPE_NORMAL
- en: So, What is TabPy? How can we use TabPy to integrating Python and Tableau?
  prefs: []
  type: TYPE_NORMAL
- en: In this article, I will introduce TabPy and go through an example of how we
    can use it.
  prefs: []
  type: TYPE_NORMAL
- en: TabPy Introduction
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: TabPy is an Analytics Extension from Tableau which enables us as a user to execute
    Python scripts and saved functions using Tableau. Using TabPy, Tableau can run
    Python script on the fly and display the results as a Visualization. Users can
    control data being sent to TabPy by interacting in their Tableau worksheet, dashboard,
    or stories using parameters.
  prefs: []
  type: TYPE_NORMAL
- en: 'You can read more about TabPy in the official Github Repository:'
  prefs: []
  type: TYPE_NORMAL
- en: '[**tableau/TabPy**](https://github.com/tableau/TabPy)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Execute Python code on the fly and display results in Tableau visualizations:
    — tableau/TabPy'
  prefs: []
  type: TYPE_NORMAL
- en: Installing TabPy
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: I assume you already have Python installed in your system. If you don’t, you
    can install it first by going to [https://www.python.org/](https://www.python.org/) to
    download the python installation. Then you can install it in your system.
  prefs: []
  type: TYPE_NORMAL
- en: Next, we can install TabPy as a python package by using `pip:`
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Running TabPy
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Once the installation success, we can run the services using the following
    command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'If all goes well, you should see this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure](../Images/ab8b34bfcdb8426fa555d8ec9a19546f.png)'
  prefs: []
  type: TYPE_IMG
- en: Running TabPy. Image by Author
  prefs: []
  type: TYPE_NORMAL
- en: By default, this service will be running in your localhost on port 9004\. You
    can also verify it by open it in your web browser.
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure](../Images/3be3c2059c86951c7ae6642b4234620c.png)'
  prefs: []
  type: TYPE_IMG
- en: TabPy Server Info. Image by Author
  prefs: []
  type: TYPE_NORMAL
- en: Enabling TabPy
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Now, let’s go to our Tableau and set up the service. I am using Tableau Desktop
    version 2020.3.0\. However, there will be no difference in the previous version
    as well.
  prefs: []
  type: TYPE_NORMAL
- en: First, go to Help, then choose Settings and Performance and select Manage Analytics
    Extension Connection.
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure](../Images/9cfd78eab5453144b0730e961abb52ff.png)'
  prefs: []
  type: TYPE_IMG
- en: Analytics Extension Connection Location. Image by Author
  prefs: []
  type: TYPE_NORMAL
- en: Then, you can set up the Server and Port. You can leave Sign in with a username
    and password blank, as we don’t set up credentials in our TabPy service.
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/bb84074d1b51461854ca44226823c119.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Once done, click the Test Connection. If successful, you will see this message:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image for post](../Images/b19f3e6607f69db6d5134978280a4c92.png)'
  prefs: []
  type: TYPE_IMG
- en: Congratulations!! Now, our Tableau is already connected with TabPy and ready
    to use.
  prefs: []
  type: TYPE_NORMAL
- en: Using TabPy
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'There are two ways that we can use to do Python calculation:'
  prefs: []
  type: TYPE_NORMAL
- en: Write code directly as Tableau calculated fields. The code then will be immediately
    executed on the fly in the TabPy server.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Deploy a function into the TabPy server that can be reachable as a REST API
    endpoint.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In this article, I will only show how to do the first method, which we will
    write code directly as Tableau calculated fields.
  prefs: []
  type: TYPE_NORMAL
- en: As an example, we will perform clustering to the Airbnb dataset that publicly
    available through the Tableau site, and you can download it using this [link](https://public.tableau.com/s/sites/default/files/media/airbnb.xlsx).
    We will cluster each zipcode based on their housing characteristics using several
    popular clustering algorithms.
  prefs: []
  type: TYPE_NORMAL
- en: Step 1 Importing Data
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: In the first step, let’s import our data set to Tableau. This dataset has 13
    columns.
  prefs: []
  type: TYPE_NORMAL
- en: '![Image for post](../Images/b1d4251b482aba8e86c76f41f4f6848a.png)'
  prefs: []
  type: TYPE_IMG
- en: 'As our primary goal is to see how we use TabPy, We will not focus on making
    the best possible model. Thus, we will only use the following variables in this
    dataset to perform clustering:'
  prefs: []
  type: TYPE_NORMAL
- en: The median number of beds in each zip code
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The average price in each zip code
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The median number of ratings in each zip code
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Step 2 Create Control Parameters
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'We need to create two parameters that will be used to select our clustering
    method and number of clusters, which are:'
  prefs: []
  type: TYPE_NORMAL
- en: Cluster Numbers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Clustering Algorithm
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Figure](../Images/6e54542429fba748663c77aabc5efa70.png)'
  prefs: []
  type: TYPE_IMG
- en: Create a Parameter. Image by Author![Figure](../Images/676700ef0efa7175f9f820d5a85ee722.png)
  prefs: []
  type: TYPE_NORMAL
- en: Cluster Numbers Parameter. Image by Author![Figure](../Images/33b18767e8e05e275e8e801d8e0858ec.png)
  prefs: []
  type: TYPE_NORMAL
- en: Clustering Algorithm Parameter. Image by Author
  prefs: []
  type: TYPE_NORMAL
- en: Step 3 Create a Script
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We will create a python script as a calculated field in Tableau.
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure](../Images/06437ed4d6fa8b419f050ca6259b0be3.png)'
  prefs: []
  type: TYPE_IMG
- en: Create a calculated field. Image by Author
  prefs: []
  type: TYPE_NORMAL
- en: You can then insert the following script in a calculated field.
  prefs: []
  type: TYPE_NORMAL
- en: 'This code is wrapped in SCRIPT_REAL() function from Tableau and will do the
    following:'
  prefs: []
  type: TYPE_NORMAL
- en: Import required Python libraries.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scaling features with Standard Scaler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Combine Scaled Features and handling null values
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Conditional to check which algorithm to use and do the following
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Return clustering results as a list.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Then we will convert the results into String data type to make it as categorical
    data.
  prefs: []
  type: TYPE_NORMAL
- en: One more thing to notice is we need to do the Table Calculation in Zipcode.
    So we need to change the Default Table Calculation to Zipcode to make this code
    works.
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure](../Images/c425d8e4b0e2673168c7fc1d3a58abad.png)'
  prefs: []
  type: TYPE_IMG
- en: Change Default Table Calculation. Image by Author.
  prefs: []
  type: TYPE_NORMAL
- en: Step 4 Visualize Results
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Now, it’s time to visualize the results. I use a Zipcode to create a Map to
    visualize the clustering results. We can use the parameter to change the number
    of clusters.
  prefs: []
  type: TYPE_NORMAL
- en: '![Image for post](../Images/2b19b10cee99f14a36d9f090ccf2e3ab.png)'
  prefs: []
  type: TYPE_IMG
- en: Wrap Up
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![Figure](../Images/5a6978eefe828154ada5036eacca7d95.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Elisha Terada](https://unsplash.com/@elishaterada?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: Let’s celebrate coming up to this point! If you follow the step, you have been
    successfully integrating Python and Tableau. This integration is a beginning step
    for a more advanced use case using Tableau and Python.
  prefs: []
  type: TYPE_NORMAL
- en: I’m looking forward to seeing what you build with this integration!
  prefs: []
  type: TYPE_NORMAL
- en: About the Author
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**[Bima Putra Pratama](https://www.linkedin.com/in/bpratama/)** is a Data Scientist
    with Tableau Desktop Specialist Certification, who always eager to expand his
    knowledge and skills. He was graduated as a Mining Engineer and began his Data
    Science journey through various online programs from HardvardX, IBM, Udacity,
    etc. Currently, he is making impacts together with DANA Indonesia in building
    a cashless society in Indonesia.'
  prefs: []
  type: TYPE_NORMAL
- en: If you have any feedback or any topics to be discussed, please reach out to
    Bima via [LinkedIn](https://www.linkedin.com/in/bpratama/). I’m happy to connect
    with you!
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[https://tableaumagic.com/tableau-and-python-an-introduction/](https://tableaumagic.com/tableau-and-python-an-introduction/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://github.com/tableau/TabPy](https://github.com/tableau/TabPy)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://public.tableau.com/en-us/s/resources](https://public.tableau.com/en-us/s/resources)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://www.tableau.com/about/blog/2017/1/building-advanced-analytics-applications-tabpy-64916](https://www.tableau.com/about/blog/2017/1/building-advanced-analytics-applications-tabpy-64916)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://www.tableau.com/about/blog/2016/11/leverage-power-python-tableau-tabpy-62077](https://www.tableau.com/about/blog/2016/11/leverage-power-python-tableau-tabpy-62077)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://towardsdatascience.com/tableau-python-tabpy-and-geographical-clustering-219b0583ded3](https://towardsdatascience.com/tableau-python-tabpy-and-geographical-clustering-219b0583ded3)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Original](https://towardsdatascience.com/tabpy-combining-python-and-tableau-511b10da8175).
    Reposted with permission.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Related:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[Creating Powerful Animated Visualizations in Tableau](/2020/09/creating-powerful-animated-visualizations-tableau.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Comparing the Top Business Intelligence Tools: Power BI vs Tableau vs Qlik
    vs Domo](/2020/10/comparing-top-business-intelligence-tools.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Introduction to Geographical Time Series Prediction with Crime Data in R,
    SQL, and Tableau](/2020/02/introduction-geographical-time-series-crime-r-sql-tableau.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Write Clean Python Code Using Pipes](https://www.kdnuggets.com/2021/12/write-clean-python-code-pipes.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Building a solid data team](https://www.kdnuggets.com/2021/12/build-solid-data-team.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[What Makes Python An Ideal Programming Language For Startups](https://www.kdnuggets.com/2021/12/makes-python-ideal-programming-language-startups.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Three R Libraries Every Data Scientist Should Know (Even if You Use Python)](https://www.kdnuggets.com/2021/12/three-r-libraries-every-data-scientist-know-even-python.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Stop Learning Data Science to Find Purpose and Find Purpose to…](https://www.kdnuggets.com/2021/12/stop-learning-data-science-find-purpose.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[5 Key Skills Needed To Become a Great Data Scientist](https://www.kdnuggets.com/2021/12/5-key-skills-needed-become-great-data-scientist.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
