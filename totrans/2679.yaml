- en: Change the Background of Any Image with 5 Lines of Code
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2020/11/change-background-image-5-lines-code.html](https://www.kdnuggets.com/2020/11/change-background-image-5-lines-code.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[comments](#comments)'
  prefs: []
  type: TYPE_NORMAL
- en: '**By [Ayoola Olafenwa](https://www.linkedin.com/in/ayoola-olafenwa-003b901a9/),
    Independent AI Researcher**'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure](../Images/38515998ac57f5eee4ba4a5aca43b7d3.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo Collage by Author
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Image segmentation has a lot of amazing applications that solve different computer
    vision problems. PixelLib is a library created to ensure easy integration of image
    segmentation in real life applications. PixelLib now supports a feature known
    as *image tuning.*
  prefs: []
  type: TYPE_NORMAL
- en: '**Image Tuning**: It is the change in the background of an image through image
    segmentation. The key role of image segmentation is to remove the objects segmented
    from the image and place them in the new background created. This is done by producing
    a mask for the image and combining it with the modified background. We make use of
    deeplabv3+ model trained on pascalvoc dataset. The model supports 20 common object
    categories, which means you can change the background of these objects in images.'
  prefs: []
  type: TYPE_NORMAL
- en: The model supports the following objects listed below;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '*Background effects supported are:*'
  prefs: []
  type: TYPE_NORMAL
- en: '**1** Changing the background of an image with a picture'
  prefs: []
  type: TYPE_NORMAL
- en: '**2** Assigning a distinct color to the background of an image.'
  prefs: []
  type: TYPE_NORMAL
- en: '**3** Blurring the background of an image'
  prefs: []
  type: TYPE_NORMAL
- en: '**4** Grayscaling the background of an image'
  prefs: []
  type: TYPE_NORMAL
- en: 'Install PixelLib and its dependencies:'
  prefs: []
  type: TYPE_NORMAL
- en: Install Tensorflow with:(PixelLib supports tensorflow 2.0 and above)
  prefs: []
  type: TYPE_NORMAL
- en: '*pip3 install tensorflow*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Install PixelLib with
  prefs: []
  type: TYPE_NORMAL
- en: pip3 install pixellib
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'If installed, upgrade to the latest version using:'
  prefs: []
  type: TYPE_NORMAL
- en: pip3 install pixellib — upgrade
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Change the background of an image with a picture**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: PixelLib makes it possible to change the background of any image with a picture
    with just 5 lines of code.
  prefs: []
  type: TYPE_NORMAL
- en: '***sample.jpg***'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure](../Images/9cb4a915a796572f6a6dd0110321f946.png)'
  prefs: []
  type: TYPE_IMG
- en: Source: [Unsplash.com by Leighann Blackwoo](https://unsplash.com/photos/nRVMVZvy6mo)
  prefs: []
  type: TYPE_NORMAL
- en: We want to change the background of the image above with the image provided
    below.
  prefs: []
  type: TYPE_NORMAL
- en: '***background.jpg***'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure](../Images/9c5016861bdf4d0e608c01f520fb00e7.png)'
  prefs: []
  type: TYPE_IMG
- en: Source: [Unsplash.com by Dawid Zawila](https://unsplash.com/photos/9P2-bzjvIHk)
  prefs: []
  type: TYPE_NORMAL
- en: '*Code to change the background of an image with a picture*'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: We imported pixellib, and from pixellib, we imported in the class *alter_bg*.
    We created an instance of the class.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: We loaded deeplabv3+ model. Download deeplabv3+ pascalvoc model from [here](https://github.com/ayoolaolafenwa/PixelLib/releases/download/1.1/deeplabv3_xception_tf_dim_ordering_tf_kernels.h5).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: We called the function *change_bg_img* that handled changing the background
    of the image with a picture.
  prefs: []
  type: TYPE_NORMAL
- en: 'The function takes the following parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '*f_image_path*: This is the foreground image, the image which background would
    be changed.'
  prefs: []
  type: TYPE_NORMAL
- en: '*b_image_path*: This is the image that will be used to change the background
    of the foreground image.'
  prefs: []
  type: TYPE_NORMAL
- en: '*output_image_name*: The new image with a changed background.'
  prefs: []
  type: TYPE_NORMAL
- en: '***output Image***'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image for post](../Images/012617613c0220817884933b5f80812e.png)'
  prefs: []
  type: TYPE_IMG
- en: WOW! This is beautiful, we have successfully replaced the background of our
    image.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: We are able to use PixelLib to perform excellent foreground and background subtraction
    through image segmentation.
  prefs: []
  type: TYPE_NORMAL
- en: '*Code to Obtain output array of the changed image array*'
  prefs: []
  type: TYPE_NORMAL
- en: For specialized uses, you can easily obtain the array of the changed image with
    the modified code below.
  prefs: []
  type: TYPE_NORMAL
- en: '**Assign a distinct color to the background of an image**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can assign a distinct color to the background of your image, just the way
    you are able to change the background of an image with a picture. This is also
    possible with five lines of code.
  prefs: []
  type: TYPE_NORMAL
- en: '*Code to assign a distinct color to the background of an image*'
  prefs: []
  type: TYPE_NORMAL
- en: It is very similar to the code used above for changing the background of an
    image with a picture. The only difference is that we replaced the function *change_bg_img* to *color_bg*,
    the function that handled color change.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: The function *color_bg *takes the parameter *colors* and we provide the RGB
    value of the color we want to use. We want the image to have a green background
    and the color’s RGB value is set to green which is *(0, 128, 0)*.
  prefs: []
  type: TYPE_NORMAL
- en: '***green background***'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image for post](../Images/c0ebebee08ecb2cb60bcdeaddc54c229.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Note:** You can assign any color to the background of your image by providing
    the RGB value of the color**.**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: We want to change the background of the image to *white* and set color’s RGB
    value to white which is *(255,255,255).*
  prefs: []
  type: TYPE_NORMAL
- en: '***white background***'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/80fc8571372c7acb74f8d79a4da939ce.png)'
  prefs: []
  type: TYPE_IMG
- en: The same image with a white background.
  prefs: []
  type: TYPE_NORMAL
- en: '*Code to Obtain output array of the colored image*'
  prefs: []
  type: TYPE_NORMAL
- en: For specialized uses, you can easily obtain the array of the changed image with
    the modified code below.
  prefs: []
  type: TYPE_NORMAL
- en: '**Grayscale the background of an image**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Grayscale the background of any image using the same lines of code with PixelLib.
  prefs: []
  type: TYPE_NORMAL
- en: '*Code to grayscale the background of an image*'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: It is still the same code except we called the function *gray_bg* to grayscale
    the background of the image.
  prefs: []
  type: TYPE_NORMAL
- en: '***output image***'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/763baa93f343c2e8b1b9fb768e3e8c3c.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Note:** The background of the image would be altered and the objects present
    would maintain their original quality.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Code to Obtain output array of the grayed image*'
  prefs: []
  type: TYPE_NORMAL
- en: '**Blur Image Background**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can apply the effect of blurring the background of an image, and it is possible
    to control how blur the background will be.
  prefs: []
  type: TYPE_NORMAL
- en: '***sample2.jpg***'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure](../Images/1c5fa8b203a9d001b56b1565d53dca74.png)'
  prefs: []
  type: TYPE_IMG
- en: Source: [Unsplash.com by Airella Horvath](https://unsplash.com/photos/V4jPefMoo3E)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: We called the function *blur_bg* to blur the background of the image, and set
    the blurred effect to be low. There are three parameters that determine the degree
    to which the background is blurred.
  prefs: []
  type: TYPE_NORMAL
- en: '*low:* When it is set to true, the background is blurred slightly.'
  prefs: []
  type: TYPE_NORMAL
- en: '*moderate:* When it is set to true, the background is moderately blurred.'
  prefs: []
  type: TYPE_NORMAL
- en: '*extreme:* When it is set to true, the background is deeply blurred.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/08ed37a3b1414351c86e83205c3f097b.png)'
  prefs: []
  type: TYPE_IMG
- en: The image is blurred with a low effect.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: We want to moderately blur the background of the image, and we set *moderate* to *true*.
  prefs: []
  type: TYPE_NORMAL
- en: '![Image for post](../Images/7a440303d6f21e2fa0fdd361614a2416.png)'
  prefs: []
  type: TYPE_IMG
- en: The image’s background is blurred with a moderate effect.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: We want to deeply blurred the background of the image, and we set *extreme *to *true*.
  prefs: []
  type: TYPE_NORMAL
- en: '![Image for post](../Images/6a18b9119b67043398b0bebd2bee1e2b.png)'
  prefs: []
  type: TYPE_IMG
- en: The image’s background is extremely blurred.
  prefs: []
  type: TYPE_NORMAL
- en: '*Full code to blur the background of an image*'
  prefs: []
  type: TYPE_NORMAL
- en: '*Code to Obtain output array of the blurred image*'
  prefs: []
  type: TYPE_NORMAL
- en: '**Note: **Learn how to apply these background effects to videos and camera’s
    feeds on [PixelLib’s github’s repository](https://github.com/ayoolaolafenwa/PixelLib) and [PixelLib’s
    documentation.](https://pixellib.readthedocs.io/en/latest/) I will publish an
    explanatory article on how to apply these background effects to videos and camera’s
    feeds soon.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Reach to me via:'
  prefs: []
  type: TYPE_NORMAL
- en: Email: [olafenwaayoola@gmail.com](https://mail.google.com/mail/u/0/#inbox)
  prefs: []
  type: TYPE_NORMAL
- en: Linkedin: [Ayoola Olafenwa](https://www.linkedin.com/in/ayoola-olafenwa-003b901a9/)
  prefs: []
  type: TYPE_NORMAL
- en: Twitter: [@AyoolaOlafenwa](https://twitter.com/AyoolaOlafenwa)
  prefs: []
  type: TYPE_NORMAL
- en: Facebook: [Ayoola Olafenwa](https://web.facebook.com/ayofen)
  prefs: []
  type: TYPE_NORMAL
- en: Check out these articles written on how to make use of PixelLib for semantic
    and instance segmentation of objects in images and videos.
  prefs: []
  type: TYPE_NORMAL
- en: '[**Image Segmentation With 5 Lines of Code**](https://towardsdatascience.com/image-segmentation-with-six-lines-0f-code-acb870a462e8)'
  prefs: []
  type: TYPE_NORMAL
- en: Semantic and Instance Segmentation with PixelLib.
  prefs: []
  type: TYPE_NORMAL
- en: '[**Video Segmentation With 5 Lines of Code**](https://towardsdatascience.com/video-segmentation-with-5-lines-of-code-87f798afb93)'
  prefs: []
  type: TYPE_NORMAL
- en: Semantic and instance segmentation of videos.
  prefs: []
  type: TYPE_NORMAL
- en: '[**Semantic Segmentation of 150 classes of objects With 5 Lines of Code**](https://towardsdatascience.com/semantic-segmentation-of-150-classes-of-objects-with-5-lines-of-code-7f244fa96b6c)'
  prefs: []
  type: TYPE_NORMAL
- en: Semantic segmentation of 150 classes of objects with PixelLib
  prefs: []
  type: TYPE_NORMAL
- en: '[**Custom Instance Segmentation Training With 7 Lines Of Code.**](https://towardsdatascience.com/custom-instance-segmentation-training-with-7-lines-of-code-ff340851e99b)'
  prefs: []
  type: TYPE_NORMAL
- en: Train your dataset with 7 Lines of Code to implement instance segmentation and
    object detection.
  prefs: []
  type: TYPE_NORMAL
- en: '**Bio: [Ayoola Olafenwa](https://www.linkedin.com/in/ayoola-olafenwa-003b901a9/)**
    is an independent AI Researcher who specializes in the field of computer vision.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Original](https://towardsdatascience.com/change-the-background-of-any-image-with-5-lines-of-code-23a0ef10ce9a).
    Reposted with permission.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Related:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[Easy Image Dataset Augmentation with TensorFlow](/2020/02/easy-image-dataset-augmentation-tensorflow.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Auto Rotate Images Using Deep Learning](/2020/07/auto-rotate-images-deep-learning.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Roadmap to Computer Vision](/2020/10/roadmap-computer-vision.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Introduction to NExT-GPT: Any-to-Any Multimodal Large Language Model](https://www.kdnuggets.com/introduction-to-nextgpt-anytoany-multimodal-large-language-model)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Multi-modal deep learning in less than 15 lines of code](https://www.kdnuggets.com/2023/01/predibase-multi-modal-deep-learning-less-15-lines-code.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[How to Transition into Data Science from a Different Background?](https://www.kdnuggets.com/2023/05/transition-data-science-different-background.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[SHAP: Explain Any Machine Learning Model in Python](https://www.kdnuggets.com/2022/11/shap-explain-machine-learning-model-python.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[How to Get Your First Job in Data Science without Any Work Experience](https://www.kdnuggets.com/2021/02/first-job-data-science-without-work-experience.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Read This Before You Take Any Free Data Science Course](https://www.kdnuggets.com/read-this-before-you-take-any-free-data-science-course)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
