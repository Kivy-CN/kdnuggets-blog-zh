# R编程入门

> 原文：[https://www.kdnuggets.com/2020/02/getting-started-r-programming.html](https://www.kdnuggets.com/2020/02/getting-started-r-programming.html)

[评论](#comments)![图](../Images/b23425b89953de1146ba67ea9a4aca09.png)

(来源: [https://hackernoon.com/5-free-r-programming-courses-for-data-scientists-and-ml-programmers-5732cb9e10](https://hackernoon.com/5-free-r-programming-courses-for-data-scientists-and-ml-programmers-5732cb9e10))

### 介绍

* * *

## 我们的前三大课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [谷歌网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业领域。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [谷歌数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [谷歌IT支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你的组织在IT领域

* * *

R是一种专注于统计和图形分析的编程语言。因此，它常用于统计推断、数据分析和机器学习。R目前是数据科学就业市场上需求最多的编程语言之一（见图1）。

![图](../Images/1bd678ec36f53501875e969512b39919.png)

图1：2019年数据科学中最受欢迎的编程语言 [1]

R可以从 [r-project.org](http://www.r-project.org/) 安装，R最常用的集成开发环境（IDE）之一无疑是 [RStudio](http://www.rstudio.com/ide/)。

有两种主要类型的包（库）可以用来为R添加功能：基础包和分发包。基础包在R的安装中自带，而分发包则可以通过 [CRAN](https://cran.r-project.org/web/packages/available_packages_by_date.html) 免费下载。

安装R后，我们可以开始进行数据分析！

### 演示

在这个示例中，我将引导你完成从头到尾的分析过程，使用 [移动价格分类数据集](https://www.kaggle.com/iabhishekofficial/mobile-price-classification#train.csv)来预测手机的价格范围。我用于此演示的代码在我的 [GitHub](https://github.com/pierpaolo28/R-Programming/blob/master/Smartphone%20Prices/workflow.r) 和 [Kaggle](https://www.kaggle.com/pierpaolo28/mobile-price-classification?scriptVersionId=20002929) 账户上都有。

### 导入库

首先，我们需要导入所有必要的库。

可以使用***install.packages()***命令在 R 中安装包，然后使用***library()***命令加载。在这种情况下，我决定先安装 PACMAN（包管理工具），然后使用它安装和加载所有其他包。PACMAN 使得加载库变得更容易，因为它可以在一行代码中安装和加载所有必要的库。

导入的包用于添加以下功能：

+   **dplyr: **数据处理和分析。

+   **ggplot2: **数据可视化。

+   **rio: **数据导入和导出。

+   **gridExtra: **用于将图形对象自由排列在页面上。

+   **scales: **用于在图表中缩放数据。

+   **ggcorrplot: **使用 ggplot2 在后台可视化相关性矩阵。

+   **caret: **用于训练和绘制分类和回归模型。

+   **e1071: **包含执行机器学习算法（如支持向量机、朴素贝叶斯等）的函数。

### 数据预处理

我们现在可以继续加载数据集，显示其前 5 列（图 2），并打印每个特征的主要特征摘要（图 3）。在 R 中，我们可以使用***<-***运算符创建新对象。

![图示](../Images/4de504e06b6cfe11a8003c4329cd6930.png)

图 2: 数据集头部

summary 函数为我们提供了数据集中每个特征的简要统计描述。根据考虑的特征的性质，将提供不同的统计信息：

+   **数值特征: **均值、中位数、众数、范围和四分位数。

+   **因子特征: **频率。

+   **因子和数值特征的混合: **缺失值的数量。

+   **字符特征: **类的长度。

因子（Factors）是一种用于在 R 中对数据进行分类和存储的数据对象（例如，整数或字符串）。它们可以用于对特征进行独热编码或创建柱状图（如稍后所示）。因此，当处理具有少量唯一值的列时，它们尤其有用。

![图示](../Images/265a40e3cd7d6d8ab45e779d4f86b00d.png)

图 3: 数据集摘要

最后，我们现在可以使用下面的代码检查数据集中是否包含任何非数值（NaN）值。

从图 4 中可以看出，没有发现缺失的数字。

![图示](../Images/c1ef50d30590df241f0da6073b8f4d8c.png)

图 4: 每个特征中的 NaN 百分比

### 数据可视化

我们现在可以通过绘制数据集的相关性矩阵来开始数据可视化（图 5）。

![图示](../Images/5941d88f1e49b5aa04274eee2f598e7b.png)

图 5: 相关性矩阵

接下来，我们可以开始使用柱状图和箱线图分析各个特征。在创建这些图之前，我们需要先将考虑的特征从数值型转换为因子（这允许我们对数据进行分箱，然后绘制分箱后的数据）。

我们现在可以通过将 3 个条形图存储在不同的变量（p1、p2、p3）中，然后将它们添加到***grid.arrange()***中以创建子图。在这种情况下，我决定检查蓝牙、双 SIM 和 4G 功能。从图 6 中可以看出，数据集中所考虑的大多数手机不支持蓝牙，支持双 SIM，并且支持 4G。

![图](../Images/5c7857d36656f0411828d794611b6cdd.png)

图 6：条形图分析

这些图表是使用 R 的***ggplot2***库创建的。当调用***ggplot()***函数时，我们创建了一个坐标系统，可以在其上添加图层[2]。

我们传递给***ggplot()***函数的第一个参数是我们要使用的数据集，第二个参数是美学函数，在其中我们定义了要绘制的变量。然后我们可以继续添加其他附加参数，例如定义所需的几何函数（例如条形图、散点图、箱型图、直方图等），添加图形主题、轴限制、标签等……

进一步分析，我们现在可以使用***prop.table()***函数计算不同情况下差异的精确百分比。从结果输出（图 7）可以看出，考虑的手机设备中 50.5% 不支持蓝牙，50.9% 支持双 SIM，52.1% 支持 4G。

![图](../Images/a1112a1877a0974f5924c904af00a63c.png)

图 7：类别分布百分比

我们现在可以使用之前使用的相同技术创建 3 个不同的箱型图。在这种情况下，我决定检查电池电量、手机重量和 RAM（随机存取存储器）如何影响手机价格。在这个数据集中，我们没有实际的手机价格，而是一个价格范围，表示价格的高低（从 0 到 3 的四个不同级别）。

结果总结在图 8 中。电池电量和 RAM 的增加会持续导致价格的增加。相反，更昂贵的手机似乎整体上更轻便。在 RAM 与价格范围的图表中，有趣的是在整体分布中注册了一些异常值。

![图](../Images/f5a82ae64bee46558167b3e1c31e18de.png)

图 8：箱型图分析

最后，我们将检查前置摄像头和主摄像头的像素质量分布（图 9）。有趣的是，前置摄像头的分布似乎遵循指数衰减分布，而主摄像头大致遵循均匀分布。如果你有兴趣了解更多关于概率分布的信息，可以在[这里](https://towardsdatascience.com/probability-distributions-in-data-science-cce6e64873a7)找到更多信息。

![图](../Images/94cc485ebbe1ca6f3489e65ce5c72298.png)

图 9：直方图分析

### 机器学习

为了进行机器学习分析，我们首先需要将因子变量转换为数值形式，然后将数据集分成训练集和测试集（75:25 比例）。最后，我们将训练集和测试集划分为特征和标签（***price_range***）。

现在是训练我们机器学习模型的时候了。在这个例子中，我决定使用 [支持向量机（SVM）](https://towardsdatascience.com/svm-feature-selection-and-kernels-840781cc1a6c) 作为我们的多类分类器。使用 R 的 ***summary()***，我们可以检查我们训练模型的参数（图 10）。

![Figure](../Images/692dc11b987d1aaadc3191666ee25394.png)

图 10：机器学习模型总结

最后，我们现在可以通过对测试集进行一些预测来测试我们的模型。使用 R 的 ***confusionMatrix()*** 函数，我们可以得到一个完整的模型准确度报告（图 11）。在这种情况下，记录的准确度为 96.6%。

![Figure](../Images/45304fd38f5ac9e14fe094ff510a19d2.png)

图 11：模型准确度报告

*希望你喜欢这篇文章，谢谢阅读！*

### 联系方式

如果你想及时了解我最新的文章和项目，可以 [关注我在 Medium](https://medium.com/@pierpaoloippolito28?source=post_page---------------------------) 并订阅我的 [邮件列表](http://eepurl.com/gwO-Dr?source=post_page---------------------------)。以下是我的一些联系信息：

+   [Linkedin](https://uk.linkedin.com/in/pier-paolo-ippolito-202917146?source=post_page---------------------------)

+   [个人博客](https://pierpaolo28.github.io/blog/?source=post_page---------------------------)

+   [个人网站](https://pierpaolo28.github.io/?source=post_page---------------------------)

+   [Medium 个人资料](https://towardsdatascience.com/@pierpaoloippolito28?source=post_page---------------------------)

+   [GitHub](https://github.com/pierpaolo28?source=post_page---------------------------)

+   [Kaggle](https://www.kaggle.com/pierpaolo28?source=post_page---------------------------)

### 参考文献

[1] 2019 年数据科学家重要的语言有哪些？Quora。访问地址： [https://www.quora.com/Which-languages-are-important-for-Data-Scientists-in-2019](https://www.quora.com/Which-languages-are-important-for-Data-Scientists-in-2019)

[2] 数据科学的 R，Garrett Grolemund 和 Hadley Wickham。访问地址： [https://www.bioinform.io/site/wp-content/uploads/2018/09/RDataScience.pdf](https://www.bioinform.io/site/wp-content/uploads/2018/09/RDataScience.pdf)

**个人简介： [Pier Paolo Ippolito](https://www.linkedin.com/in/pierpaolo28/)** 是一名数据科学家和南安普顿大学人工智能硕士毕业生。他对人工智能进展和机器学习应用（如金融和医学）有着浓厚的兴趣。可以通过 [Linkedin](https://www.linkedin.com/in/pierpaolo28/) 与他联系。

[原文](https://towardsdatascience.com/getting-started-with-r-programming-2f15e9256c9)。经许可转载。

**相关：**

+   [R 中音频文件处理基础](/2020/02/basics-audio-file-processing-r.html)

+   [如何在 Python（和 R）中可视化数据](/2019/11/visualize-data-python-and-r.html)

+   [无服务器机器学习与 R 在 Cloud Run 上](/2020/02/serverless-machine-learning-r-cloud-run.html)

### 更多相关话题

+   [开始使用自动化文本摘要](https://www.kdnuggets.com/2019/11/getting-started-automated-text-summarization.html)

+   [开始清理数据](https://www.kdnuggets.com/2022/01/getting-started-cleaning-data.html)

+   [开始使用 SQL 备忘单](https://www.kdnuggets.com/2022/08/getting-started-sql-cheatsheet.html)

+   [开始使用 spaCy 进行自然语言处理](https://www.kdnuggets.com/2022/11/getting-started-spacy-nlp.html)

+   [开始使用 PyCaret](https://www.kdnuggets.com/2022/11/getting-started-pycaret.html)

+   [开始使用 PyTorch Lightning](https://www.kdnuggets.com/2022/12/getting-started-pytorch-lightning.html)
