- en: Animated Bar Chart Races in Python
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2021/05/animated-race-bar-charts-python.html](https://www.kdnuggets.com/2021/05/animated-race-bar-charts-python.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[comments](#comments)'
  prefs: []
  type: TYPE_NORMAL
- en: '**By [Shelvi Garg](https://www.linkedin.com/in/shelvi-garg-3a7421108/), Data
    Scientist**'
  prefs: []
  type: TYPE_NORMAL
- en: Our task is to create an animated bar chart race (bcr) for the number of country-wise
    covid-19 cases between the time period of Feb 2020 to April 2021.
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: '*Unlike other tutorials that allow you to use a pre-loaded bcr dataset, we
    will process, and clean our own dataset for the race chart bar*'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e5b01235e53eaa0b9f0f21690a753739.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Output Result: Image by Author'
  prefs: []
  type: TYPE_NORMAL
- en: About the problem
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Our Problem statement would be Covid-19 case records around the world.
  prefs: []
  type: TYPE_NORMAL
- en: '*“Hope is being able to see that there is light despite all of the darkness.”
    — Desmond Tutu*'
  prefs: []
  type: TYPE_NORMAL
- en: About Dataset
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can find the raw data here: [*https://github.com/shelvi31/Animated-Bar-Graph/blob/main/worldometer_coronavirus_daily_data.csv*](https://github.com/shelvi31/Animated-Bar-Graph/blob/main/worldometer_coronavirus_daily_data.csv)
  prefs: []
  type: TYPE_NORMAL
- en: If you want to skip data processing and cleaning steps to directly go to graph
    making. Here is my modified dataset: [*https://github.com/shelvi31/Animated-Bar-Graph/blob/main/corona_dataset*](https://github.com/shelvi31/Animated-Bar-Graph/blob/main/corona_dataset)
  prefs: []
  type: TYPE_NORMAL
- en: This data was scraped from worldometers.info on 2021–04–24 by Joseph Assaker.
    218 countries are represented in this data.
  prefs: []
  type: TYPE_NORMAL
- en: All the countries have records dating from 2020–2–15 until 2021–04–24 (435 days
    per country). That’s with the exception of China, which has records dating from
    2020–1–22 until 2021–04–24 (459 days per country).
  prefs: []
  type: TYPE_NORMAL
- en: Summary of Columns
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*country: designates the Country in which the row’s data was observed.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*continent: designates the Continent of the observed country.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*total_confirmed: designates the total number of confirmed cases in the observed
    country.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*total_deaths: designates the total number of confirmed deaths in the observed
    country.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*total_recovered: designates the total number of confirmed recoveries in the
    observed country.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*active_cases: designates the number of active cases in the observed country.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*serious_or_critical: designates the estimated number of cases in serious or
    critical conditions in the observed country.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*total_cases_per_1m_population: designates the number of total cases per 1
    million population in the observed country.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*total_deaths_per_1m_population: designates the number of total deaths per
    1 million population in the observed country.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*total_tests: designates the number of total tests done in the observed country.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*total_tests_per_1m_population: designates the number of total tests done per
    1 million population in the observed country.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*population: designates the population count in the observed country.*'
  prefs: []
  type: TYPE_NORMAL
- en: Acknowledgments for Dataset
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: All the data present in this dataset is scraped from worldometers.info.
  prefs: []
  type: TYPE_NORMAL
- en: You can find the complete clean code on my Jupyter-notebook: [*https://github.com/shelvi31/Animated-Bar-Graph/blob/main/Animated%20Bar%20Graph.ipynb*](https://github.com/shelvi31/Animated-Bar-Graph/blob/main/Animated%20Bar%20Graph.ipynb)
  prefs: []
  type: TYPE_NORMAL
- en: Load Libraries
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Load Dataset
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Processing the Dataset: Let’s get to know the data'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '![png](../Images/e20e9163011564858439630850539d57.png)'
  prefs: []
  type: TYPE_IMG
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '![png](../Images/9ed695a4aa5df7fa46ea404037eca0ef.png)'
  prefs: []
  type: TYPE_IMG
- en: As there are many countries, we need to select some particular countries which
    we want to analyze.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Thus, we have values for around 450 days for each country.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Selecting countries for Bar Plot
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Picking up the cumulative_total_cases column as series and group them with countries
    name. I will pick up 8 countries, the most populous and our neighbors for evaluation
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/c0e0f207b16873a6d01c6fa50fe81475.png)'
  prefs: []
  type: TYPE_IMG
- en: Code, Image by Author
  prefs: []
  type: TYPE_NORMAL
- en: We have data for only 435 rows for all the countries. Hence let's take data
    for 435 rows for China too.
  prefs: []
  type: TYPE_NORMAL
- en: Processing Data For China
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Converting to series
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Great! Now the length of all our columns is the same - 435 days.
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We also need to pick up the column of date. To retrieve only the first 459 values,
    as the dates are repetitive with countries, the max days’ data we have is for
    435 days for all the countries.
  prefs: []
  type: TYPE_NORMAL
- en: Processing Date Column
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'Converting a list to series:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: Concatenating series to create a new database
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: As we now have different series let’s give a name to these series that would
    later be converted to Dataframe Columns
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: '![png](../Images/1bc31eb460e6a2a1a22723ec83cecd59.png)'
  prefs: []
  type: TYPE_IMG
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: Checking for null values if any
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: Converting date to Date time format
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: Finally! We got the required format and countries!
  prefs: []
  type: TYPE_NORMAL
- en: We also need to pick up the date column
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: '![png](../Images/70e90871cdd6648828b89620481f2b7a.png)'
  prefs: []
  type: TYPE_IMG
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: GREAT! Our data frame looks great and ready to go ahead!
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Let's get started with animated bar chart coding now!
  prefs: []
  type: TYPE_NORMAL
- en: Installing Bar Chart Race
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: 'Point To Note: The graph takes time to load, so be patient. Unlike me, don''t
    rush to find out unnecessary errors or self-doubts if the results do not show
    up in minutes.'
  prefs: []
  type: TYPE_NORMAL
- en: '`P.s : Yes, I did waste a lot of time , thinking there is an error while there
    was none and graph was just taking time to load !!! :p`'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/199b7a4fce1498ce7e01b000b032f896.png)'
  prefs: []
  type: TYPE_IMG
- en: Output, Image by Author
  prefs: []
  type: TYPE_NORMAL
- en: It's very sad to notice how the cases have increased exponentially in India
    with the coming of April, all that is leading to such panic and havoc and loss
    of lives at the time I write this blog.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e5b01235e53eaa0b9f0f21690a753739.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Output: Image by Author'
  prefs: []
  type: TYPE_NORMAL
- en: 'If you get any FFmpeg related error: here is the step-by-step link to solve
    it for your system:'
  prefs: []
  type: TYPE_NORMAL
- en: '[https://www.wikihow.com/Install-FFmpeg-on-Windows](https://www.wikihow.com/Install-FFmpeg-on-Windows)'
  prefs: []
  type: TYPE_NORMAL
- en: Saving Race Bar Plot
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can save the bar graph by downloading from the download option at the bottom
    of the image. Hope you have enjoyed this fun tutorial. Enjoy and Keep Learning
    :)
  prefs: []
  type: TYPE_NORMAL
- en: '**References**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[https://pypi.org/project/bar-chart-race/](https://pypi.org/project/bar-chart-race/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://www.youtube.com/watch?v=Dawp5XOSEuk&t=350s](https://www.youtube.com/watch?v=Dawp5XOSEuk&t=350s)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://www.worldometers.info/](https://www.worldometers.info/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Bio: [Shelvi Garg](https://www.linkedin.com/in/shelvi-garg-3a7421108/)**
    is a Data Scientist. Interests and learnings are not limited.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Original](https://garg-shelvi.medium.com/fun-data-science-project-animated-race-bar-graph-37ec8014ec95).
    Reposted with permission.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Related:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[A simple static visualization can often be the best approach](/2021/05/simple-static-visualization-often-best-approach.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[11 Essential Code Blocks for Complete EDA (Exploratory Data Analysis)](/2021/03/11-essential-code-blocks-exploratory-data-analysis.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Top 10 Python Libraries Data Scientists should know in 2021](/2021/03/top-10-python-libraries-2021.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Step up your Python game with Fast Python for Data Science!](https://www.kdnuggets.com/2022/06/manning-step-python-game-fast-python-data-science.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Optimizing Python Code Performance: A Deep Dive into Python Profilers](https://www.kdnuggets.com/2023/02/optimizing-python-code-performance-deep-dive-python-profilers.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Python Enum: How To Build Enumerations in Python](https://www.kdnuggets.com/python-enum-how-to-build-enumerations-in-python)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Simplifying Decision Tree Interpretability with Python & Scikit-learn](https://www.kdnuggets.com/2017/05/simplifying-decision-tree-interpretation-decision-rules-python.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Sparse Matrix Representation in Python](https://www.kdnuggets.com/2020/05/sparse-matrix-representation-python.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Top 38 Python Libraries for Data Science, Data Visualization &…](https://www.kdnuggets.com/2020/11/top-python-libraries-data-science-data-visualization-machine-learning.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
