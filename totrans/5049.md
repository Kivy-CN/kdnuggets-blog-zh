# 做数据科学：Kaggle 演练 – 数据清理

> 原文：[https://www.kdnuggets.com/2016/03/doing-data-science-kaggle-walkthrough-cleaning-data.html](https://www.kdnuggets.com/2016/03/doing-data-science-kaggle-walkthrough-cleaning-data.html)

**由 Brett Romero, Open Data Kosovo**。

*这篇关于数据清理的文章是关于数据科学和机器学习的一系列文章的第三部分，通过走一遍 Kaggle 竞赛来讲解。如果你还没有阅读，建议你回去阅读 [第一部分](http://brettromero.com/wordpress/data-science-a-kaggle-walkthrough-introduction/) 和 [第二部分](http://brettromero.com/wordpress/data-science-a-kaggle-walkthrough-understanding-the-data/)*。

在这一部分，我们将重点关注为 Airbnb Kaggle 竞赛提供的数据清理。

![脏数据](../Images/9cccd97cf0197adc18e3a221a9c4dbde.png)

### 数据清理

当我们谈论数据清理时，我们到底在谈论什么？通常，当人们谈论数据清理时，他们指的是几个具体的内容：

1.  **修正格式** – 数据保存或从一种格式转换为另一种格式时（例如在我们的案例中从 CSV 到 Python），有些数据可能无法正确转换。我们在上一篇文章的 csv 中看到一个很好的例子。timestamp_first_active 列包含了像 20090609231247 这样的数字，而不是预期格式的时间戳：2009-06-09 23:12:47。数据清理中的一个典型任务是纠正这些类型的问题。

1.  **填补缺失值** – 正如我们在第二部分中所见，数据集中缺失一些值是很常见的。这通常意味着某些信息根本没有被收集。处理缺失数据有几种选项，下面将进行详细介绍。

1.  **纠正错误值** – 对于某些列，可以识别出明显不正确的值。这可能是一个“性别”列，其中有人输入了一个数字，或者一个“年龄”列，其中有人输入了一个超过 100 的值。这些值要么需要被纠正（如果可以确定正确值），要么被视为缺失。

1.  **标准化类别** – 这是“纠正错误值”的一个子类别，这种数据清理非常常见，因此值得特别提及。在许多（或所有？）从用户直接收集数据的情况下，特别是使用自由文本字段时，拼写错误、语言差异或其他因素会导致同一答案以多种方式提供。例如，在收集出生国家数据时，如果用户没有提供标准化的国家列表，数据中不可避免地会包含相同国家的多种拼写（例如 USA, United States, U.S. 等）。主要的清理任务之一通常是标准化这些值，以确保每个值只有一个版本。

### 处理缺失数据的选项

一般来说，缺失数据是数据清洗中较棘手的问题之一。大致上有两种解决方案：

**1. 删除/忽略缺失值的行**

面对缺失值时最简单的解决方案是不使用具有缺失值的记录来训练模型。然而，在开始删除大量数据集中的行之前，有一些问题需要注意。

第一个问题是，这种方法只有在缺失数据的行数相对于数据集较少时才有意义。如果你发现因为行包含缺失值而需要删除超过大约10%的数据集，你可能需要重新考虑。

第二个问题是，为了删除包含缺失数据的行，你必须确信你删除的行不包含其他行没有的信息。例如，在当前的Airbnb数据集中，我们看到许多用户没有提供他们的年龄。我们能否假设选择不提供年龄的人与提供年龄的用户是相同的？还是他们可能代表另一种类型的用户，或许是更年长且更注重隐私的用户，因此可能会做出不同的选择，选择访问不同的国家？如果答案是后者，我们可能不想仅仅删除这些记录。

**2. 填充值**

处理缺失数据的第二种广泛选项是用一个值填充缺失值。但用什么值呢？这取决于一系列因素，包括你尝试填充的数据类型。

如果数据是分类的（例如国家、设备类型等），可能有意义创建一个新的类别来表示“未知”。另一种选择是用该列的最常见值（众数）来填充这些值。然而，由于这些是填充缺失值的广泛方法，这可能会使你的数据过于简化和/或使你的最终模型不那么准确。

对于数值型数据（例如年龄列），还有一些其他选项。鉴于在这种情况下使用众数填充值的意义较小，我们可以改用均值或中位数。我们甚至可以基于一些其他标准进行平均——例如，根据选择了相同`country_destination`的用户的平均年龄来填充缺失的年龄值。

对于两种类型的数据（分类数据和数值数据），我们还可以使用更复杂的方法来填补缺失值。实际上，我们可以使用类似于我们计划用来预测`country_destination`的方法，根据已有数据的列来预测其他任何列的值。就像一般的建模一样，这种方法几乎有无尽的变化方式，这里不再详细说明。有关更多信息，[橙色 Python 库](http://docs.orange.biolab.si/reference/rst/Orange.feature.imputation.html)提供了一些很好的文档。

* * *

## 我们的前 3 个课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [谷歌网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速开启网络安全职业生涯

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [谷歌数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升您的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [谷歌 IT 支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持您的组织的 IT 需求

* * *

### 更多相关内容

+   [分类指标演练：逻辑回归与…](https://www.kdnuggets.com/2022/10/classification-metrics-walkthrough-logistic-regression-accuracy-precision-recall-roc.html)

+   [集成学习技术：Python 中的随机森林演练](https://www.kdnuggets.com/ensemble-learning-techniques-a-walkthrough-with-random-forests-in-python)

+   [7 门免费的 Kaggle 微课程供数据科学初学者学习](https://www.kdnuggets.com/7-free-kaggle-micro-courses-for-data-science-beginners)

+   [2024 年成为数据科学家的前 10 个 Kaggle 机器学习项目](https://www.kdnuggets.com/top-10-kaggle-machine-learning-projects-to-become-data-scientist-in-2024)

+   [在 Kaggle 竞争的 4 个顶级技巧及其重要性](https://www.kdnuggets.com/2022/05/packt-top-4-tricks-competing-kaggle-start.html)

+   [最全面的 Kaggle 解决方案和创意列表](https://www.kdnuggets.com/2022/11/comprehensive-list-kaggle-solutions-ideas.html)
