- en: 'A Complete Exploratory Data Analysis and Visualization for Text Data: Combine
    Visualization and NLP to Generate Insights'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2019/05/complete-exploratory-data-analysis-visualization-text-data.html](https://www.kdnuggets.com/2019/05/complete-exploratory-data-analysis-visualization-text-data.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [comments](/2019/05/complete-exploratory-data-analysis-visualization-text-data.html?page=2#comments)'
  prefs: []
  type: TYPE_IMG
- en: '**By [Susan Li](https://www.linkedin.com/in/susanli/), Sr. Data Scientist**'
  prefs: []
  type: TYPE_NORMAL
- en: '![figure-name](../Images/4a62a3fc892735b06e0efc7d596c61a8.png)Photo credit:
    Pixabay'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Visually representing the content of a text document is one of the most important
    tasks in the field of [text mining](https://en.wikipedia.org/wiki/Text_mining).
    As a data scientist or [NLP](https://plot.ly/python/) specialist, not only we
    explore the content of documents from different aspects and at different levels
    of details, but also we summarize a single document, show the words and topics,
    detect events, and create storylines.
  prefs: []
  type: TYPE_NORMAL
- en: However, there are some gaps between visualizing unstructured (text) data and
    structured data. For example, many text visualizations do not represent the text
    directly, they represent an output of a language model(word count, character length,
    word sequences, etc.).
  prefs: []
  type: TYPE_NORMAL
- en: In this post, we will use [Womens Clothing E-Commerce Reviews data set](https://www.kaggle.com/nicapotato/womens-ecommerce-clothing-reviews),
    and try to explore and visualize as much as we can, using [Plotly’s Python graphing
    library](https://plot.ly/python/) and [Bokeh visualization library](https://bokeh.pydata.org/en/latest/).
    Not only we are going to explore text data, but also we will visualize numeric
    and categorical features. Let’s get started!
  prefs: []
  type: TYPE_NORMAL
- en: The Data
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '![figure-name](../Images/658e7d69962823379dd8ded3b4fae862.png)table 1'
  prefs: []
  type: TYPE_NORMAL
- en: After a brief inspection of the data, we found there are a series of data pre-processing
    we have to conduct.
  prefs: []
  type: TYPE_NORMAL
- en: Remove the “Title” feature.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Remove the rows where “Review Text” were missing.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Clean “Review Text” column.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using [**TextBlob**](https://textblob.readthedocs.io/en/dev/) to calculate sentiment
    polarity which lies in the range of [-1,1] where 1 means positive sentiment and
    -1 means a negative sentiment.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Create new feature for the length of the review.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Create new feature for the word count of the review.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: text_preprocessing.py
  prefs: []
  type: TYPE_NORMAL
- en: 'To preview whether the sentiment polarity score works, we randomly select 5
    reviews with the highest sentiment polarity score (1):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '![figure-name](../Images/4b4f8708f0124277a37d36eed1f9a384.png)Figure 1'
  prefs: []
  type: TYPE_NORMAL
- en: 'Then randomly select 5 reviews with the most neutral sentiment polarity score
    (zero):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '![figure-name](../Images/ca869354ea07ff62a30e909b155abd55.png)Figure 2'
  prefs: []
  type: TYPE_NORMAL
- en: 'There were only 2 reviews with the most negative sentiment polarity score:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '![figure-name](../Images/598ed7719a4a75aaed1549ff987fb5b4.png)Figure 3'
  prefs: []
  type: TYPE_NORMAL
- en: It worked!
  prefs: []
  type: TYPE_NORMAL
- en: Univariate visualization with Plotly
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Single-variable or univariate visualization is the simplest type of visualization
    which consists of observations on only a single characteristic or attribute. Univariate
    visualization includes histogram, bar plots and line charts.
  prefs: []
  type: TYPE_NORMAL
- en: '****The distribution of review sentiment polarity score****'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '[![Plot 91](../Images/79b43074a32804b7844c074bb79c52cc.png)](https://plot.ly/~susanli2005/91/
    "Plot 91")Figure 4'
  prefs: []
  type: TYPE_NORMAL
- en: Vast majority of the sentiment polarity scores are greater than zero, means
    most of them are pretty positive.
  prefs: []
  type: TYPE_NORMAL
- en: '**The distribution of review ratings**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '[![Plot 93](../Images/a7131d2d0f9e716cd021063744567fba.png)](https://plot.ly/~susanli2005/93/
    "Plot 93")'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5
  prefs: []
  type: TYPE_NORMAL
- en: The ratings are in align with the polarity score, that is, most of the ratings
    are pretty high at 4 or 5 ranges.
  prefs: []
  type: TYPE_NORMAL
- en: '**The distribution of reviewers age**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '[![Plot 95](../Images/5cd8d14be42062913414fb11932f8f87.png)](https://plot.ly/~susanli2005/95/
    "Plot 95")'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 6
  prefs: []
  type: TYPE_NORMAL
- en: Most reviewers are in their 30s to 40s.
  prefs: []
  type: TYPE_NORMAL
- en: '**The distribution review text lengths**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: '[![Plot 97](../Images/7d67a898ee4460b6de1571c934d10877.png)](https://plot.ly/~susanli2005/97/
    "Plot 97")'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 7
  prefs: []
  type: TYPE_NORMAL
- en: '**The distribution of review word count**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: '[![Plot 99](../Images/07d4d8c2135b3e1b6bee6519d1c4337f.png)](https://plot.ly/~susanli2005/99/
    "Plot 99")'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 8
  prefs: []
  type: TYPE_NORMAL
- en: There were quite number of people like to leave long reviews.
  prefs: []
  type: TYPE_NORMAL
- en: For categorical features, we simply use bar chart to present the frequency.
  prefs: []
  type: TYPE_NORMAL
- en: '**The distribution of division**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: '[![Plot 101](../Images/39124bd80a065fe5a9f446e9b6054e97.png)](https://plot.ly/~susanli2005/101/
    "Plot 101")'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 9
  prefs: []
  type: TYPE_NORMAL
- en: General division has the most number of reviews, and Initmates division has
    the least number of reviews.
  prefs: []
  type: TYPE_NORMAL
- en: '**The distribution of department**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: '[![Plot 103](../Images/d3a874759047adf074a7e5853b1e317a.png)](https://plot.ly/~susanli2005/103/
    "Plot 103")'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 10
  prefs: []
  type: TYPE_NORMAL
- en: When comes to department, Tops department has the most reviews and Trend department
    has the least number of reviews.
  prefs: []
  type: TYPE_NORMAL
- en: '**The distribution of class**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: '[![Plot 105](../Images/7e479516a39edeb6bffc748d109fddb5.png)](https://plot.ly/~susanli2005/105/
    "Plot 105")'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 11
  prefs: []
  type: TYPE_NORMAL
- en: Now we come to “Review Text” feature, before explore this feature, we need to
    extract [N-Gram](https://en.wikipedia.org/wiki/N-gram) features. [N-grams](https://en.wikipedia.org/wiki/N-gram)
    are used to describe the number of words used as observation points, e.g., unigram
    means singly-worded, bigram means 2-worded phrase, and trigram means 3-worded
    phrase. In order to do this, we use [scikit-learn’s](https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html)
    `[CountVectorizer](https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html)`
    [function](https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html).
  prefs: []
  type: TYPE_NORMAL
- en: First, it would be interesting to compare unigrams before and after removing
    stop words.
  prefs: []
  type: TYPE_NORMAL
- en: '****The distribution of top unigrams before removing stop words****'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: top_unigram.py[![Plot 107](../Images/2af28e43e30450b8623df03b2e102e5a.png)](https://plot.ly/~susanli2005/107/
    "Plot 107")
  prefs: []
  type: TYPE_NORMAL
- en: Figure 12
  prefs: []
  type: TYPE_NORMAL
- en: '**The distribution of top unigrams after removing stop words**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: top_unigram_no_stopwords.py[![Plot 109](../Images/84e43d31f159e703745d4b9cf3f1d7cb.png)](https://plot.ly/~susanli2005/109/
    "Plot 109")
  prefs: []
  type: TYPE_NORMAL
- en: Figure 13
  prefs: []
  type: TYPE_NORMAL
- en: Second, we want to compare bigrams before and after removing stop words.
  prefs: []
  type: TYPE_NORMAL
- en: '****The distribution of top bigrams before removing stop words****'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: top_bigram.py![figure-name](../Images/09fe4e30b6c5aca3aeff7c42c0039f2c.png)Figure
    14
  prefs: []
  type: TYPE_NORMAL
- en: '**The distribution of top bigrams after removing stop words**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: top_bigram_no_stopwords.py[![Plot 113](../Images/984856f7f482ecbc6b86d1eb6d8bc1df.png)](https://plot.ly/~susanli2005/113/
    "Plot 113")
  prefs: []
  type: TYPE_NORMAL
- en: Figure 15
  prefs: []
  type: TYPE_NORMAL
- en: Last, we compare trigrams before and after removing stop words.
  prefs: []
  type: TYPE_NORMAL
- en: '****The distribution of Top trigrams before removing stop words****'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: top_trigram.py![figure-name](../Images/c74b935d26d9ff104ac3e0f561266746.png)Figure
    16
  prefs: []
  type: TYPE_NORMAL
- en: '**The distribution of Top trigrams after removing stop words**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: top_trigram_no_stopwords.py![figure-name](../Images/14c4779697c283dac2818c3edf61d178.png)Figure
    17
  prefs: []
  type: TYPE_NORMAL
- en: '[***Part-Of-Speech Tagging (POS)***](https://en.wikipedia.org/wiki/Part-of-speech_tagging)
    is a process of assigning parts of speech to each word, such as noun, verb, adjective,
    etc'
  prefs: []
  type: TYPE_NORMAL
- en: We use a simple [***TextBlob***](https://textblob.readthedocs.io/en/dev/) API
    to dive into POS of our “Review Text” feature in our data set, and visualize these
    tags.
  prefs: []
  type: TYPE_NORMAL
- en: '****The distribution of top part-of-speech tags of review corpus****'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: POS.py[![Plot 117](../Images/90de1850454d2b9e1eecec631976de50.png)](https://plot.ly/~susanli2005/117/
    "Plot 117")
  prefs: []
  type: TYPE_NORMAL
- en: Figure 18
  prefs: []
  type: TYPE_NORMAL
- en: Box plot is used to compare the sentiment polarity score, rating, review text
    lengths of each department or division of the e-commerce store.
  prefs: []
  type: TYPE_NORMAL
- en: '**What do the departments tell about Sentiment polarity**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: department_polarity.py[![Plot 125](../Images/07983bfae18a666fbc1c06431ec5386e.png)](https://plot.ly/~susanli2005/125/
    "Plot 125")
  prefs: []
  type: TYPE_NORMAL
- en: Figure 19
  prefs: []
  type: TYPE_NORMAL
- en: The highest sentiment polarity score was achieved by all of the six departments
    except Trend department, and the lowest sentiment polarity score was collected
    by Tops department. And the Trend department has the lowest median polarity score.
    If you remember, the Trend department has the least number of reviews. This explains
    why it does not have as wide variety of score distribution as the other departments.
  prefs: []
  type: TYPE_NORMAL
- en: '**What do the departments tell about rating**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs: []
  type: TYPE_PRE
- en: rating_division.py[![Plot 121](../Images/0c91da65650213f069bb50d060e84716.png)](https://plot.ly/~susanli2005/121/
    "Plot 121")
  prefs: []
  type: TYPE_NORMAL
- en: Figure 20
  prefs: []
  type: TYPE_NORMAL
- en: Except Trend department, all the other departments’ median rating were 5\. Overall,
    the ratings are high and sentiment are positive in this review data set.
  prefs: []
  type: TYPE_NORMAL
- en: '**Review length by department**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs: []
  type: TYPE_PRE
- en: length_department.py[![Plot 123](../Images/1cfb818dbe46c23e397c3f16293e77a1.png)](https://plot.ly/~susanli2005/123/
    "Plot 123")
  prefs: []
  type: TYPE_NORMAL
- en: Figure 21
  prefs: []
  type: TYPE_NORMAL
- en: The median review length of Tops & Intimate departments are relative lower than
    those of the other departments.
  prefs: []
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Generate Music From Text Using Google MusicLM](https://www.kdnuggets.com/2023/06/generate-music-text-google-musiclm.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Collection of Guides on Mastering SQL, Python, Data Cleaning, Data…](https://www.kdnuggets.com/collection-of-guides-on-mastering-sql-python-data-cleaning-data-wrangling-and-exploratory-data-analysis)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Exploratory Data Analysis Techniques for Unstructured Data](https://www.kdnuggets.com/2023/05/exploratory-data-analysis-techniques-unstructured-data.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[A Data Scientist’s Essential Guide to Exploratory Data Analysis](https://www.kdnuggets.com/2023/06/data-scientist-essential-guide-exploratory-data-analysis.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[7 Steps to Mastering Exploratory Data Analysis](https://www.kdnuggets.com/7-steps-to-mastering-exploratory-data-analysis)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[SQL Group By and Partition By Scenarios: When and How to Combine…](https://www.kdnuggets.com/sql-group-by-and-partition-by-scenarios-when-and-how-to-combine-data-in-data-science)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
