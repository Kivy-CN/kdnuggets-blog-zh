- en: How to build an API for a machine learning model in 5 minutes using Flask
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2019/01/build-api-machine-learning-model-using-flask.html](https://www.kdnuggets.com/2019/01/build-api-machine-learning-model-using-flask.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[comments](#comments)'
  prefs: []
  type: TYPE_NORMAL
- en: '**By [Tim Elfrink](https://medium.com/@tim.elfrink.94), Data Scientist at Vantage
    AI**'
  prefs: []
  type: TYPE_NORMAL
- en: As a data scientist consultant, I want to make impact with my machine learning
    models. However, this is easier said than done. When starting a new project, it
    starts with playing around with the data in a Jupyter notebook. Once you’ve got
    a full understanding of what data you’re dealing with and have aligned with the
    client on what steps to take, one of the outcomes can be to create a predictive
    model.
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: You get excited and go back to your notebook to make the best model possible.
    The model and the results are presented and everyone is happy. The client wants
    to run the model in their infrastructure to test if they can really create the
    expected impact. Also, when people can use the model, you get the input necessary
    to improve it step by step. But how can we quickly do this, given that the client
    has some complicated infrastructure that you might not be familiar with?
  prefs: []
  type: TYPE_NORMAL
- en: For this purpose you need a tool that can fit in their complicated infrastructure,
    preferably in a language that you’re familiar with. This is where you can use [Flask](http://flask.pocoo.org/).
    Flask is a micro web framework written in Python. It can create a REST API that
    allows you to send data, and receive a prediction as a response.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5ef05360393f1309dd9a4fc4a6af5797.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Create your model**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Let me show you [how this works](https://github.com/timelfrink/flask-api). For
    the purpose of demonstration, I will train a simple DecisionTreeClassifier model
    on an example dataset which can be loaded from the [scikit-learn package](https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_wine.html#sklearn.datasets.load_wine).
  prefs: []
  type: TYPE_NORMAL
- en: How I created my model in a Jupyter notebook
  prefs: []
  type: TYPE_NORMAL
- en: Once the client is happy with the model you have created, you can save it as [pickle](https://docs.python.org/3.7/library/pickle.html) file.
    You can then open this pickle file later and call the function `predict` to get
    a prediction for new input data. This is exactly what we will do in Flask.
  prefs: []
  type: TYPE_NORMAL
- en: '**Run Flask**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Flask runs on a server. This can be in the environment of the client or a different
    server depending on the client’s requirements. When running `python app.py` it
    first loads the created pickle file. Once this is loaded you can start making
    predictions.
  prefs: []
  type: TYPE_NORMAL
- en: All the code you need for a simple api in Flask!
  prefs: []
  type: TYPE_NORMAL
- en: '**Request predictions**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Predictions are made by passing a POST JSON request to the created Flask web
    server which is on port 5000 by default. In `app.py` this request is received
    and a prediction is based on the already loaded prediction function of our model.
    It returns the prediction in JSON format.
  prefs: []
  type: TYPE_NORMAL
- en: Test our API
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, all you need to do is call the web server with the correct syntax of data
    points. This corresponds with the format of the original dataset to get this JSON
    response of your predictions. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`python request.py -> <Response[200]> “[1.]"`'
  prefs: []
  type: TYPE_NORMAL
- en: For the data we sent we got a prediction of class 1 as output of our model.
    Actually all you are doing is sending data in an array to an endpoint, which is
    transformed to JSON format. The endpoint reads the JSON post and transforms it
    back to the original array.
  prefs: []
  type: TYPE_NORMAL
- en: With these simple steps you can easily let other people use your machine learning
    model and quickly make a big impact.
  prefs: []
  type: TYPE_NORMAL
- en: '**Notes**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: In this article, I didn’t account for any errors in the data or other exceptions.
    This article shows how to simply start and learn from the models output, but needs
    a lot of improvements before it is ready to be put into production. This solution
    can be made scalable when creating a docker file with the API and hosting it on
    to Kubernetes so you can balance the load across different machines. But these
    are all steps to take when going from a proof of concept to a production environment.
  prefs: []
  type: TYPE_NORMAL
- en: Thanks to [Ruurtjan Pul](https://medium.com/@ruurtjan?source=post_page) and [Jasper
    Makkinje](https://medium.com/@jasper.makkinje?source=post_page).
  prefs: []
  type: TYPE_NORMAL
- en: '**Bio: [Tim Elfrink](https://medium.com/@tim.elfrink.94)** is a data scientist
    at **Vantage AI**, a data science consultancy company in the Netherlands. If you
    need help creating machine learning models for your data, feel free to contact
    us at [**info@vantage-ai.com**](mailto:info@vantage-ai.com).'
  prefs: []
  type: TYPE_NORMAL
- en: '[Original](https://medium.com/vantageai/how-to-build-an-api-for-a-machine-learning-model-in-5-minutes-using-flask-eb72d8cb4504).
    Reposted with permission.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Related:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[Connecting the dots for a Deep Learning App](/2017/08/connecting-dots-deep-learning-app.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Complete Guide to Build ConvNet HTTP-Based Application using TensorFlow and
    Flask RESTful Python API](/2018/05/complete-guide-convnet-tensorflow-flask-restful-python-api.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[3 More Google Colab Environment Management Tips](/2019/01/more-google-colab-environment-management-tips.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Stop Learning Data Science to Find Purpose and Find Purpose to…](https://www.kdnuggets.com/2021/12/stop-learning-data-science-find-purpose.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Top Resources for Learning Statistics for Data Science](https://www.kdnuggets.com/2021/12/springboard-top-resources-learn-data-science-statistics.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[A $9B AI Failure, Examined](https://www.kdnuggets.com/2021/12/9b-ai-failure-examined.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[The 5 Characteristics of a Successful Data Scientist](https://www.kdnuggets.com/2021/12/5-characteristics-successful-data-scientist.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[What Makes Python An Ideal Programming Language For Startups](https://www.kdnuggets.com/2021/12/makes-python-ideal-programming-language-startups.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Three R Libraries Every Data Scientist Should Know (Even if You Use Python)](https://www.kdnuggets.com/2021/12/three-r-libraries-every-data-scientist-know-even-python.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
