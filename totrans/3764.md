# 对Twitter、特朗普和脏话的NLP分析方法

> 原文：[https://www.kdnuggets.com/2016/11/nlp-approach-analyzing-twitter-trump-profanity.html](https://www.kdnuggets.com/2016/11/nlp-approach-analyzing-twitter-trump-profanity.html)

**由Stephanie Kim撰写，[Algorithmia](https://algorithmia.com/)**。

![分析Twitter中的脏话](../Images/bb1ea3b1d18c17c34e8ee5cefb33f914.png)

谁更容易使用脏话？提到**唐纳德·特朗普**的Twitter用户是否比提到**希拉里·克林顿**的用户更容易使用脏话？我们通过使用自然语言处理（或简称NLP）的方法来分析推文，来揭示这个问题。

本文将提供一个基础介绍，帮助所有背景和能力的开发者开始使用Algorithmia上的[NLP微服务](https://algorithmia.com/tags/nlp)。我们将展示如何将它们连接在一起，对非结构化文本进行轻度分析。不熟悉NLP？我们的[温和介绍](http://blog.algorithmia.com/2015/09/getting-started-with-natural-language-processing/)将帮助你入门。

我们知道，开始使用新的平台或开发工具需要投入时间和精力。有时候，找到所需的信息来开始独立探索可能很困难。这就是为什么我们将所有信息集中在[Algorithmia开发者中心](http://developers.algorithmia.com/)和[API文档](http://docs.algorithmia.com/)中，用户可以在这些地方找到有用的提示、代码片段和入门指南。这些指南旨在帮助开发者将算法集成到应用程序和项目中，学习如何托管他们训练的机器学习模型，或通过API端点为其他人构建自己的算法。

现在，让我们使用一些算法来检索内容，并利用NLP对其进行分析。还有什么比Twitter更好的地方来开始这个项目呢？让我们分析一下我们最喜欢的总统候选人吧！

### Twitter、特朗普与脏话：NLP方法

首先，让我们在Algorithmia上找到与Twitter相关的算法。前往导航顶部的搜索栏，输入“Twitter”：

[![搜索算法](../Images/22da7c9cc026ec0a5aac0f568af93d9e.png)](http://blog.algorithmia.com/wp-content/uploads/2016/07/search_box.png)

你会找到很多结果，但请找到那个名为[Retrieve Tweets with Keyword](https://algorithmia.com/algorithms/twitter/RetrieveTweetsWithKeyword)的算法，并查看算法页面，了解算法的描述、定价和该算法的权限设置等信息：

[![使用关键词检索推文算法](../Images/08d4e6edcf8ba1c7a9e15ed584c8f1f8.png)](http://blog.algorithmia.com/wp-content/uploads/2016/07/twitter_algo_page-1.png)

算法描述提供了关于预期输入和输出数据结构的信息，以及其他要求的详细信息。例如，通过关键字检索推文要求你的[Twitter API认证密钥](https://dev.twitter.com/oauth/overview)。

在每个算法页面的底部，我们提供了代码示例，涵盖了输入、输出，以及如何在Python、Rust、Ruby、JavaScript、NodeJS、cURL、CLI、Java或Scala中调用算法。如果你对使用Algorithmia API的详细信息有疑问，请查看[API文档](http://docs.algorithmia.com/)。

好的，让我们开始吧！

这是我们项目的整体结构：

```py
+-- profanity_demo
|   +-- data
|       +-- Donald-Trump-OR-Trump.csv
|       +-- Hillary-Clinton-OR-Hillary.csv
|   +-- logs
|       +-- twitter_data_pull.log
|   +-- profanity_analysis.py
|   +-- twitter_pull_data.py
```

你需要一个免费的Algorithmia账户来完成这个项目。[免费注册并获得额外的10,000积分](https://algorithmia.com/signup?invite=onTwitter)。总体而言，项目将处理大约700条推文，剔除表情符号和其他特殊字符。这意味着如果推文仅包含URL和表情符号，则不会被分析。一旦我们从Twitter API中提取数据，我们将使用一些正则表达式清理数据，去除停用词，然后找到脏话。

### 步骤一：通过关键字检索推文

我们将首先使用[通过关键字检索推文](https://algorithmia.com/algorithms/twitter/RetrieveTweetsWithKeyword)算法来查询来自[Twitter搜索API](https://dev.twitter.com/rest/public/search)的推文：

好的，让我们来看看代码片段的明显部分。此算法接收一个名为‘input’的嵌套字典，包含‘query’，‘numTweets’和‘auth’这些键，其中‘auth’本身是一个字典。键‘query’被设置为名为q_input的全局变量，保存执行脚本时传递的系统参数。在我们的案例中，它将保存总统提名人的名字。键‘numTweets’设置为你希望提取的推文数量，字典‘auth’保存了你从Twitter获得的[Twitter认证密钥和令牌](https://dev.twitter.com/oauth/overview)。

在编写pull_tweets()函数时，注意那一行将变量‘client’设置为‘Algorithmia.client(algorithmia_api_key)’。这是你传入在注册Algorithmia账户时分配的API密钥的地方。如果你不记得在哪里找到，位于“我的个人资料”页面的“凭证”部分。

接下来注意变量‘algo.’。这是我们传递使用的算法路径的地方。每个算法的文档将在算法页面底部的代码示例部分中提供适当的路径。

最后，列表推导式'tweet_list'在通过将输入变量传递到algo.pipe(input).result的算法结果中循环后保存我们的数据。

现在，你只需将数据写入一个以查询名称命名的CSV文件。注意：如果你的查询是以空格分隔的字符串，脚本将用连字符连接查询。

* * *

## 我们的三大课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [谷歌网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速开启网络安全职业生涯。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [谷歌数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析能力

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [谷歌IT支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你组织的IT需求

* * *

### 更多相关主题

+   [利用精调的SciBERT NER模型和Neo4j分析科学文章](https://www.kdnuggets.com/2021/12/analyzing-scientific-articles-finetuned-scibert-ner-model-neo4j.html)

+   [数据分析：四种数据分析方法及如何……](https://www.kdnuggets.com/2023/04/data-analytics-four-approaches-analyzing-data-effectively.html)

+   [分析未来成功概率与智能的关系……](https://www.kdnuggets.com/2022/02/analyzing-probability-future-success-intelligence-node-attributes-evolution-model.html)

+   [使用SQL分析多样性与包容性](https://www.kdnuggets.com/2022/11/analyzing-diversity-inclusion-sql.html)

+   [掌握数据分析的力量：四种数据分析方法](https://www.kdnuggets.com/2023/03/master-power-data-analytics-four-approaches-analyzing-data.html)

+   [成为数据科学家的指南（一步一步的方法）](https://www.kdnuggets.com/2021/05/guide-become-data-scientist.html)
