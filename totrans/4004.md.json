["```py\ntry: \n    # Setting up the resource\n    # Working with the resource\nexcept ErrorType:\n    # Handle exceptions\nfinally:\n    # Free up the resource \n```", "```py\nimport sqlite3\nfrom typing import Optional\n\n# Writing a context manager class\nclass ConnectionManager:\n    def __init__(self, db_name: str):\n        self.db_name = db_name\n        self.conn: Optional[sqlite3.Connection] = None\n\n    def __enter__(self):\n        self.conn = sqlite3.connect(self.db_name)\n        return self.conn\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        if self.conn:\n        self.conn.close() \n```", "```py\ndb_name = \"library.db\"\n\n# Using ConnectionManager context manager directly\nwith ConnectionManager(db_name) as conn:\n\tcursor = conn.cursor()\n\n\t# Create a books table if it doesn't exist\n\tcursor.execute(\"\"\"\n    \tCREATE TABLE IF NOT EXISTS books (\n        \tid INTEGER PRIMARY KEY,\n        \ttitle TEXT,\n        \tauthor TEXT,\n        \tpublication_year INTEGER\n    \t)\n\t\"\"\")\n\n\t# Insert sample book records\n\tbooks_data = [\n    \t(\"The Great Gatsby\", \"F. Scott Fitzgerald\", 1925),\n    \t(\"To Kill a Mockingbird\", \"Harper Lee\", 1960),\n    \t(\"1984\", \"George Orwell\", 1949),\n    \t(\"Pride and Prejudice\", \"Jane Austen\", 1813)\n\t]\n\tcursor.executemany(\"INSERT INTO books (title, author, publication_year) VALUES (?, ?, ?)\", books_data)\n\tconn.commit()\n\n\t# Retrieve and print all book records\n\tcursor.execute(\"SELECT * FROM books\")\n\trecords = cursor.fetchall()\n\tprint(\"Library Catalog:\")\n\tfor record in records:\n    \t    book_id, title, author, publication_year = record\n    \t    print(f\"Book ID: {book_id}, Title: {title}, Author: {author}, Year: {publication_year}\")\n            cursor.close()\n```", "```py\nOutput >>>\n\nLibrary Catalog:\nBook ID: 1, Title: The Great Gatsby, Author: F. Scott Fitzgerald, Year: 1925\nBook ID: 2, Title: To Kill a Mockingbird, Author: Harper Lee, Year: 1960\nBook ID: 3, Title: 1984, Author: George Orwell, Year: 1949\nBook ID: 4, Title: Pride and Prejudice, Author: Jane Austen, Year: 1813 \n```", "```py\n# Writing a generator function with the `@contextmanager` decorator\nimport sqlite3\nfrom contextlib import contextmanager\n\n@contextmanager\ndef database_connection(db_name: str):\n    conn = sqlite3.connect(db_name)\n    try:\n        yield conn  # Provide the connection to the 'with' block\n    finally:\n        conn.close()  # Close the connection upon exiting the 'with' block \n```", "```py\ndb_name = \"library.db\"\n\n# Using database_connection context manager directly\nwith database_connection(db_name) as conn:\n\tcursor = conn.cursor()\n\n\t# Insert a set of book records\n\tmore_books_data = [\n    \t(\"The Catcher in the Rye\", \"J.D. Salinger\", 1951),\n    \t(\"To the Lighthouse\", \"Virginia Woolf\", 1927),\n    \t(\"Dune\", \"Frank Herbert\", 1965),\n    \t(\"Slaughterhouse-Five\", \"Kurt Vonnegut\", 1969)\n\t]\n\tcursor.executemany(\"INSERT INTO books (title, author, publication_year) VALUES (?, ?, ?)\", more_books_data)\n\tconn.commit()\n\n\t# Retrieve and print all book records\n\tcursor.execute(\"SELECT * FROM books\")\n\trecords = cursor.fetchall()\n\tprint(\"Updated Library Catalog:\")\n\tfor record in records:\n    \t    book_id, title, author, publication_year = record\n    \t    print(f\"Book ID: {book_id}, Title: {title}, Author: {author}, Year: {publication_year}\")\n        cursor.close()\n```", "```py\nOutput >>>\n\nUpdated Library Catalog:\nBook ID: 1, Title: The Great Gatsby, Author: F. Scott Fitzgerald, Year: 1925\nBook ID: 2, Title: To Kill a Mockingbird, Author: Harper Lee, Year: 1960\nBook ID: 3, Title: 1984, Author: George Orwell, Year: 1949\nBook ID: 4, Title: Pride and Prejudice, Author: Jane Austen, Year: 1813\nBook ID: 5, Title: The Catcher in the Rye, Author: J.D. Salinger, Year: 1951\nBook ID: 6, Title: To the Lighthouse, Author: Virginia Woolf, Year: 1927\nBook ID: 7, Title: Dune, Author: Frank Herbert, Year: 1965\nBook ID: 8, Title: Slaughterhouse-Five, Author: Kurt Vonnegut, Year: 1969 \n```"]