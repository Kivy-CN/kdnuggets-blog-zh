- en: 'SQL Case Study: Helping a Startup CEO Manage His Data'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2018/09/sql-case-study-helping-startup-ceo-manage-data.html](https://www.kdnuggets.com/2018/09/sql-case-study-helping-startup-ceo-manage-data.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [comments](/2018/09/sql-case-study-helping-startup-ceo-manage-data.html?page=2#comments)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
- en: '**By [Ezz El Din Abdullah](https://www.linkedin.com/in/ezzeddinabdullah/),
    Former Data Scientist Intern & Programming Tutor**'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: You may have heard that if you know English, you can mostly write queries with
    SQL. This is almost right, because SQL is very intuitive, and it is really like
    plain English.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: In this tutorial, you will learn how to create a table, insert values into it,
    use and understand some data types, use SELECT statements, UPDATE records, use
    some aggregate functions like COUNT(), MIN(), SUM(), use WHERE clause, remove
    a character from a string, cast a string to numeric values, write subquery, retrieve
    the top and bottom candidates, add a column, do a for loop, and make a histogram.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/64f8ef0e434222d28b74b283fc6e77f2.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
- en: Though, if you love videos more than articles while learning, I have published
    this article as a practical course at Udemy “[**Intuitive SQL Database Case Study**](https://www.udemy.com/intuitive-sql-databases-case-study)”.
    This course includes all the snippets of codes written here and more in an interactive
    way on a SQL shell.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: All the previous tasks can be done by showing a case study to help you find
    some guidance to play with data in a practical way. The best thing to do while
    reading this tutorial is to write the codes I write and please do yourself a favor
    and make your hands dirty especially if you are a beginner because this is what
    makes you brilliant in this language (actually true for almost anything you learn).
    If you know some SQL, I hope you find this article useful as well and see some
    other things might add to your knowledge.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: I’m working with PostgreSQL which is a general-purpose database management system,
    but you can still do all the codes for MySQL, Oracle, DB2, etc. If you just happen
    to find that a piece of code does not work, please ask google about the syntax
    of the database management system you use.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s say, we would like to have this table:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: '| Id | name | age | city | salary |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
- en: '| 1 | Wael | 23 | Cairo | 800$ |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
- en: '| 2 | Ragab | 24 | Giza | 900$ |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
- en: '| 3 | Ali | 24 | Giza | 1500$ |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
- en: '| 4 | Othman | 25 | Giza | 2000$ |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
- en: '| 5 | Waleed | 26 | Cairo | 2100$ |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
- en: '| 6 | Abdo | 23 | Alex | 900$ |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
- en: '| 7 | Moetaz | 22 | Cairo | 800$ |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
- en: '**Creating a table:**'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: 'We can create such a table using the following query:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Let’s see in more detail what happened for what we wrote. We created a table
    using create(). The table is called startup and it includes the id city with the
    data type integer with no possible NULL values; we’ll see why later. The second
    column is ‘name’ whose data type is a varchar(10) which is a variable-length character
    of 10 characters i.e. ‘Ali’ will take 3 character-size in memory while ‘Othman’
    will take 6 character-size in memory. This column can also be stored as a char
    which is a fixed-length character of 10 but in this case ‘Ali’ will take 10 character-size
    in memory while ‘Othman’ will take also 10 character-size in memory. The ‘name’
    column can also be stored as a text which is not very wise for storage because
    text can take up to 2GB of text data in memory. When writing queries, you should
    put storage into consideration because your table can contain large amounts of
    data and retrieving them may not be as fast as you desire.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: Back to the query, the ‘name’ column cannot be NULL (i.e. should contain a name
    not nothing). The ‘age’ column contains integer values and only the positive numbers
    are allowed. The ‘city’ and ‘salary’ contain variable-length character of 10 and
    5 characters respectively. Finally, the ‘id’ column contain unique values (a primary
    key). This means it cannot contain duplicate values (integers in our case). This
    syntax could be done when defining id as int, so it can be done as such ‘id int
    primary key not null’.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: Notice that SQL is case insensitive, so any key words from the above query can
    be lower case, but it’s a good practice to make them in upper case.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: '**Retrieving the data:**'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, we can retrieve what we have so far through:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The SELECT clause is the most used key word in SQL. This query simply can retrieve
    all the data from the startup table. As we can use from the result, it includes
    all the columns we created with 0 rows in it.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: '**Inserting values into a table:**'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s fill the first row in this table:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Now the first row is done:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: '| Id | name | age | city | salary |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
- en: '| 1 | Wael | 23 | Cairo | 800$ |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
- en: 'Let’s write the previous query again and see what happens:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'We see an error telling us:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: That’s because the id is a primary key and can only contain unique values not
    duplicates like the id = 1.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: 'If you made a mistake and enter a negative number for the age like this:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'You will get an error:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: That’s because you already made a constraint with a CHECK clause to include
    only the positive numbers.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s do another query to form the second row:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Let’s see what will happen if I do the following to fill the third row:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'There is an error telling us:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: That’s because the column ‘name’ which contains ‘Ali’ is not appearing as a
    string so we need to put it between single quotes.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: 'When forming the fourth row:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Let’s fill the rest of the columns:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'In the last row, I made a mistake and put the salary 2000$ not 800$. We can
    fix this by an updating query:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: The UPDATE clause is used followed by the name of the table setting the salary
    to 800$ for a condition where we do know that it defines the row of interest like
    the id = 7.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: UPDATE 子句被使用，后跟表名，将薪资设置为 800$，条件是我们知道它定义了感兴趣的行，例如 id = 7。
- en: '**Inserting into specific columns:**'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**插入到特定列中：**'
- en: 'Let’s try to add another row with specific columns; id and salary values:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试添加另一行，包含特定列；例如 id 和薪资值：
- en: '[PRE13]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'This will introduce an error telling us:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 这将引发一个错误，提示我们：
- en: '[PRE14]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: This means you must fill the column ‘name’ because we defined it as NOT NULL
    which means we can NOT let it empty; it must take value.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着你必须填写‘name’列，因为我们将其定义为 NOT NULL，这意味着我们不能让它为空；它必须有值。
- en: 'So, we can fix this by adding the name column to the query:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我们可以通过在查询中添加名称列来解决这个问题：
- en: '[PRE15]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: More On This Topic
  id: totrans-67
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更多相关内容
- en: '[Automated Machine Learning with Python: A Case Study](https://www.kdnuggets.com/2023/04/automated-machine-learning-python-case-study.html)'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[使用 Python 进行自动化机器学习：一个案例研究](https://www.kdnuggets.com/2023/04/automated-machine-learning-python-case-study.html)'
- en: '[12 Tips: From Data Analyst to Startup Co-Founder](https://www.kdnuggets.com/2021/12/12-tips-data-analyst-to-co-founder.html)'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[12 个建议：从数据分析师到初创公司联合创始人](https://www.kdnuggets.com/2021/12/12-tips-data-analyst-to-co-founder.html)'
- en: '[10 Hurdles of Building a Deep Tech Startup in the Age of ChatGPT](https://www.kdnuggets.com/2023/04/10-hurdles-building-deep-tech-startup-age-chatgpt.html)'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[在 ChatGPT 时代建立深科技初创公司的 10 个障碍](https://www.kdnuggets.com/2023/04/10-hurdles-building-deep-tech-startup-age-chatgpt.html)'
- en: '[KDnuggets News, August 31: The Complete Data Science Study Roadmap…](https://www.kdnuggets.com/2022/n35.html)'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[KDnuggets 新闻，8月31日：完整的数据科学学习路线图…](https://www.kdnuggets.com/2022/n35.html)'
- en: '[Super Study Guide: A Free Algorithms and Data Structures eBook](https://www.kdnuggets.com/2022/06/super-study-guide-free-algorithms-data-structures-ebook.html)'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[超级学习指南：免费的算法与数据结构电子书](https://www.kdnuggets.com/2022/06/super-study-guide-free-algorithms-data-structures-ebook.html)'
- en: '[The Complete Data Science Study Roadmap](https://www.kdnuggets.com/2022/08/complete-data-science-study-roadmap.html)'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[完整的数据科学学习路线图](https://www.kdnuggets.com/2022/08/complete-data-science-study-roadmap.html)'
