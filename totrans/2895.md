# 构建你的第一个语音助手

> 原文：[https://www.kdnuggets.com/2019/09/build-your-first-voice-assistant.html](https://www.kdnuggets.com/2019/09/build-your-first-voice-assistant.html)

[评论](#comments)![图像](../Images/147df9c07f706c18ecf8a9bdb821095c.png)

来源: [giphy](https://media.giphy.com/media/3oz8xTfD5SrkAwNNUQ/giphy.gif)

> 如今，听到有人对着不存在的对象说话并不奇怪。我们问Alexa天气如何，或者让它调低温度。然后，我们问Siri今天的日程安排，并打电话给人们。我们现在通过声音和语音接口技术比以往任何时候都更紧密地连接在一起。我真的无法再想象手动操作了！这确实是未来。
> 
> — [福布斯](https://www.forbes.com/sites/danielnewman/2018/08/22/voice-interface-technology-the-future-of-business/#5f12070e316a)

### 介绍

谁不想拥有一个随时听候指令、预见你的每一个需求并在必要时采取行动的助手呢？如今，这种奢侈品由于基于人工智能的语音助手而变得触手可及。

语音助手体积较小，能够在听到你的命令后执行各种操作。它们可以开灯、回答问题、播放音乐、下在线订单以及做各种基于AI的任务。

语音助手不同于虚拟助手，后者是远程工作的人员，能够处理各种任务。语音助手则基于技术。随着语音助手变得越来越强大，它们在个人和商业领域的效用也将增长。

![图像](../Images/16bd5e820b43d21d7dea3e97e9369c29.png)

[来源](https://ugetfix.com/how-useful-is-cortana-try-it-to-find-out/)

### 什么是语音助手？

一个**语音助手**或**智能个人助手**是一个软件代理，能够根据口头命令执行任务或服务，即通过解释人类语言并通过合成语音作出回应。用户可以通过语音向助手提问、控制家庭自动化设备、播放媒体，并管理其他基本任务，如电子邮件、待办事项、打开或关闭应用程序等。

让我以 [Braina (脑人工智能)](https://en.wikipedia.org/wiki/Braina) 为例，它是一个智能个人助手、人类语言接口、自动化以及**语音识别软件**，用于Windows PC。Braina 是一个多功能AI软件，允许你使用**语音命令**与电脑互动，支持世界上大多数语言。Braina 还允许你在超过100种不同语言中准确地将语音转换为文本。

### 语音助手的历史

![图像](../Images/a0e1065f65fd78d0318a61dadb957793.png)

[语音助手的现代历史](https://www.theoneoff.com/journal/the-rise-of-vui/)

近年来，语音助手获得了主要平台，因为 Apple 集成了最惊人的虚拟助手——Siri，它正式成为 Apple Inc. 的一部分。但最伟大的演变时间线始于 1962 年的西雅图世界博览会，当时 IBM 展示了一种名为 Shoebox 的独特设备。它的实际大小是一个鞋盒，能够执行科学功能，识别 16 个单词并以 0 到 9 的数字发声。

在 1970 年代，卡内基梅隆大学的研究人员在美国国防部及其国防高级研究计划局（DARPA）的 considerable 帮助下，制作了 Harpy。它能够理解近 1,000 个单词，相当于三岁小孩的词汇量。

像 Apple 和 IBM 这样的重大组织在 90 年代初开始制作利用语音识别的产品。1993 年，Macintosh 开始使用其 Macintosh 电脑和 PlainTalk 构建语音识别。

1997 年 4 月，Dragon NaturallySpeaking 是第一个能够理解约 100 个单词并将其转化为可读内容的持续听写产品。

![图示](../Images/e5039254d28bd942c2345da636cdab47.png)

[source](https://triggermovement.com/tag/tech/)

说到这里，构建一个简单的语音基础桌面/笔记本助手，该助手能够：

1.  在浏览器中打开 subreddit。

1.  在浏览器中打开任何网站。

1.  向你的联系人发送电子邮件。

1.  启动任何系统应用程序。

1.  告诉你几乎任何城市的当前天气和温度

1.  告诉你当前时间。

1.  问候

1.  在 VLC 媒体播放器上播放歌曲（当然，你需要在你的笔记本电脑/台式机上安装了 [VLC 媒体播放器](https://www.videolan.org/vlc/index.html)）

1.  更改桌面壁纸。

1.  告诉你最新的新闻动态。

1.  告诉你几乎任何你问的问题。

在这篇文章中，我们将构建一个基于语音的应用程序，它能够完成上述所有任务。但首先，请查看下面这个视频，这是我与桌面语音助手互动时录制的，我称她为 Sofia。

**[Nagesh Chauhan的新视频](https://photos.app.goo.gl/1a96nySXBQqjBQCX9?source=post_page-----85a5a49f6cc1----------------------)**

与 Sofia 互动

我希望你们喜欢我与 Sofia 互动的视频。现在让我们开始构建这个酷炫的东西……

**依赖项和要求：**

系统要求：Python 2.7，Spyder IDE，MacOS Mojave（版本 10.14）

安装所有这些 Python 库：

[PRE0]

### 让我们开始使用 Python 构建我们的桌面语音助手

![图示](../Images/542495fd4bb60e616d8032b2acb7b406.png)

[source](https://www.hackerearth.com/blog/talent-assessment/hire-programmer-using-online-coding-tests/)

从导入所有必需的库开始：

[PRE1] import speech_recognition as sr  import os  import sys  import re  import webbrowser  import smtplib  import requests  import subprocess  from pyowm import OWM  import youtube_dl  import vlc  import urllib  import urllib2  import json  from bs4 import BeautifulSoup as soup  from urllib2 import urlopen  import wikipedia  import random  from time import strftime [PRE2]`

为了让我们的语音助手执行上述所有功能，我们必须在一个方法中编码每一个功能的逻辑。

所以我们的第一步是创建一个方法来解释用户的语音回应。

[PRE3] def myCommand():      r = sr.Recognizer()      with sr.Microphone() as source:          print('说点什么...')          r.pause_threshold = 1          r.adjust_for_ambient_noise(source, duration=1)          audio = r.listen(source)      try:          command = r.recognize_google(audio).lower()          print('你说了: ' + command + '\n')      # 如果接收到无法识别的语音，则返回循环继续监听命令      except sr.UnknownValueError:          print('....')          command = myCommand();      return command [PRE4]`

接下来，创建一个将文本转换为语音的方法。

[PRE5] def sofiaResponse(audio):      print(audio)      for line in audio.splitlines():          os.system("say " + audio) [PRE6]`

现在创建一个循环来继续执行多个命令。在方法 `assistant()` 中传递用户命令（`myCommand()`）作为参数。

[PRE7] while True:      assistant(myCommand()) [PRE8]`

我们的下一步是创建多个 if 语句，分别对应每一个功能。所以我们来看看如何在 if 语句中为每个命令创建这些小模块。

### **1\. 在浏览器中打开 Reddit 子版块。**

用户将给出任何命令以打开 Reddit 上的任何子版块，命令应为“Hey Sofia! Can you please ***open Reddit subreddit_name***”。只有斜体粗体短语应按原样使用。你可以使用任何类型的前缀，只需注意斜体粗体短语。

> **工作原理：**如果你在命令中说了短语**open reddit**，它将使用 `re.search()` 在用户命令中搜索子版块名称。子版块将使用 [www.reddit.com](https://www.reddit.com/') 进行搜索，并通过 Python 的 Webbrowser 模块在浏览器中打开。**[Webbrowser](https://docs.python.org/2/library/webbrowser.html)** 模块提供了一个高级接口，用于允许用户显示基于 Web 的文档。

[PRE9] if 'open reddit' in command:          reg_ex = re.search('open reddit (.*)', command)          url = 'https://www.reddit.com/'          if reg_ex:              subreddit = reg_ex.group(1)              url = url + 'r/' + subreddit          webbrowser.open(url)          sofiaResponse('Reddit 内容已经为您打开了，先生。') [PRE10]`

所以，上述代码将会在你的默认浏览器中打开你想要的 Reddit。

### **2\. 在浏览器中打开任何网站。**

你可以通过说“打开 website.com”或“打开 website.org”来打开任何网站。

例如：“请打开 facebook.com”或“嘿，你能打开 linkedin.com 吗”，这样你可以让索非亚为你打开任何网站。

> **它是如何工作的：**如果你在命令中说了**open**这个词，它将使用 re.search() 搜索用户命令中的网站名称。接着，它会将网站名称附加到[https://www.](https://www./)并使用**webbrowser**模块在浏览器中打开完整的 URL。

[PRE11] elif 'open' in command:          reg_ex = re.search('open (.+)', command)          if reg_ex:              domain = reg_ex.group(1)              print(domain)              url = 'https://www.' + domain              webbrowser.open(url)              sofiaResponse('您请求的网站已经为您打开。')          else:              pass [PRE12]`

### **3\. 发送邮件。**

你也可以让你的桌面助手发送邮件。

> **它是如何工作的：**如果你在命令中说了**email**这个词，那么机器人将会询问收件人。如果我的回复是 rajat，机器人将使用 Python 的 smtplib 库。 [**smtplib 模块**](https://docs.python.org/3/library/smtplib.html)定义了一个 SMTP 客户端会话对象，可以用来向任何有 SMTP 或 ESMTP 监听守护进程的 Internet 机器发送邮件。发送邮件是通过 Python 的 smtplib 使用 SMTP 服务器完成的。首先，它将初始化 Gmail SMTP 使用**smtplib.SMTP()**，然后使用**ehlo()**函数识别服务器，然后加密会话**starttls()**，然后使用**login()**登录到你的邮箱，最后使用**sendmail()**发送消息。

[PRE13] elif 'email' in command:          sofiaResponse('收件人是谁？')          recipient = myCommand()if 'rajat' in recipient:              sofiaResponse('我应该对他说什么？')              content = myCommand()              mail = smtplib.SMTP('smtp.gmail.com', 587)              mail.ehlo()              mail.starttls()              mail.login('your_email_address', 'your_password')              mail.sendmail('sender_email', 'receiver_email', content)              mail.close()              sofiaResponse('邮件已成功发送。您可以检查您的收件箱。')else:              sofiaResponse('我不知道你是什么意思！') [PRE14]`

### **4\. 启动任何系统应用程序。**

说“启动日历”或“你能启动Skype吗”或“索非亚启动查找器”等，索非亚将为你启动该系统应用程序。

> **工作原理：**如果你在命令中说了**launch**这个词，它将使用 re.search() 在用户命令中查找应用程序名称（如果它在你的系统中存在）。然后它会将后缀“.app”附加到应用程序名称上。例如，你的应用程序名称可能是 calender.app（在 macOS 中，可执行文件以 .app 结尾，而在 Windows 中以 .exe 结尾）。然后将使用 Python 的 subprocess 模块的 Popen() 函数启动该可执行应用程序。[subprocess](https://docs.python.org/3/library/subprocess.html) 模块使你可以从 Python 程序中启动新应用程序。

[PRE15] elif 'launch' in command:          reg_ex = re.search('launch (.*)', command)          if reg_ex:              appname = reg_ex.group(1)              appname1 = appname+".app"              subprocess.Popen(["open", "-n", "/Applications/" + appname1], stdout=subprocess.PIPE)sofiaResponse('我已启动所需的应用程序') [PRE16]`

### **5\. 告诉你几乎任何城市的当前天气和温度。**

Sofia 还可以告诉你全球任何城市的天气、最高气温和最低气温。用户只需说类似“伦敦现在的天气如何”或“告诉我德里当前的天气”。

> **工作原理：**如果你在命令中说了**current weather**这个短语，它将使用 re.search() 查找城市名称。我使用了 Python 的 [pyowm](https://pyowm.readthedocs.io/en/latest/) 库来获取任何城市的天气。get_status() 将告诉你天气状况，如雾霾、阴云、雨天等，get_temperature() 将告诉你该城市的最高气温和最低气温。

[PRE17] elif 'current weather' in command:       reg_ex = re.search('current weather in (.*)', command)       if reg_ex:           city = reg_ex.group(1)           owm = OWM(API_key='ab0d5e80e8dafb2cb81fa9e82431c1fa')           obs = owm.weather_at_place(city)           w = obs.get_weather()           k = w.get_status()           x = w.get_temperature(unit='celsius')           sofiaResponse('%s 的当前天气是 %s。最高气温是 %0.2f 度，最低气温是 %0.2f 度摄氏度' % (city, k, x['temp_max'], x['temp_min'])) [PRE18]`

### **6\. 告诉你当前时间。**

“Sofia，你能告诉我现在几点钟吗？”或“现在时间是多少？”Sofia 会告诉你你所在时区的当前时间。

> **工作原理：很简单**

[PRE19] elif 'time' in command:       import datetime       now = datetime.datetime.now()       sofiaResponse('当前时间是 %d 小时 %d 分钟' % (now.hour, now.minute)) [PRE20]`

### **7\. 问候/离开**

说“hello Sofia”来问候你的语音助手，或者当你想让程序终止时，说“shutdown Sofia”或“Sofia 请关闭”等。

> **它是如何工作的：**如果你的命令中包含了**hello**这个词，那么根据一天中的时间，机器人会向用户打招呼。如果时间在中午12点之后，机器人会回应“Hello Sir. Good afternoon”，如果时间在下午6点之后，机器人会回应“Hello Sir. Good evening”。当你发出shutdown命令时，**sys.exit()**将被调用以终止程序。

[PRE21] #问候索非亚      elif 'hello' in command:          day_time = int(strftime('%H'))          if day_time < 12:              sofiaResponse('Hello Sir. Good morning')          elif 12 <= day_time < 18:              sofiaResponse('Hello Sir. Good afternoon')          else:              sofiaResponse('Hello Sir. Good evening')#终止程序  elif 'shutdown' in command:       sofiaResponse('Bye bye Sir. Have a nice day')       sys.exit() [PRE22]`

### **8. 在VLC媒体播放器中播放一首歌**

此功能允许你的语音机器人在VLC媒体播放器中播放你想要的歌曲。用户会说“索非亚，给我放首歌”，机器人会问“Sir，你想让我播放什么歌曲？”。只需说出歌曲的名字，索非亚将从youtube上下载这首歌到你的本地驱动器中，播放这首歌，并且如果你再次请求播放另一首歌，之前下载的歌曲将会自动删除。

> **它是如何工作的：**如果你的命令中包含了**play me a song**这个短语，它将会询问你要播放哪个视频歌曲。你要求的歌曲将在youtube.com上进行搜索，如果找到，歌曲将使用Python的youtube_dl库下载到你的本地目录中。**[youtube-dl](https://ytdl-org.github.io/youtube-dl/index.html)**是一个从YouTube.com及其他几个网站下载视频的命令行程序。现在歌曲将使用Python的**[VLC library](https://pypi.org/project/python-vlc/)**播放，play(path_to__videosong)模块实际播放歌曲。

现在，如果下次你要求播放其他歌曲，本地目录将会被清空，并且新的歌曲将会下载到该目录中。

[PRE23] elif 'play me a song' in command:          path = '/Users/nageshsinghchauhan/Documents/videos/'          folder = path          for the_file in os.listdir(folder):              file_path = os.path.join(folder, the_file)              try:                  if os.path.isfile(file_path):                      os.unlink(file_path)              except Exception as e:                  print(e)sofiaResponse('我应该播放什么歌，先生？')mysong = myCommand()          if mysong:              flag = 0              url = "https://www.youtube.com/results?search_query=" + mysong.replace(' ', '+')              response = urllib2.urlopen(url)              html = response.read()              soup1 = soup(html,"lxml")              url_list = []              for vid in soup1.findAll(attrs={'class':'yt-uix-tile-link'}):                  if ('https://www.youtube.com' + vid['href']).startswith("https://www.youtube.com/watch?v="):                      flag = 1                      final_url = 'https://www.youtube.com' + vid['href']                      url_list.append(final_url)url = url_list[0]              ydl_opts = {}os.chdir(path)              with youtube_dl.YoutubeDL(ydl_opts) as ydl:                  ydl.download([url])              vlc.play(path)if flag == 0:                  sofiaResponse('我在YouTube上没有找到任何内容 ') [PRE24]

### **9\. 更改桌面壁纸。**

你们也可以使用此功能更改桌面壁纸。当你说类似“更改壁纸”或“索非亚，请更改壁纸”的话时，机器人将从[unsplash.com](https://unsplash.com/)下载随机壁纸并将其设置为桌面背景。

> **工作原理：**如果你在命令中说了**更改壁纸**，程序将从unsplash.com下载一张随机壁纸，存储在本地目录中，并使用subprocess.call()将其设置为桌面壁纸。我使用了unsplash API来访问其内容。

如果下次你再次要求更改壁纸，本地目录将被清空，新壁纸将被下载到该目录中。

[PRE25] elif 'change wallpaper' in command:          folder = '/Users/nageshsinghchauhan/Documents/wallpaper/'          for the_file in os.listdir(folder):              file_path = os.path.join(folder, the_file)              try:                  if os.path.isfile(file_path):                      os.unlink(file_path)              except Exception as e:                  print(e)          api_key = 'fd66364c0ad9e0f8aabe54ec3cfbed0a947f3f4014ce3b841bf2ff6e20948795'          url = 'https://api.unsplash.com/photos/random?client_id=' + api_key #pic from unspalsh.com          f = urllib2.urlopen(url)          json_string = f.read()          f.close()          parsed_json = json.loads(json_string)          photo = parsed_json['urls']['full']          urllib.urlretrieve(photo, "/Users/nageshsinghchauhan/Documents/wallpaper/a") # 保存图像的路径          subprocess.call(["killall Dock"], shell=True)          sofiaResponse('壁纸更改成功') [PRE26]`

### **10\. 告诉你最新的新闻动态。**

Sofia 还可以告诉你最新的新闻更新。用户只需说“ Sofia, 今天的头条新闻是什么？” 或“告诉我今天的新闻”。

> **工作原理：**如果你在命令中说了短语**news for today**，它会使用[Beautiful Soup](https://www.crummy.com/software/BeautifulSoup/bs4/doc/)从 Google News RSS() 抓取数据并为你阅读。为了方便，我将新闻数量限制设置为 15。

[PRE27] elif 'news for today' in command:          try:              news_url="https://news.google.com/news/rss"              Client=urlopen(news_url)              xml_page=Client.read()              Client.close()              soup_page=soup(xml_page,"xml")              news_list=soup_page.findAll("item")              for news in news_list[:15]:                  sofiaResponse(news.title.text.encode('utf-8'))          except Exception as e:                  print(e) [PRE28]`

### **11\. 告诉你你询问的几乎所有事情。**

你的机器人几乎可以获取你询问的所有细节。例如，“Sofia，告诉我关于 Google 的信息”或“请告诉我关于超级计算机的信息”或“请告诉我关于互联网的信息”。所以，你可以看到你几乎可以询问任何事情。

> **工作原理：**如果你在命令中说了短语**tell me about**，它会使用`re.search()`在用户命令中搜索关键词。利用 Python 的 Wikipedia 库，它会搜索该主题并提取前 500 个字符（如果你没有指定限制，机器人会为你阅读整个页面）。[Wikipedia](https://pypi.org/project/python-vlc/)是一个 Python 库，使得访问和解析 Wikipedia 数据变得非常容易。

[PRE29] elif 'tell me about' in command:          reg_ex = re.search('tell me about (.*)', command)          try:              if reg_ex:                  topic = reg_ex.group(1)                  ny = wikipedia.page(topic)                  sofiaResponse(ny.content[:500].encode('utf-8'))          except Exception as e:                  sofiaResponse(e) [PRE30]

将所有内容整合起来

[PRE31] 导入 `speech_recognition` 模块为 `sr`，导入 `os`，`sys`，`re`，`webbrowser`，`smtplib`，`requests`，`subprocess`，从 `pyowm` 导入 `OWM`，导入 `youtube_dl`，`vlc`，`urllib`，`urllib2`，`json`，从 `bs4` 导入 `BeautifulSoup` 为 `soup`，从 `urllib2` 导入 `urlopen`，导入 `wikipedia`，`random`，从 `time` 导入 `strftime`。定义 `sofiaResponse(audio)`：    "说出作为参数传递的音频"。打印音频。对音频进行行分割：        执行 `os.system("say " + audio)`。定义 `myCommand()`：    "监听命令"。创建 `r` 为 `sr.Recognizer()`。使用 `sr.Microphone()` 作为源：        打印“说点什么……”        设置 `r.pause_threshold = 1`        调整环境噪音，持续时间为 1 秒        监听音频。尝试：        使用 `r.recognize_google(audio).lower()` 识别命令并打印“你说了: ” + 命令 + '\n'。        #循环以继续监听命令，如果接收到无法识别的语音则继续。        除非捕获 `sr.UnknownValueError`：            打印“....”            命令 = `myCommand()`。        返回命令。定义 `assistant(command)`：    "执行命令的 if 语句"    #打开子版块 Reddit。    如果命令中包含 'open reddit'：        使用正则表达式搜索 'open reddit (.*)'        设置 URL 为 'https://www.reddit.com/'        如果找到匹配：            从正则表达式组中获取子版块            将 URL 更新为 'r/' + 子版块        打开 URL        `sofiaResponse('The Reddit content has been opened for you Sir.')`    elif 'shutdown' 在命令中：        `sofiaResponse('Bye bye Sir. Have a nice day')`        `sys.exit()`    #打开网站    elif 'open' 在命令中：        使用正则表达式搜索 'open (.+)'        如果找到匹配：            从正则表达式组中获取域名            打印域名            设置 URL 为 'https://www.' + 域名            打开 URL            `sofiaResponse('The website you have requested has been opened for you Sir.')`        否则：            pass    #问候    elif 'hello' 在命令中：        获取当前时间小时数        如果时间小于 12：            `sofiaResponse('Hello Sir. Good morning')`        elif 12 <= 时间 < 18：            `sofiaResponse('Hello Sir. Good afternoon')`        否则：            `sofiaResponse('Hello Sir. Good evening')`    elif 'help me' 在命令中：        `sofiaResponse("""        你可以使用这些命令，我会帮助你：1\. 打开 Reddit 子版块：在默认浏览器中打开子版块。        2\. 打开 xyz.com：用任何网站名称替换 xyz。        3\. 发送邮件：将按顺序询问收件人姓名和内容。        4\. 当前天气在 {cityname}：告诉你当前天气状况和温度。        5\. 你好        6\. 播放视频：在 VLC 媒体播放器中播放歌曲。        7\. 更换壁纸：更改桌面壁纸。        8\. 今日新闻：读取今天的头条新闻。        9\. 时间：当前系统时间。        10\. 谷歌新闻的头条故事（RSS 源）。        11\. 告诉我关于 xyz 的事：告诉你关于 xyz 的事。        """)`    #笑话    elif 'joke' 在命令中：        从 'https://icanhazdadjoke.com/' 获取请求        如果响应状态码为 OK：            `sofiaResponse(str(res.json()['joke']))`        否则：            `sofiaResponse('oops!I ran out of jokes')`    #谷歌新闻的头条故事    elif 'news for today' 在命令中：        尝试：            新闻 URL 为 "https://news.google.com/news/rss"            客户端 = `urlopen(news_url)`            XML 页面 = 客户端.read()            客户端关闭()            soup 页面 = `soup(xml_page,"xml")`            新闻列表 = soup_page.findAll("item")            对于前 15 条新闻：                `sofiaResponse(news.title.text.encode('utf-8'))`        除非捕获异常：            打印异常    #当前天气    elif 'current weather' 在命令中：        使用正则表达式搜索 'current weather in (.*)'        如果找到匹配：            从正则表达式组中获取城市            创建 OWM 实例，使用 API 密钥            获取该城市的天气            获取天气状态和温度            `sofiaResponse('当前 %s 的天气是 %s。最高温度为 %0.2f 度，最低温度为 %0.2f 度摄氏度' % (城市, 状态, 温度['temp_max'], 温度['temp_min']))`    #时间    elif 'time' 在命令中：        导入 `datetime`        当前时间 = `datetime.datetime.now()`        `sofiaResponse('当前时间是 %d 小时 %d 分钟' % (now.hour, now.minute))`    elif 'email' 在命令中：        `sofiaResponse('收件人是谁？')`        收件人 = `myCommand()`        如果收件人中包含 'rajat'：            `sofiaResponse('我该对他说什么？')`            内容 = `myCommand()`            创建 SMTP 实例            登录并发送邮件            关闭邮件客户端            `sofiaResponse('邮件已成功发送。你可以查看你的收件箱。')`        否则：            `sofiaResponse('我不知道你在说什么！')`    #启动应用程序    elif 'launch' 在命令中：        使用正则表达式搜索 'launch (.*)'        如果找到匹配：            从正则表达式组中获取应用名称            更新应用名称为 ".app"            启动应用程序        `sofiaResponse('我已启动所需的应用程序')`    #播放 YouTube 歌曲    elif 'play me a song' 在命令中：        设置路径和文件夹        清理文件夹中的所有文件        `sofiaResponse('我该播放什么歌曲，先生？')`        歌曲 = `myCommand()`        如果歌曲：            标志 = 0            设置 YouTube 搜索 URL            获取 HTML 内容            解析 HTML            获取视频 URL 列表            下载并播放歌曲        如果未找到视频：            `sofiaResponse('我没有找到任何 YouTube 视频 ')`    #更换壁纸    elif 'change wallpaper' 在命令中：        清理壁纸文件夹中的所有文件        使用 Unsplash API 获取随机图片        下载图片并更新壁纸        `sofiaResponse('壁纸已成功更改')`    #问我任何事    elif 'tell me about' 在命令中：        使用正则表达式搜索 'tell me about (.*)'        尝试：            如果找到匹配：                从维基百科获取主题页面                `sofiaResponse(ny.content[:500].encode('utf-8'))`        除非捕获异常：            打印异常        `sofiaResponse('你好用户，我是 Sofia，你的个人语音助手，请给出命令或说 "help me"，我将告诉你我能做什么。')`    #循环继续执行多个命令。    while True：        `assistant(myCommand())` [PRE32]

你已经看到，通过编写简单的 Python 代码，我们可以创建一个非常酷的语音桌面/笔记本电脑助手。除了这些功能，你还可以在你的语音助手中加入许多其他功能。

> 请注意，一旦你开始执行程序时，在与语音助手互动时要大声且清晰，因为如果你的声音不清楚，语音助手可能无法正确解读你的指令。

### 结论：未来的展望

在计算机历史上，用户界面变得越来越自然易用。屏幕和键盘是朝着这个方向迈出的第一步。鼠标和图形用户界面是另一步。触摸屏是最新的发展。下一步很可能是增强现实、手势和语音命令的混合。毕竟，提问或进行对话通常比输入文本或在在线表单中填写多个细节要简单得多。

人们与语音激活设备互动的越多，系统就能根据接收到的信息识别出更多的趋势和模式。然后，这些数据可以用于确定用户的偏好和口味，这对使家庭变得更智能是一个长期的卖点。谷歌和亚马逊正在寻求集成能够分析和响应人类情感的语音启用人工智能。

希望大家喜欢阅读这篇文章。请在评论区分享你的想法/评论/疑问。你可以通过 [LinkedIn](https://www.linkedin.com/in/nagesh-singh-chauhan-6936bb13b/) 联系我。

**简介：[纳戈什·辛格·乔汉](https://www.linkedin.com/in/nagesh-singh-chauhan-6936bb13b/)** 是 CirrusLabs 的大数据开发人员。他在电信、分析、销售、数据科学等多个领域拥有超过 4 年的工作经验，专注于各种大数据组件。

[原文](https://towardsdatascience.com/build-your-first-voice-assistant-85a5a49f6cc1)。经许可转载。

**相关：**

+   [用 Python 进行实用语音识别：基础知识](/2019/07/practical-speech-recognition-python-basics.html)

+   [顶级语音处理 API 的比较](/2018/12/activewizards-comparison-speech-processing-apis.html)

+   [TensorFlow vs PyTorch vs Keras 在 NLP 中的比较](/2019/09/tensorflow-pytorch-keras-nlp.html)

* * *

## 我们的三大课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [谷歌网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速入门网络安全职业生涯。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [谷歌数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [谷歌 IT 支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你的组织的 IT 需求

* * *

### 更多相关主题

+   [克服多语言语音技术中的障碍：前5大挑战及创新解决方案](https://www.kdnuggets.com/2023/08/overcoming-barriers-multilingual-voice-technology-top-5-challenges-innovative-solutions.html)

+   [它活过来了！用Python和一些便宜的基础组件构建你的第一个机器人](https://www.kdnuggets.com/2023/06/manning-build-first-robots-python-cheap-basic-components.html)

+   [GPT-工程师：你的新AI编程助手](https://www.kdnuggets.com/2023/07/gpt-engineer-ai-coding-assistant.html)

+   [如何在没有任何工作经验的情况下获得你的第一份数据科学工作](https://www.kdnuggets.com/2021/02/first-job-data-science-without-work-experience.html)

+   [用TensorFlow和Keras构建和训练你的第一个神经网络](https://www.kdnuggets.com/2023/05/building-training-first-neural-network-tensorflow-keras.html)

+   [从零到英雄：用PyTorch创建你的第一个机器学习模型](https://www.kdnuggets.com/from-zero-to-hero-create-your-first-ml-model-with-pytorch)
