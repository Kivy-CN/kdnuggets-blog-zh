["```py\npip install pandas seaborn\n```", "```py\nimport pandas as pd\nimport seaborn as sns\n\ntitanic = sns.load_dataset('titanic')\n```", "```py\npivot = pd.pivot_table(titanic, values='age', index='class', columns='sex', aggfunc='mean')\nprint(pivot)\n```", "```py\nOutput>>>\nsex        female       male\nclass                       \nFirst   34.611765  41.281386\nSecond  28.722973  30.740707\nThird   21.750000  26.507589\n```", "```py\npivot = pd.pivot_table(titanic, values='fare', index='class', columns='sex', aggfunc=['mean', 'sum'])\nprint(pivot)\n```", "```py\nOutput>>>\n             mean                   sum           \nsex         female       male     female       male\nclass                                              \nFirst   106.125798  67.226127  9975.8250  8201.5875\nSecond   21.970121  19.741782  1669.7292  2132.1125\nThird    16.118810  12.661633  2321.1086  4393.5865\n```", "```py\ndef data_div_two(x):\n    return (x.max() - x.min())/2\n\npivot = pd.pivot_table(titanic, values='age', index='class', columns='sex', aggfunc=data_div_two)\nprint(pivot)\n```", "```py\nOutput>>>\nsex     female    male\nclass                 \nFirst   30.500  39.540\nSecond  27.500  34.665\nThird   31.125  36.790\n```", "```py\npivot = pd.pivot_table(titanic, values='age', index='class', columns='sex', aggfunc='mean', margins=True)\nprint(pivot)\n```", "```py\nOutput>>>\nsex        female       male        All\nclass                                  \nFirst   34.611765  41.281386  38.233441\nSecond  28.722973  30.740707  29.877630\nThird   21.750000  26.507589  25.140620\nAll     27.915709  30.726645  29.699118\n```"]