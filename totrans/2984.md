# 4个理由说明为什么您的机器学习代码可能很糟糕

> 原文：[https://www.kdnuggets.com/2019/02/4-reasons-machine-learning-code-probably-bad.html](https://www.kdnuggets.com/2019/02/4-reasons-machine-learning-code-probably-bad.html)

![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [评论](#comments)

**由 [Norman Niemer](https://www.linkedin.com/in/normanniemer/)，首席数据科学家**

![](../Images/6d51fa847ff4f19caeef7e4e039566a7.png)

* * *

## 我们的前三个课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业轨道。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升您的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持您的组织IT

* * *

您当前的工作流可能像下面的示例一样将多个函数串联在一起。虽然快速，但它可能存在许多问题：

+   随着复杂性的增加，它的扩展性不好

+   您必须手动跟踪哪些函数与哪些参数一起运行

+   您必须手动跟踪数据保存的位置

+   他人很难阅读

[PRE0]

### 该怎么办？

与其线性地链接函数，数据科学代码更适合编写为一组任务，这些任务之间有依赖关系。也就是说，您的数据科学工作流应为DAG。

所以，与其编写一个执行的函数：

[PRE1]

您更适合编写可以作为DAG连接在一起的任务：

[PRE2]

这样做的好处包括：

+   所有任务遵循相同的模式，无论工作流多复杂

+   您有一个可扩展的输入 `requires()` 和处理函数 `run()`

+   您可以快速加载和保存数据，而无需硬编码文件名

+   如果输入任务未完成，它将自动运行

+   如果输入数据或参数发生变化，函数将自动重新运行

### 一个示例机器学习DAG

以下是一个机器学习流程的风格化示例，以DAG形式表达。最后，您只需运行 TaskTrain()，它会自动知道哪些依赖关系需要运行。有关完整示例，请参见 [https://github.com/d6t/d6tflow/blob/master/docs/example-ml.md](https://github.com/d6t/d6tflow/blob/master/docs/example-ml.md)

[PRE3]

### 结论

将机器学习代码编写为一系列线性函数可能会产生许多工作流问题。由于不同机器学习任务之间的复杂依赖关系，最好将它们编写为DAG。[https://github.com/d6t/d6tflow](https://github.com/d6t/d6tflow) 使这一过程变得非常简单。或者，您可以使用 [luigi](https://github.com/spotify/luigi) 和 [airflow](https://airflow.apache.org/)，但它们更适合ETL而非数据科学。

**简历：[诺曼·尼默](https://www.linkedin.com/in/normanniemer/)** 是一家大型资产管理公司的首席数据科学家，他提供数据驱动的投资洞察。他拥有哥伦比亚大学的金融工程硕士学位和伦敦卡斯商学院的银行与金融学士学位。

[原文](https://gist.github.com/d6tdev/44083e201104006b05be7f2ed5eeb5f9)。经许可转载。

**相关：**

+   [机器学习项目清单](/2018/12/machine-learning-project-checklist.html)

+   [初创公司的数据科学项目流程](/2019/01/data-science-project-flow-startups.html)

+   [机器学习项目的全流程指南](/2019/01/end-to-end-guide-machine-learning-project.html)

### 更多相关内容

+   [成为出色数据科学家所需的5项关键技能](https://www.kdnuggets.com/2021/12/5-key-skills-needed-become-great-data-scientist.html)

+   [每个初学者数据科学家都应该掌握的6种预测模型](https://www.kdnuggets.com/2021/12/6-predictive-models-every-beginner-data-scientist-master.html)

+   [2021年最佳ETL工具](https://www.kdnuggets.com/2021/12/mozart-best-etl-tools-2021.html)

+   [使用管道编写干净的Python代码](https://www.kdnuggets.com/2021/12/write-clean-python-code-pipes.html)

+   [停止学习数据科学以寻找目的，并寻找目的以……](https://www.kdnuggets.com/2021/12/stop-learning-data-science-find-purpose.html)

+   [学习数据科学统计学的顶级资源](https://www.kdnuggets.com/2021/12/springboard-top-resources-learn-data-science-statistics.html)
