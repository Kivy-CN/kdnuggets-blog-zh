# NLP 方法分析 Twitter、特朗普与粗俗语言

> 原文：[https://www.kdnuggets.com/2016/11/nlp-approach-analyzing-twitter-trump-profanity.html](https://www.kdnuggets.com/2016/11/nlp-approach-analyzing-twitter-trump-profanity.html)

**由 Stephanie Kim， [Algorithmia](https://algorithmia.com/)**。

![分析 Twitter 中的粗俗语言](../Images/bb1ea3b1d18c17c34e8ee5cefb33f914.png)

谁更喜欢骂人？提到特朗普的 Twitter 用户是否比提到希拉里的用户更喜欢使用粗俗语言？让我们通过自然语言处理（简称 NLP）的方法来分析推文，看看结果吧。

本指南将提供基本介绍，帮助所有背景和能力的开发者开始使用 Algorithmia 上的[NLP 微服务](https://algorithmia.com/tags/nlp)。我们将展示如何将它们串联起来，对非结构化文本进行轻度分析。不熟悉 NLP？我们的[温和 NLP 入门](http://blog.algorithmia.com/2015/09/getting-started-with-natural-language-processing/)将帮助你入门。

我们知道，开始使用新的平台或开发工具是时间和精力的投资。有时很难找到开始自己探索所需的信息。这就是为什么我们将所有信息集中在[Algorithmia 开发者中心](http://developers.algorithmia.com/)和[API 文档](http://docs.algorithmia.com/)中，用户可以在这里找到有用的提示、代码片段和入门指南。这些指南旨在帮助开发者将算法集成到应用程序和项目中，学习如何托管他们训练的机器学习模型，或构建自己的算法以供他人通过 API 端点使用。

现在，让我们使用一些算法来检索内容，并使用 NLP 进行分析。还有什么比 Twitter 更好的起点，以及分析我们最喜爱的总统候选人呢？

### Twitter、特朗普与粗俗语言：一种 NLP 方法

首先，让我们在 Algorithmia 上找到与 Twitter 相关的算法。到导航栏顶部的搜索框中输入“Twitter”：

[![搜索算法。](../Images/22da7c9cc026ec0a5aac0f568af93d9e.png)](http://blog.algorithmia.com/wp-content/uploads/2016/07/search_box.png)

你会得到很多结果，但找到名为[根据关键词检索推文](https://algorithmia.com/algorithms/twitter/RetrieveTweetsWithKeyword)的算法，并查看算法页面，它将告诉你算法的描述、定价以及此算法的权限设置：

[![根据关键词检索推文算法](../Images/08d4e6edcf8ba1c7a9e15ed584c8f1f8.png)](http://blog.algorithmia.com/wp-content/uploads/2016/07/twitter_algo_page-1.png)

算法描述提供了关于期望的输入和输出数据结构的信息，以及任何其他要求的详细信息。例如，按关键字检索推文需要你的[Twitter API 认证密钥](https://dev.twitter.com/oauth/overview)。

在每个算法页面的底部，我们提供了输入、输出的代码示例，以及如何在 Python、Rust、Ruby、JavaScript、NodeJS、cURL、CLI、Java 或 Scala 中调用算法。如果你对使用 Algorithmia API 的细节有疑问，请查看[API 文档](http://docs.algorithmia.com/)。

好吧，我们开始吧！

这是我们项目的整体结构：

```py
+-- profanity_demo
|   +-- data
|       +-- Donald-Trump-OR-Trump.csv
|       +-- Hillary-Clinton-OR-Hillary.csv
|   +-- logs
|       +-- twitter_data_pull.log
|   +-- profanity_analysis.py
|   +-- twitter_pull_data.py
```

你需要一个免费的 Algorithmia 账户来完成这个项目。[免费注册并获得额外 10,000 个积分](https://algorithmia.com/signup?invite=onTwitter)。总体而言，该项目将处理大约 700 条推文，去除表情符号和其他特殊字符。这意味着如果一条推文仅包含 URL 和表情符号，则不会被分析。一旦我们从 Twitter API 中提取数据，我们将使用正则表达式进行清理，去除停用词，然后找到我们的脏话。

### 步骤一：按关键字检索推文

我们将首先使用[按关键字检索推文](https://algorithmia.com/algorithms/twitter/RetrieveTweetsWithKeyword)算法来查询来自[Twitter 搜索 API](https://dev.twitter.com/rest/public/search)的推文：

好的，让我们来看看代码片段中显而易见的部分。这个算法接受一个名为‘input’的嵌套字典，包含键：‘query’，‘numTweets’ 和 ‘auth’，其中‘auth’本身也是一个字典。键‘query’设置为名为 q_input 的全局变量，并保存执行脚本时传入的系统参数。在我们的例子中，它将保存一个总统候选人的名字。键‘numTweets’设置为你想提取的推文数量，而字典‘auth’保存[Twitter 认证密钥和令牌](https://dev.twitter.com/oauth/overview)，这些是你从 Twitter 获得的。

当你编写 pull_tweets() 函数时，请注意将变量‘client’设置为‘Algorithmia.client(algorithmia_api_key)’的那一行。在这里，你传入了注册 Algorithmia 账户时分配给你的 API 密钥。如果你不记得在哪里找到，可以在 My Profile 页面中的 Credentials 部分找到。

接下来注意变量‘algo’。这里是我们传递算法路径的位置。每个算法的文档会在算法页面底部的代码示例部分提供适当的路径。

最后，列表推导式‘tweet_list’在通过将输入变量传递给 algo.pipe(input).result 循环算法结果后保存我们的数据。

现在，你只需将数据写入一个以你的查询命名的 CSV 文件。注意：如果你的查询是一个空格分隔的字符串，脚本将用短横线连接查询。

* * *

## 我们的前三大课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [谷歌网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全领域的职业道路。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [谷歌数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析能力

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [谷歌 IT 支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持组织的 IT 需求

* * *

### 更多相关主题

+   [使用微调的 SciBERT NER 模型和 Neo4j 分析科学文章](https://www.kdnuggets.com/2021/12/analyzing-scientific-articles-finetuned-scibert-ner-model-neo4j.html)

+   [数据分析：四种数据分析方法及其应用……](https://www.kdnuggets.com/2023/04/data-analytics-four-approaches-analyzing-data-effectively.html)

+   [分析未来成功概率的智能方法……](https://www.kdnuggets.com/2022/02/analyzing-probability-future-success-intelligence-node-attributes-evolution-model.html)

+   [用 SQL 分析多样性和包容性](https://www.kdnuggets.com/2022/11/analyzing-diversity-inclusion-sql.html)

+   [掌握数据分析的力量：四种数据分析方法](https://www.kdnuggets.com/2023/03/master-power-data-analytics-four-approaches-analyzing-data.html)

+   [成为数据科学家的指南（逐步方法）](https://www.kdnuggets.com/2021/05/guide-become-data-scientist.html)
