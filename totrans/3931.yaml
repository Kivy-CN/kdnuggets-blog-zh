- en: Are Vectorized Random Number Generators Actually Useful?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2018/08/vectorized-random-number-generators-actually-useful.html](https://www.kdnuggets.com/2018/08/vectorized-random-number-generators-actually-useful.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [comments](#comments)'
  prefs: []
  type: TYPE_IMG
- en: '**By Daniel Lemire, University of Quebec**'
  prefs: []
  type: TYPE_NORMAL
- en: '![Header image](../Images/25072eec309b6295ee5e3aecc0523253.png)'
  prefs: []
  type: TYPE_IMG
- en: Our processors benefit from “SIMD” instructions. These instructions can operate
    on several values at once, thus greatly accelerating some algorithms. Earlier,
    I reported that you can multiply the speed of common (fast) random number generators
    such as PCG and xorshift128+ by a factor of three or four by vectorizing them
    using SIMD instructions.
  prefs: []
  type: TYPE_NORMAL
- en: 'A reader challenged me: is this actually useful in practice?'
  prefs: []
  type: TYPE_NORMAL
- en: 'There are problems where the generation of random number is critical to the
    performance. That is the case in many simulations, for example. The simplest and
    best known one is probably the random shuffling of arrays. The standard algorithm
    is quite simple:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '[If you are interested, O’Neill wrote a whole blog post of this specific problem](http://www.pcg-random.org/posts/bounded-rands.html).'
  prefs: []
  type: TYPE_NORMAL
- en: So can I accelerate the shuffling of an array using SIMD instructions?
  prefs: []
  type: TYPE_NORMAL
- en: 'So I threw together a vectorized shuffle and a regular (scalar) shuffle, both
    of them using O’Neill’s PCG32\. The net result? I almost double the speed using
    SIMD instructions when the array is in cache:'
  prefs: []
  type: TYPE_NORMAL
- en: '| SIMD shuffle | 3.5 cycles per entry |'
  prefs: []
  type: TYPE_TB
- en: '| scalar shuffle | 6.6 cycles per entry |'
  prefs: []
  type: TYPE_TB
- en: '[My code is available](https://github.com/lemire/Code-used-on-Daniel-Lemire-s-blog/tree/master/2018/07/23).
    I do not do anything sophisticated so I expect it is possible to do a lot better.
    My sole goal was to demonstrate that SIMD random number generators are practical.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Bio: [Daniel Lemire](http://lemire.me/blog/)** is a computer science professor
    at the University of Quebec. His research is focused on software performance and
    indexing. He is a techno-optimist.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Original](https://lemire.me/blog/2018/07/23/are-vectorized-random-number-generators-actually-useful/).
    Reposted with permission.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Related:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[The Surprising Complexity of Randomness](/2017/06/surprising-complexity-randomness.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Common Sense in Artificial Intelligence… by 2026?](/2016/08/common-sense-artificial-intelligence-2026.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Is Deep Learning the Silver Bullet?](/2017/02/deep-learning-silver-bullet.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Getting Started with Python Generators](https://www.kdnuggets.com/2023/02/getting-started-python-generators.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[What Junior ML Engineers Actually Need to Know to Get Hired?](https://www.kdnuggets.com/what-junior-ml-engineers-actually-need-to-know-to-get-hired)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Free Courses That Are Actually Free: AI & ML Edition](https://www.kdnuggets.com/free-courses-that-are-actually-free-ai-ml-edition)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Random Forest vs Decision Tree: Key Differences](https://www.kdnuggets.com/2022/02/random-forest-decision-tree-key-differences.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Does the Random Forest Algorithm Need Normalization?](https://www.kdnuggets.com/2022/07/random-forest-algorithm-need-normalization.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Decision Trees vs Random Forests, Explained](https://www.kdnuggets.com/2022/08/decision-trees-random-forests-explained.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
