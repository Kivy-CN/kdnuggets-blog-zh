# A/B 测试：数据科学面试中 7 个常见问题及解答，第 1 部分

> 原文：[https://www.kdnuggets.com/2021/04/ab-testing-7-common-questions-answers-data-science-interviews-1.html](https://www.kdnuggets.com/2021/04/ab-testing-7-common-questions-answers-data-science-interviews-1.html)

[评论](#comments)

**注意**：这是本文的第一部分。你可以在 [这里](/2021/04/ab-testing-7-common-questions-answers-data-science-interviews-2.html) 阅读第二部分。

A/B 测试，也称为对照实验，广泛应用于行业中以做出产品发布决策。它允许科技公司通过对一部分用户进行评估来推测产品如何被所有用户接受。数据科学家处于 A/B 测试过程的前沿，而 A/B 测试被认为是数据科学家的核心能力之一。**数据科学面试反映了这一现实**。面试官通常会问候选人关于 A/B 测试的问题，以及商业案例问题（即度量问题、产品感知问题），以评估候选人的产品知识和推动 A/B 测试过程的能力。

* * *

## 我们的前三大课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [谷歌网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业轨道

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [谷歌数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [谷歌 IT 支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你的组织 IT

* * *

在本文中，我们将采用**面试驱动**的方法，将一些最常被问及的面试问题与 A/B 测试的不同组件关联起来，包括选择测试的想法、设计 A/B 测试、评估测试结果以及做出是否发布的决定。具体来说，我们将涵盖**7**个最常被问及的面试问题及其答案。

在你开始阅读之前，如果你喜欢视频，可以查看这个 [YouTube 视频](https://youtu.be/X8u6kr4fxXc) 以获取本帖的简略版本。

### 测试前 — 不是每个想法都值得测试

A/B测试是一个强大的工具，但并非所有想法都通过测试来选择。一些想法的测试可能很昂贵，早期阶段的公司可能资源有限，因此**对每个想法进行测试是不切实际的**。因此，我们首先需要选择哪些想法值得测试，特别是在大家对如何改进产品有不同意见和想法时，并且有许多想法可以选择。例如，UX设计师可能建议更改一些UI元素，产品经理可能提议简化结账流程，工程师可能推荐优化后台算法等。在这种情况下，利益相关者依赖数据科学家来驱动数据驱动的决策。一个典型的面试问题是：

> 有一些想法可以增加电商网站的转化率，例如启用多商品结账（目前用户每次只能结账一个商品）、允许未注册用户结账、更改“购买”按钮的大小和颜色等，你会如何选择投资哪个想法？

评估不同想法的价值的一种方法是使用历史数据进行**定量分析**，以获取每个想法的**机会规模**。例如，在对多个商品进行电商网站结账投资之前，通过分析每个用户购买多个商品的数量，获取影响的上限。如果只有极少数用户购买了多个商品，开发这个功能可能不值得付出努力。更重要的是调查用户的购买行为，以了解为什么用户不会一起购买多个商品。是因为商品选择太少？商品价格过高，他们只能买一个？结账过程太复杂，他们不愿意再次经历？

这种分析提供了关于哪个想法适合进行A/B测试的方向性见解。然而，历史数据仅能告诉我们过去的表现，无法准确预测未来。

为了对每个想法进行全面评估，我们可以通过焦点小组和调查进行**定性分析**。从焦点小组（与用户或有洞察力的用户进行引导讨论）或调查中收集的反馈可以提供有关用户痛点和偏好的更多见解。定性和定量分析的结合可以帮助进一步进行想法筛选。

### 设计A/B测试

一旦我们选择了一个想法进行测试，我们需要决定测试运行的时间长度以及如何选择随机化单位。在这一部分，我们将逐一讨论这些问题。

### 测试运行多长时间？

要决定测试的持续时间，我们需要获取测试的样本量，这需要三个参数。这些参数是：

+   第二类错误率*β*或统计功效，因为功效 = *1 — β*。你知道其中一个，就知道另一个。

+   显著性水平*α*

+   最小可检测效应

经验法则是样本大小*n*大约等于16（基于*α = 0.05*和*β = 0.8*）乘以*样本方差*除以*δ*的平方，其中*δ*是处理组和对照组之间的差异：

![公式](../Images/c07554bfa768188920354c0364ab3fcf.png)

这个公式来自于[《可信赖的在线对照实验》](https://www.amazon.com/Trustworthy-Online-Controlled-Experiments-Practical/dp/1108724264) 由Ron Kohavi、Diane Tang和Ya Xu编著。

如果你对我们如何得出经验法则公式感兴趣，请查看[这个视频](https://youtu.be/JEAsoUrX6KQ)以获取逐步讲解。

在面试中，你不需要解释你是如何得出公式的，但你需要解释我们如何获得每个参数以及每个参数如何影响样本大小。例如，如果样本方差较大，我们需要更多样本；如果δ较大，我们需要更少样本。

样本方差可以从现有数据中获得，但我们如何估计*δ*，即处理组和对照组之间的差异呢？

实际上，我们在实验运行之前并不知道这个值，这就是我们使用最后一个参数的地方：**最小可检测效应**。它是实际中重要的最小差异。例如，我们可能将0.1%的收入增长视为最小可检测效应。实际上，这个值由多个利益相关者讨论和决定。

一旦我们知道样本大小，我们可以通过将样本大小除以每组的用户数来获得运行实验所需的天数。如果这个数字少于一周，我们应至少运行七天以捕捉到每周的模式。通常建议运行两周。在进行测试数据收集时，**更多的样本几乎总是比样本不足要好**。

### 对照组和处理组之间的干扰

通常，我们通过随机选择用户并将每个用户分配到对照组或处理组来划分对照组和处理组。我们期望每个用户是独立的，且对照组和处理组之间没有干扰。然而，有时**这一独立性假设并不成立**。这可能发生在测试社交网络（如Facebook、LinkedIn和Twitter）或双边市场（如Uber、Lyft和Airbnb）时。一个样本面试问题是：

> 公司X测试了一个新功能，目的是增加每个用户创建的帖子数量。他们随机将每个用户分配到对照组或处理组。测试在帖子数量方面赢了1%。你期望新功能在向所有用户推出后会发生什么？如果不是1%，那会是更多还是更少？（假设没有新奇效应）

答案是我们会看到一个大于1%的值。原因如下。

在**社交网络**（如 Facebook、Linkedin 和 Twitter）中，用户的行为可能会受到其社交圈中人们行为的影响。如果网络中的人（如朋友和家人）使用某个功能或产品，用户也倾向于使用它。这被称为**网络效应**。因此，如果我们以“用户”作为随机化单元且处理对用户有影响，效果可能会蔓延到对照组，意味着对照组中的人行为会受到处理组的影响。在这种情况下，对照组和处理组之间的差异**低估**了处理效果的真实收益。对于面试问题，差异将超过1%。

对于**双边市场**（如 Uber、Lyft、eBay 和 Airbnb）：对照组和处理组之间的干扰也可能导致对处理效果的偏倚估计。这主要是因为资源在对照组和处理组之间共享，意味着对照组和处理组会竞争相同的资源。例如，如果我们有一个新产品吸引了处理组中的更多司机，那么对照组中可用的司机就会减少。因此，我们将无法准确估计处理效果。与社交网络中处理效果低估新产品的真实收益不同，在双边市场中，处理效果**高估**了实际效果。

### 如何处理干扰？

![](../Images/6a130a5567a796964adbb84225d49bbc.png)

图片来源：[Chris Lawton](https://unsplash.com/@chrislawton?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)

既然我们知道为什么对照组和处理组之间的干扰会导致发布后的效果与处理效果不同，它引出了下一个问题：**我们如何设计测试以防止对照组和处理组之间的溢出效应？** 一个示例面试问题是：

> 我们正在推出一项新功能，为乘客提供优惠券。目标是通过降低每次乘车的价格来增加乘车次数。概述一个测试策略，以评估新功能的效果。

有多种方法可以应对组间的溢出效应，主要目标是**隔离用户**于对照组和处理组之间。以下是几种常用的解决方案，每种方案适用于不同的场景，并且都有局限性。在实践中，我们希望选择在特定条件下效果最佳的方法，也可以结合多种方法以获得可靠结果。

**社交网络：**

+   一种确保隔离的方法是创建**网络群体**，以表示更可能与群体内的人互动的用户组，而不是与群体外的人互动。一旦我们拥有这些群体，就可以将它们分为对照组和处理组。有关这种方法的更多细节，请查看[这篇论文](https://engineering.linkedin.com/blog/2019/06/detecting-interference--an-a-b-test-of-a-b-tests)。

+   **自我群体**随机化。这个概念源自Linkedin。一个群体由一个“自我”（核心个体）及其“ alters”（与其直接连接的个体）组成。它侧重于测量单一网络效应，即用户的直接连接的处理对该用户的影响，然后每个用户要么拥有该特征，要么没有，无需复杂的用户间交互。[这篇论文](https://arxiv.org/abs/1903.08755)详细解释了这种方法。

**双边市场：**

+   **基于地理位置**的随机化。我们可以按地理位置进行分组，而不是按用户分组。例如，我们可以将纽约大都会区域放在对照组，将旧金山湾区放在处理组。这将使我们能够隔离每组中的用户，但缺陷是会有更大的方差，因为每个市场在客户行为、竞争者等方面都有其独特性。

+   另一种方法，虽然使用较少，是**基于时间**的随机化。基本上，我们选择一个随机时间，例如一周中的一天，将所有用户分配到对照组或处理组。当处理效果仅持续短时间时，这种方法有效，例如测试一个新的高峰价格算法表现如何。当处理效果需要较长时间才有效时，例如推荐计划，则效果不好。用户可能需要一些时间才能向朋友推荐。

**个人简介: [Emma Ding](https://www.youtube.com/c/DataInterviewPro)** 是Airbnb的数据科学家和软件工程师。

[原文](https://medium.com/@emmading/1e72e1f25947)。经许可转载。

**相关：**

+   [关于A/B测试的5件事](/2018/09/5-things-know-about-ab-testing.html)

+   [如何获得数据科学面试：寻找工作、接触关卡人员和获取推荐](/2021/02/data-science-interviews-finding-jobs-reaching-gatekeepers-getting-referrals.html)

+   [我如何在被解雇后2个月获得4个数据科学职位并使收入翻倍](/2021/01/data-science-offers-doubled-income-2-months.html)

### 更多相关话题

+   [数据科学面试中的24个A/B测试面试问题及…](https://www.kdnuggets.com/2022/09/24-ab-testing-interview-questions-data-science-interviews-crack.html)

+   [检测虚假数据科学家的20个问题（带答案）：ChatGPT…](https://www.kdnuggets.com/2023/01/20-questions-detect-fake-data-scientists-chatgpt-1.html)

+   [检测假数据科学家的 20 个问题（附答案）：ChatGPT…](https://www.kdnuggets.com/2023/02/20-questions-detect-fake-data-scientists-chatgpt-2.html)

+   [7 个数据分析面试问题及答案](https://www.kdnuggets.com/2022/09/7-data-analytics-interview-questions-answers.html)

+   [5 个 Python 面试问题及答案](https://www.kdnuggets.com/2022/09/5-python-interview-questions-answers.html)

+   [假设检验与 A/B 测试](https://www.kdnuggets.com/hypothesis-testing-and-ab-testing)
