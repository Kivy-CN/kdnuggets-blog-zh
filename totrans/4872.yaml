- en: Quick Feature Engineering with Dates Using fast.ai
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2018/03/feature-engineering-dates-fastai.html](https://www.kdnuggets.com/2018/03/feature-engineering-dates-fastai.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [comments](#comments)'
  prefs: []
  type: TYPE_IMG
- en: 'As you are no doubt aware, simple date fields are potential treasure troves
    of data. While, at first glance, a date gives us nothing more than a specific
    point on a timeline, knowing where this point on the line is relative to other
    points can generate all sort of insights into a dataset. For instance, a whole
    host of simple questions can be extracted from a date field:'
  prefs: []
  type: TYPE_NORMAL
- en: Was it a weekend?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What day of the week was it?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Was the date the end of a quarter?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Was the day a holiday?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Were the Olympics taking place on said date?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What you want out of a date is dependent on what it is you are doing. Having
    external resources containing the answer to some of the less-intrinsic questions
    above ("Were the Olympics taking place on that date?" -- perhaps a perfectly valid
    question given your project) would certainly be necessary, but even sussing out
    the more elementary questions could prove immensely useful.
  prefs: []
  type: TYPE_NORMAL
- en: Simple feature engineering on dates can mindlessly take care of the latter.
    As I recently sat down to write a general, reusable function to do just that,
    I quickly came to realize that [Jeremy Howard](https://twitter.com/jeremyphoward)
    had taken care of this in his fast.ai library.
  prefs: []
  type: TYPE_NORMAL
- en: If you don't know, the [fast.ai library](https://github.com/fastai/fastai) is
    a collection of supplementary wrappers for a host of popular machine learning
    libraries, designed to remove the necessity of writing your own functions to take
    care of some repetitive tasks in a machine learning workflow.
  prefs: []
  type: TYPE_NORMAL
- en: Just such a function exists within fast.ai which leverages Pandas under the
    hood in order to automate some simple date-related feature engineering.
  prefs: []
  type: TYPE_NORMAL
- en: Let's have a look. But first, let's get some simple data to test with. To find
    out more about the data and how it's being collected in the below code, see [Data
    Science Dividends – A Gentle Introduction to Financial Data Analysis](/2017/04/data-science-dividends-intro-financial-data-analysis.html).
    Also, it should go without saying that this assumes you have installed the fast.ai
    library.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '![dexcaus](../Images/41bb73ec010a7d22c85be4c4aa6778c5.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Just so we have an idea of how admittedly simple the code for fast.ai function
    we are going to use is, here''s a look at the [current version''s source](https://github.com/fastai/fastai/blob/master/fastai/structured.py):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Howard has stated in numerous places that his goal in writing the fast.ai wrappers
    is to create useful functions in as few lines as possible, making them succinct,
    easy to read, and focused in their objectives.
  prefs: []
  type: TYPE_NORMAL
- en: 'A simple call to the function explodes the DATE field:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: The only additional possible argument to the function is 'drop' which, when
    True, drops the original date column from the dataframe.
  prefs: []
  type: TYPE_NORMAL
- en: 'And here''s the partial result:'
  prefs: []
  type: TYPE_NORMAL
- en: '![New features](../Images/473171a63c95941aeee84a883634b76b.png)'
  prefs: []
  type: TYPE_IMG
- en: 'A complete list of the features:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Feature list](../Images/63a2d87efc8cb7ea2cc53f7932d49bb4.png)'
  prefs: []
  type: TYPE_IMG
- en: Since no machine learning algorithm would be able to look at a datetime object
    and automatically infer the above, a simple step like this provides the possibility
    for automated insight into a dataset. Without having to think about it, now all
    sorts of date metadata is at the algorithm's fingertips, such as whether this
    was the first day of the year, the first of the quarter, or the first of the month,
    and by further simple inferral, whether it was a weekend, whether it was in March,
    what year it was, etc.
  prefs: []
  type: TYPE_NORMAL
- en: 'This elementary feat of feature engineering should suggest 2 specific things,
    in my view:'
  prefs: []
  type: TYPE_NORMAL
- en: Feature engineering on time series data should not be feared
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The fast.ai library is something you might want to have a look at
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Related**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Time Series for Dummies – The 3 Step Process](/2018/03/time-series-dummies-3-step-process.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Deep Feature Synthesis: How Automated Feature Engineering Works](/2018/02/deep-feature-synthesis-automated-feature-engineering.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Automated Feature Engineering for Time Series Data](/2017/11/automated-feature-engineering-time-series-data.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Feature Store Summit 2022: A free conference on Feature Engineering](https://www.kdnuggets.com/2022/10/hopsworks-feature-store-summit-2022-free-conference-feature-engineering.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Using RAPIDS cuDF to Leverage GPU in Feature Engineering](https://www.kdnuggets.com/2023/06/rapids-cudf-leverage-gpu-feature-engineering.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[A Quick Guide to Find the Right Minds for Annotation](https://www.kdnuggets.com/2022/04/quick-guide-find-right-minds-annotation.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Quick Data Science Tips and Tricks to Learn SAS](https://www.kdnuggets.com/2022/05/sas-quick-data-science-tips-tricks-learn.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[7 Pandas Plotting Functions for Quick Data Visualization](https://www.kdnuggets.com/7-pandas-plotting-functions-for-quick-data-visualization)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[A Quick Overview of Voronoi Diagrams](https://www.kdnuggets.com/2022/11/quick-overview-voronoi-diagrams.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
