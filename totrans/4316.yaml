- en: Powerful Exploratory Data Analysis in just two lines of code
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 仅用两行代码实现强大的探索性数据分析
- en: 原文：[https://www.kdnuggets.com/2021/02/powerful-exploratory-data-analysis-sweetviz.html](https://www.kdnuggets.com/2021/02/powerful-exploratory-data-analysis-sweetviz.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://www.kdnuggets.com/2021/02/powerful-exploratory-data-analysis-sweetviz.html](https://www.kdnuggets.com/2021/02/powerful-exploratory-data-analysis-sweetviz.html)
- en: '[comments](#comments)'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '[评论](#comments)'
- en: '**By [Francois Bertrand](https://medium.com/@fbertrand27), coder & designer
    for data visualization and games**.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '**由[Francois Bertrand](https://medium.com/@fbertrand27)提供，数据可视化和游戏的编码员及设计师**。'
- en: '![](../Images/951735d5191cb7ce84ba5b2d91af81a3.png)'
  id: totrans-4
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/951735d5191cb7ce84ba5b2d91af81a3.png)'
- en: '* * *'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Our Top 3 Course Recommendations
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我们的前三大课程推荐
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [谷歌网络安全证书](https://www.kdnuggets.com/google-cybersecurity)
    - 快速进入网络安全职业。'
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [谷歌数据分析专业证书](https://www.kdnuggets.com/google-data-analytics)
    - 提升你的数据分析技能'
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [谷歌IT支持专业证书](https://www.kdnuggets.com/google-itsupport)
    - 支持你的组织在IT方面'
- en: '* * *'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Exploratory data analysis (EDA) is an essential early step in most data science
    projects, and it often consists of taking the same steps to characterize a dataset
    (e.g., find out data types, missing information, distribution of values, correlations,
    etc.). Given the repetitiveness and similarity of such tasks, there are a few
    libraries that automate and help kickstart the process.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 探索性数据分析（EDA）是大多数数据科学项目中一个至关重要的早期步骤，它通常包括采取相同的步骤来描述数据集（例如，查找数据类型、缺失信息、值的分布、相关性等）。鉴于这些任务的重复性和相似性，有一些库可以自动化这些任务，并帮助启动过程。
- en: One of the latest is a new open-source Python library called Sweetviz ([GitHub](https://github.com/fbdesignpro/sweetviz)),
    created by a few contributors and myself for just that purpose. It takes pandas
    dataframes and creates a self-contained HTML report.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 最新的一个工具是一个名为Sweetviz的开源Python库（[GitHub](https://github.com/fbdesignpro/sweetviz)），由几位贡献者和我自己共同创建，正是为了这个目的。它接受pandas数据框，并生成一个自包含的HTML报告。
- en: '**It packs a powerful punch:** in addition to creating insightful and beautiful
    visualizations with just two lines of code, it provides analysis that would take
    a lot more time to generate manually, including some that no other library provides
    so quickly, such as:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '**它功能强大：** 除了只需两行代码即可创建富有洞察力和美观的可视化外，它还提供了手动生成所需大量时间的分析，包括一些其他库无法如此快速提供的分析，如：'
- en: '**Comparison of 2 datasets**(e.g., Train vs. Test)'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**两个数据集的比较**（例如，训练集与测试集）'
- en: '**Visualization of the target value**against all other variables (e.g., “What
    was the survival rate of male vs. female” etc.)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**目标值与所有其他变量的可视化**（例如，“男性与女性的生存率是多少”）'
- en: '[Here is a link to a report generated by Sweetviz for the well-known sample
    Titanic Survivor dataset](http://cooltiming.com/SWEETVIZ_REPORT.html). We will
    be analyzing this report in this article.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[这是一个由Sweetviz生成的关于著名泰坦尼克号幸存者数据集的报告链接](http://cooltiming.com/SWEETVIZ_REPORT.html)。我们将在本文中分析这个报告。'
- en: EDA made... fun?!
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: EDA变得…有趣？！
- en: Being able to get so much information so quickly about the target value and
    compare different areas of the dataset almost instantly transforms this initial
    step from being out all about tedium to being quicker, interesting, and even to
    some degree… fun! (to this data geek, at least!) Of course, EDA is a much longer
    process, but at least that first step is a lot smoother. Let’s see how it works
    out with the well-known sample dataset.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 能够快速获得如此多关于目标值的信息，并几乎瞬间比较数据集的不同区域，将这一步骤从完全枯燥的工作转变为更快、更有趣，甚至在某种程度上…有趣！（至少对于这个数据爱好者来说！）当然，EDA是一个更长的过程，但至少第一步要顺利得多。让我们看看在著名样本数据集上的效果。
- en: Analyzing the Titanic dataset
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分析泰坦尼克号数据集
- en: For this article, we will be analyzing the sample Titanic Survivor dataset you
    can find [here](https://drive.google.com/file/d/11MgXvwics58UwiMjUSWJDAjn6hiflC-W/view?usp=sharing).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本文，我们将分析你可以在[这里](https://drive.google.com/file/d/11MgXvwics58UwiMjUSWJDAjn6hiflC-W/view?usp=sharing)找到的泰坦尼克号幸存者样本数据集。
- en: 'After installation of Sweetviz (using *pip install sweetviz*), simply load
    the pandas dataframes as you normally would, then call either *analyze()*, *compare()* or *compare_intra()* depending
    on your need (more on that below). The full documentation can be found on [GitHub](https://github.com/fbdesignpro/sweetviz).
    For now, let''s start with the case at hand, loading it as so:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 Sweetviz 后（使用 *pip install sweetviz*），只需像平常一样加载 pandas 数据框，然后根据需要调用 *analyze()*、*compare()*
    或 *compare_intra()*（更多细节见下文）。完整的文档可以在 [GitHub](https://github.com/fbdesignpro/sweetviz)
    上找到。现在，让我们从当前的案例开始，加载如下：
- en: '[PRE0]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'We now have 2 dataframes (train and test), and we would like to analyze the
    target value “Survived”. I want to point out in this case, we know the name of
    the target column in advance, but it is always optional to specify a target column.
    We can generate a report with this line of code:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在有两个数据框（训练集和测试集），我们希望分析目标值“Survived”。我想指出的是，在这种情况下，我们事先知道目标列的名称，但指定目标列始终是可选的。我们可以用以下代码生成报告：
- en: '[PRE1]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Running this command will perform the analysis and create the report object.
    To get the output, simply use the show_html() command:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 运行此命令将执行分析并创建报告对象。要获取输出，只需使用 show_html() 命令：
- en: '[PRE2]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'After generating the file, it will open it through your default browser and
    should look something like this:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 生成文件后，它将通过默认浏览器打开，应该如下所示：
- en: '![](../Images/c3b2b67f43dfab4520eae33fd67c3d5a.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c3b2b67f43dfab4520eae33fd67c3d5a.png)'
- en: There’s a lot to unpack, so let’s take it one step at a time!
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 有很多内容需要解读，所以我们一步步来吧！
- en: '**Summary display**'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '**摘要展示**'
- en: '![](../Images/25ec3c8d030b6d65fe7afc27fb1fe0de.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/25ec3c8d030b6d65fe7afc27fb1fe0de.png)'
- en: The summary shows us the characteristics of both dataframes side-by-side. We
    can immediately identify that the testing set is roughly half the size of the
    training set, but that it contains the same features. That legend at the bottom
    shows us that the training set does contain the “Survived” target variable but
    that the testing set does not.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 摘要展示了两个数据框的特征。我们可以立即识别出测试集的大小大约是训练集的一半，但包含相同的特征。底部的图例显示，训练集包含“Survived”目标变量，但测试集不包含。
- en: Note that Sweetviz does a best guess at determining the data type of each column,
    between numerical, category/boolean and text. These can be overridden—more on
    that below.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，Sweetviz 会对每列的数据类型进行最佳猜测，包括数值型、类别/布尔型和文本型。这些可以被覆盖——更多细节见下文。
- en: '**Associations**'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**关联**'
- en: 'Hovering your mouse over the “Associations” button in the summary will make
    the Associations graph appear on the right-hand side:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 将鼠标悬停在摘要中的“关联”按钮上，会使右侧出现关联图：
- en: '![](../Images/4cb0f56bdbb1e6c9d24114bae319c7d3.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4cb0f56bdbb1e6c9d24114bae319c7d3.png)'
- en: 'This graph is a composite of the visuals from [Drazen Zaric: Better Heatmaps
    and Correlation Matrix Plots in Python](https://towardsdatascience.com/better-heatmaps-and-correlation-matrix-plots-in-python-41445d0f2bec) and
    concepts from [Shaked Zychlinski: The Search for Categorical Correlation](https://towardsdatascience.com/the-search-for-categorical-correlation-a1cf7f1888c9).'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '该图表是 [Drazen Zaric: Better Heatmaps and Correlation Matrix Plots in Python](https://towardsdatascience.com/better-heatmaps-and-correlation-matrix-plots-in-python-41445d0f2bec)
    和 [Shaked Zychlinski: The Search for Categorical Correlation](https://towardsdatascience.com/the-search-for-categorical-correlation-a1cf7f1888c9)
    的视觉效果合成。'
- en: Basically, in addition to showing the traditional numerical correlations, it
    unifies in a single graph both numerical correlation but also the uncertainty
    coefficient (for categorical-categorical) and correlation ratio (for categorical-numerical).
    Squares represent categorical-featured-related variables, and circles represent
    numerical-numerical correlations. Note that the trivial diagonal is left empty
    for clarity.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 基本上，除了展示传统的数值相关性外，它还将数值相关性、类别-类别的不确定系数以及类别-数值的相关比率统一在一个图表中。方框代表类别特征相关变量，圆圈代表数值-数值相关性。为了清晰起见，简单对角线被留空。
- en: '*IMPORTANT: categorical-categorical associations (provided by the uncertainty
    coefficient) are ASYMMETRICAL, meaning that each row represents how much the row
    title (on the left) gives information on each column. For example, “Sex”, “Pclass”
    and “Fare” are the elements that give the most information on “Survived”. For
    the Titanic dataset, this information is rather symmetrical, but it is not always
    the case.*'
  id: totrans-39
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*重要提示：由不确定系数提供的类别-类别关联是**不对称的**，意味着每一行表示行标题（在左侧）对每一列提供了多少信息。例如，“性别”、“客舱等级”和“票价”是对“生存”提供最多信息的元素。对于泰坦尼克号数据集，这些信息是相当对称的，但情况并不总是如此。*'
- en: Finally, it is worth noting these correlation/association methods shouldn’t
    be taken as gospel as they make some assumptions on the underlying distribution
    of data and relationships. However, they can be a very useful starting point.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，值得注意的是这些相关性/关联方法不应被视为绝对真理，因为它们对数据的基本分布和关系做出了一些假设。然而，它们可以作为一个非常有用的起点。
- en: '**Target variable**'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**目标变量**'
- en: '![](../Images/197556be6ef12fbe03dafb26989ffbde.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/197556be6ef12fbe03dafb26989ffbde.png)'
- en: When a target variable is specified, it will show up first, in a special black
    box.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 当指定一个目标变量时，它会首先显示在一个特殊的黑色框中。
- en: '*IMPORTANT: only numerical and boolean features can be targets currently.*'
  id: totrans-44
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*重要提示：目前只有数值和布尔特征可以作为目标变量。*'
- en: We can gather from this summary that “Survived” has no missing data in the training
    set (891, 100%), that there are 2 distinct possible values (accounting for less
    than 1% of all values), and from the graph, it can be estimated that roughly 60%
    did not survive.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个摘要中我们可以得知，“生存”在训练集中没有缺失数据（891，100%），有2个不同的可能值（占所有值的不到1%），从图表中可以估算出大约60%未能生存。
- en: '**Detail area (categorical/boolean)**'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**详细区域（类别/布尔型）**'
- en: 'When you move the mouse to hover over any of the variables, an area to the
    right will showcase the details. The content of the details depends on the type
    of variable being analyzed. In the case of a categorical (or boolean) variable,
    as is the case with the target, the analysis is as follows:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 当你将鼠标悬停在任何变量上时，右侧区域将展示详细信息。详细信息的内容取决于正在分析的变量类型。在类别（或布尔型）变量的情况下，如目标变量，分析如下：
- en: '![](../Images/6deb752bf272697faac3a6eda2cb6068.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6deb752bf272697faac3a6eda2cb6068.png)'
- en: '*IMPORTANT: a “widescreen” monitor is required to see the full detail area
    for the moment.*'
  id: totrans-49
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*重要提示：目前需要一台“宽屏”显示器才能查看完整的详细区域。*'
- en: Here, we can see the exact statistics for each class, where 62% did not survive,
    and 38% survived. You also get the detail of the associations for each of the
    other features.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们可以看到每个类别的具体统计数据，其中62%未能生存，38%存活。你还可以看到其他特征的关联详细信息。
- en: '**Numerical data**'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '**数值数据**'
- en: '![](../Images/3c529f608464ca911c5a7096bfb1ad92.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3c529f608464ca911c5a7096bfb1ad92.png)'
- en: Numerical data shows more information on its summary. Here, we can see that
    in this case, about 20% of data is missing (21% in the test data, which is very
    consistent).
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 数值数据在其摘要中展示了更多的信息。在这里，我们可以看到，在这种情况下，大约有20%的数据缺失（测试数据中为21%，非常一致）。
- en: '**Note that the target value (“Survived” in this case) is plotted as a line
    right over the distribution graph. This enables instant analysis of the target
    distribution with regard to other variables.**'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意，目标值（在此情况下为“生存”）被绘制为分布图上方的一条线。这可以实现对目标分布相对于其他变量的即时分析。**'
- en: Interestingly, we can see from the graph on the right that the survival rate
    is pretty consistent across all ages, except for the youngest, which have a higher
    survival rate. It would look like “women and children first” was not just talk.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 有趣的是，从右侧的图表中我们可以看到，生存率在所有年龄段中都相当一致，除了最年轻的年龄段，其生存率较高。这看起来像是“妇女和儿童优先”并非仅仅是空话。
- en: '**Detail area (numerical)**'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**详细区域（数值）**'
- en: '![](../Images/f09f1294ae56786f549674c0340163ee.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f09f1294ae56786f549674c0340163ee.png)'
- en: 'As with the categorical data type, the numerical data type shows some extra
    information in its detail area. Noteworthy here are the buttons on top of the
    graph. These buttons change how many “bins” are shown in the graph. You can select
    the following:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 与类别数据类型一样，数值数据类型在其详细区域中显示了一些额外的信息。这里值得注意的是图表上方的按钮。这些按钮会改变图表中显示的“箱”的数量。你可以选择以下选项：
- en: Auto
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动
- en: '5'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '5'
- en: '15'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '15'
- en: '30'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '30'
- en: '**Note: to get to these buttons, you need to “lock in place” the current feature
    by clicking on it. The feature then has a RED OUTLINE to show it is locked in
    place, and you can access the detail area.**'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意：要访问这些按钮，你需要通过点击当前特征来“锁定”它。该特征会有一个红色轮廓，显示它已被锁定，你可以访问详细区域。**'
- en: 'For example, selecting “30” yields a much more granular graph:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，选择“30”会生成一个更详细的图表：
- en: '![](../Images/ca321d42041614e31ff8b1188a3b9a3e.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ca321d42041614e31ff8b1188a3b9a3e.png)'
- en: '**Text data**'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '**文本数据**'
- en: '![](../Images/ffacbef9dad440a7af0b9ffcb459f47d.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ffacbef9dad440a7af0b9ffcb459f47d.png)'
- en: For now, anything that the system does not consider numerical or categorical
    will be deemed as “text”. Text features currently only show count (percentage)
    as stats.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，系统未考虑为数值型或类别型的数据将被视为“文本”。文本特征目前只显示计数（百分比）作为统计信息。
- en: 'FeatureConfig: forcing data types, skipping columns'
  id: totrans-69
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: FeatureConfig：强制数据类型，跳过列
- en: In many cases, there are “label” columns that you may not want to analyze (although
    target analysis can provide insights on the distribution of target values based
    on labeling). In other cases, you may want to force some values to be marked as
    categorical even though they are numerical in nature.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多情况下，有些“标签”列你可能不想分析（尽管目标分析可以提供基于标签的目标值分布的见解）。在其他情况下，你可能希望强制某些值标记为类别型，即使它们在本质上是数值型的。
- en: 'To do all this, simply create a FeatureConfig object and pass it in to the
    analyze/compare function. You can specify either a string or a list to kwargs *skip*, *force_cat, *and *force_text*:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成所有这些操作，只需创建一个FeatureConfig对象并将其传递给分析/比较函数。你可以在kwargs中指定一个字符串或一个列表，用于*skip*，*force_cat*，和*force_text*：
- en: '[PRE3]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Comparing sub-populations (e.g., Male vs Female)
  id: totrans-73
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 比较子群体（例如，男性与女性）
- en: 'Even if you are only looking at a single dataset, it can be very useful to
    study the characteristics of different subpopulations within that dataset. To
    do so, Sweetviz provides the *compare_intra()* function. To use it, you provide
    a boolean test that splits the population (here we try *train["Sex"] == ''male*'',
    to get a sense of the different gender populations), and give a name to each subpopulation.
    For example:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 即使你只查看单一数据集，研究该数据集中不同子群体的特征也是非常有用的。为此，Sweetviz提供了*compare_intra()*函数。要使用它，你需要提供一个布尔测试来拆分数据集（在这里我们尝试*train["Sex"]
    == 'male'*，以了解不同性别群体的情况），并为每个子群体指定一个名称。例如：
- en: '[PRE4]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'yields the following analysis: (for this screenshot I used feature_config to
    skip showing the analysis of the “Sex” feature, as it is redundant)'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 生成以下分析：（在此截图中，我使用了feature_config来跳过“性别”特征的分析，因为它是多余的）
- en: '![](../Images/c3b2b67f43dfab4520eae33fd67c3d5a.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c3b2b67f43dfab4520eae33fd67c3d5a.png)'
- en: Note that the target value (“Survived” in this case) is now plotted as separate
    lines, one for each compared dataset (e.g., male in blue, female in orange).
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，目标值（在这种情况下为“生存”）现在被绘制为单独的线条，每个比较的数据集一个（例如，男性用蓝色，女性用橙色）。
- en: Putting it all together
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 综合来看
- en: EDA is a fluid, artistic process that must be uniquely adapted to each set of
    data and situation. However, a tool like Sweetviz can help kickstart the process
    and get rid of a lot of the initial minutiae of characterizing datasets to provide
    insights right off the bat. Let’s go through all the features for the Titanic
    dataset to see what that could look like.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: EDA（探索性数据分析）是一个流动的、艺术性的过程，必须根据每个数据集和情况进行独特的调整。然而，像Sweetviz这样的工具可以帮助启动这一过程，并消除许多初步的数据特征工作，从而立即提供见解。让我们一起查看Titanic数据集的所有特征，看看这可能是什么样的。
- en: '**Individual fields**'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '**单独字段**'
- en: '***PassengerId***'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '***乘客ID***'
- en: '![](../Images/e6523e600c6d28c1cd226a19fdc87eba.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e6523e600c6d28c1cd226a19fdc87eba.png)'
- en: The distribution of IDs and survivability is even and ordered as you would hope/expect,
    so no surprises here.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ID和生存率的分布均匀且有序，如你所希望/预期的那样，因此没有意外情况。
- en: No missing data
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无缺失数据
- en: '***Sex***'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '***性别***'
- en: '![](../Images/7e5c0bea0910df847577bd87210732f7.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7e5c0bea0910df847577bd87210732f7.png)'
- en: About twice as many males as females, but…
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 男性的数量大约是女性的两倍，但……
- en: Females were much more likely to survive than males
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 女性的生存概率远高于男性
- en: Looking at the correlations, Sex is correlated with Fare, which is and isn’t
    surprising…
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从相关性来看，性别与票价相关，这一点既在意料之中，又在意料之外……
- en: Similar distribution between Train and Test
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练集和测试集之间的分布相似
- en: No missing data
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无缺失数据
- en: '***Age***'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '***年龄***'
- en: '![](../Images/cece85536949279157680aa39f468b24.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cece85536949279157680aa39f468b24.png)'
- en: 20% missing data, consistent missing data and distribution between Train and
    Test
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 20%缺失数据，训练集和测试集之间的缺失数据和分布一致
- en: Young-adult-centric population, but ages 0–70 well-represented
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以年轻人为主的人口，但0–70岁的年龄段都有很好的代表性
- en: Surprisingly evenly distributed survivability, except for a spike at the youngest
    age
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生存率分布相当均匀，除了最年轻年龄段有一个峰值
- en: Using 30 bins in the histogram in the detail window, you can see that this survivability
    spike is really for the youngest (about <= 5 years old), as at about 10 years
    old, survivability is really low.
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用详细窗口中的30个区间直方图，你可以看到这个生存率峰值确实是针对最年轻的（大约<=5岁），因为在大约10岁时，生存率非常低。
- en: Age seems related to Siblings, Pclass, and Fare, and a bit more surprisingly
    to Embarked
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 年龄似乎与兄弟姐妹数量、票舱等级和票价相关，令人惊讶的是与登船港口也有些关联
- en: '***Name***'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '***Name***'
- en: '![](../Images/0005ddada7edbc6551531b57b7dcda22.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0005ddada7edbc6551531b57b7dcda22.png)'
- en: No missing data, data seems pretty clean
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 没有缺失数据，数据看起来很干净
- en: All names are distinct, which is not surprising
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有名字都是独特的，这并不意外
- en: '***Pclass***'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '***Pclass***'
- en: '![](../Images/ed63c35e570d7099e6ec349f293e1b0f.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ed63c35e570d7099e6ec349f293e1b0f.png)'
- en: Survivability closely follows class (first class most likely to survive, third
    class least likely)
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生存率与舱位等级紧密相关（头等舱最可能生存，三等舱最不可能生存）
- en: Similar distribution between Train and Test
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练集和测试集之间的分布类似
- en: No missing data
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 没有缺失数据
- en: '***SibSp***'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '***SibSp***'
- en: '![](../Images/b501d944f082397b63aec94ee5144c22.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b501d944f082397b63aec94ee5144c22.png)'
- en: There seems to be a survival spike at 1 and to some degree 2, but (looking at
    the detail pane not shown here) there is a sharp drop-off at 3 and greater. Large
    families couldn’t make it or perhaps were poorer?
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 似乎在1号和2号船舱有生存率的峰值，但（查看未显示的详细面板）在3号及以上的船舱有明显的下降。大家庭可能无法生存或者可能更贫困？
- en: Similar distribution between Train and Test
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练集和测试集之间的分布类似
- en: No missing data
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 没有缺失数据
- en: '***Parch***'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '***Parch***'
- en: '![](../Images/2eb8e569651180083dc6c394aaf46cc6.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2eb8e569651180083dc6c394aaf46cc6.png)'
- en: Similar distribution between Train and Test
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练集和测试集之间的分布类似
- en: No missing data
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 没有缺失数据
- en: '***Ticket***'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '***Ticket***'
- en: ~80% distinct values, so about 1 in 5 shared tickets on average
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ~80%的值是独特的，所以平均每5张票中大约有1张是共享的
- en: The highest frequency ticket was 7, which is generally consistent with the maximum
    number of siblings (8)
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最高频率的票是7，这通常与最大兄弟姐妹数量（8）一致
- en: No missing data, data seems pretty clean
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 没有缺失数据，数据看起来很干净
- en: '***Fare***'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '***Fare***'
- en: '![](../Images/b08cd110c82e7784fe3019c40ef7b071.png)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b08cd110c82e7784fe3019c40ef7b071.png)'
- en: As expected, and as with Pclass, the higher fares survived better (although
    sample size gets pretty thin at higher levels)
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正如预期的那样，与Pclass一样，较高的票价生存情况更好（尽管在更高水平上样本量会变得相当薄）
- en: A Correlation Ratio of 0.26 for “Survived” is relatively high, so it would tend
    to support this theory
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “生存”变量的相关系数为0.26，相对较高，因此可能支持这一理论
- en: About 30% distinct values feels a bit high as you would expect fewer set prices
    but looks like there is a lot of granularity, so that’s ok
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大约30%的独特值感觉有点高，因为你会期望更少的固定价格，但似乎有很多细节，因此这没问题
- en: Only 1 missing record in the Test set, data pretty consistent between Train
    and Test
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试集中只有1条缺失记录，数据在训练集和测试集之间比较一致
- en: '***Cabin***'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '***Cabin***'
- en: '![](../Images/052b88ebf3919e9bba86cdea7f86627a.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/052b88ebf3919e9bba86cdea7f86627a.png)'
- en: A lot of missing data (up to 78%), but consistent between Train and Test
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大量缺失数据（高达78%），但训练集和测试集之间的一致性很好
- en: Maximum frequency is 4, which would make sense to have 4 people maximum in a
    cabin
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最高频率是4，这与每个舱位最多4人是合理的
- en: '***Embarked***'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '***Embarked***'
- en: '![](../Images/545d6329b4c4affbc74987888058f77f.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/545d6329b4c4affbc74987888058f77f.png)'
- en: 3 distinct values (S, C, Q)
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 3个独特的值（S、C、Q）
- en: Only 2 missing rows in Train data. Data seems pretty consistent between Train
    and Test
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练数据中只有2行缺失。训练集和测试集之间的数据看起来很一致
- en: Survivability somewhat higher at C; could this be a location with richer people?
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: C类的生存率稍高；这可能是一个富人居住的地区吗？
- en: Either way, “Embarked” shows an Uncertainty Coefficient of only 0.03 for “Survived”,
    so it may not be very significant
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无论如何，“登船港口”对“生存”的不确定系数仅为0.03，因此可能不是很重要
- en: General analysis
  id: totrans-138
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 一般分析
- en: Overall, most data is present and seems consistent and make sense; no major
    outliers or huge surprises
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 总体而言，大部分数据是存在的，并且看起来一致且合理；没有重大异常值或巨大惊喜
- en: '**Test versus Training data**'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '**测试数据与训练数据**'
- en: Test has about 50% fewer rows
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试集的行数大约少了50%
- en: Train and Test are very closely matched in the distribution of missing data
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练集和测试集在缺失数据的分布上非常接近
- en: Train and Test data values are very consistent across the board
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练集和测试集的数据值在各个方面都非常一致
- en: '**Association/correlation analysis**'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '**关联/相关分析**'
- en: Sex, Fare, and Pclass give the most information on Survived
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 性别、票价和Pclass提供了最多的生还信息。
- en: As expected, Fare and Pclass are highly correlated
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正如预期的那样，票价和Pclass高度相关。
- en: Age seems to tell us a good amount regarding Pclass, siblings, and to some degree,
    Fare, which would be somewhat expected. It seems to tell us a lot about “Embarked”
    which is a bit more surprising.
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 年龄似乎能告诉我们关于Pclass、兄弟姐妹以及某种程度上的Fare的信息，这在一定程度上是可以预期的。它对“Embarked”也有很大提示，这有点令人惊讶。
- en: '**Missing data**'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '**缺失数据**'
- en: There is no significant missing data except for Age (~20%) and Cabin (~77%)
    (and an odd one here and there on other features)
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 除了年龄（约20%）和舱位（约77%）的显著缺失数据外，没有其他显著的缺失数据（其他特征中偶尔也有一些缺失）。
- en: Conclusion
  id: totrans-150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 结论
- en: All this information from just two lines of code! Sweetviz also now supports
    notebook integration (you can insert reports inline) and new features!
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 这些信息都来自两行代码！Sweetviz现在还支持笔记本集成（你可以插入内联报告）和新功能！
- en: Using Sweetviz easily gives me a significant jump-start when I start looking
    at a new dataset. It’s worth pointing out I also find it useful later in the analysis
    process, for example, during feature-generation, to get a quick overview of how
    new features play out. I hope you will find it as a useful tool in your own data
    analysis.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Sweetviz，当我开始查看新的数据集时，它能迅速帮助我起步。值得指出的是，我还发现它在后续分析过程中非常有用，例如，在特征生成期间，快速概览新特征的表现。我希望你也会发现它在自己的数据分析中是一种有用的工具。
- en: '[Original](https://towardsdatascience.com/powerful-eda-exploratory-data-analysis-in-just-two-lines-of-code-using-sweetviz-6c943d32f34).
    Reposted with permission.'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '[原文](https://towardsdatascience.com/powerful-eda-exploratory-data-analysis-in-just-two-lines-of-code-using-sweetviz-6c943d32f34)。转载已获许可。'
- en: '**Related:**'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '**相关：**'
- en: '[Statistical and Visual Exploratory Data Analysis with One Line of Code](https://www.kdnuggets.com/2020/09/statistical-visual-exploratory-data-analysis-one-line-code.html)'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[使用一行代码进行统计和视觉探索性数据分析](https://www.kdnuggets.com/2020/09/statistical-visual-exploratory-data-analysis-one-line-code.html)'
- en: '[Cleaner Data Analysis with Pandas Using Pipes](https://www.kdnuggets.com/2021/01/cleaner-data-analysis-pandas-pipes.html)'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[使用管道进行更干净的数据分析](https://www.kdnuggets.com/2021/01/cleaner-data-analysis-pandas-pipes.html)'
- en: '[Exploratory Data Analysis on Steroids](https://www.kdnuggets.com/2020/07/exploratory-data-analysis-steroids.html)'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[强效的探索性数据分析](https://www.kdnuggets.com/2020/07/exploratory-data-analysis-steroids.html)'
- en: More On This Topic
  id: totrans-158
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更多相关内容
- en: '[5 Key Skills Needed To Become a Great Data Scientist](https://www.kdnuggets.com/2021/12/5-key-skills-needed-become-great-data-scientist.html)'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[成为优秀数据科学家所需的5项关键技能](https://www.kdnuggets.com/2021/12/5-key-skills-needed-become-great-data-scientist.html)'
- en: '[6 Predictive Models Every Beginner Data Scientist Should Master](https://www.kdnuggets.com/2021/12/6-predictive-models-every-beginner-data-scientist-master.html)'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[每个初学者数据科学家应该掌握的6种预测模型](https://www.kdnuggets.com/2021/12/6-predictive-models-every-beginner-data-scientist-master.html)'
- en: '[The Best ETL Tools in 2021](https://www.kdnuggets.com/2021/12/mozart-best-etl-tools-2021.html)'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[2021年最佳ETL工具](https://www.kdnuggets.com/2021/12/mozart-best-etl-tools-2021.html)'
- en: '[Write Clean Python Code Using Pipes](https://www.kdnuggets.com/2021/12/write-clean-python-code-pipes.html)'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[使用管道编写干净的Python代码](https://www.kdnuggets.com/2021/12/write-clean-python-code-pipes.html)'
- en: '[Multi-modal deep learning in less than 15 lines of code](https://www.kdnuggets.com/2023/01/predibase-multi-modal-deep-learning-less-15-lines-code.html)'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[不到15行代码的多模态深度学习](https://www.kdnuggets.com/2023/01/predibase-multi-modal-deep-learning-less-15-lines-code.html)'
- en: '[Stop Learning Data Science to Find Purpose and Find Purpose to…](https://www.kdnuggets.com/2021/12/stop-learning-data-science-find-purpose.html)'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[停止学习数据科学以找到目的，并为…寻找目的](https://www.kdnuggets.com/2021/12/stop-learning-data-science-find-purpose.html)'
