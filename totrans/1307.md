# 学习构建端到端的数据科学项目

> 原文：[https://www.kdnuggets.com/2020/11/build-data-science-project.html](https://www.kdnuggets.com/2020/11/build-data-science-project.html)

[评论](#comments)

**由 [Mathang Peddi](https://twitter.com/mathang_peddi)，数据科学和机器学习爱好者**。

![](../Images/60d41c87f95db9168c12644c58b73b90.png)

> * * *
> 
> ## 我们的前三个课程推荐
> ## 
> ![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [谷歌网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业
> 
> ![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [谷歌数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能
> 
> ![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [谷歌 IT 支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持组织的 IT 部门
> 
> * * *
> 
> *数据科学家是所有统计学家中最好的程序员，也是所有程序员中最好的统计学家。*

每个数据科学家都需要一个高效的策略来解决数据科学问题。

数据科学职位在全国范围内都很独特，因此我们可以尝试基于职位名称、公司和地理位置等因素预测数据科学职位的薪资。在这里，我建立了一个项目，任何用户都可以输入信息，它会拆分为薪资范围，所以如果有人在谈判薪资，这对他们来说是一个相当不错的工具。

### 数据科学工作流程

![](../Images/a95db02bd5f88ad6309bf374869606ea.png)

**业务理解**

这个阶段很重要，因为它有助于明确客户的目标。任何项目的成功取决于提出问题的质量。如果你正确理解了业务需求，那么这有助于你收集正确的数据。提出正确的问题将帮助你缩小数据获取的范围。

**分析方法**

这是一个阶段，在商业问题被清楚地陈述之后，数据科学家可以定义解决问题的分析方法。此步骤包括用统计和机器学习技术解释问题，这很重要，因为它有助于确定解决问题所需的趋势类型。如果问题是确定某事的概率，则可能使用预测模型；如果问题是显示关系，则可能需要描述性方法；如果问题需要计数，则统计分析是解决问题的最佳方法。对于每种方法，我们可以使用不同的算法。

**数据需求**

我们找出初步数据收集所需的数据内容、格式和来源，并在我们选择的方法的算法中使用这些数据。

> *数据揭示了影响，通过数据，你可以为决策带来更多科学依据。*

**数据收集**

我们识别出与问题领域相关的可用数据资源。为了获取数据，我们可以对相关网站进行网页抓取，或者使用一个包含现成数据集的存储库。如果你想从任何网站或存储库收集数据，可以使用Pandas库，它是一个非常有用的工具，用于下载、转换和修改数据集。

为此，我调整了网页抓取工具，以从glassdoor.com抓取1000个职位发布。每个职位包含以下信息：职位标题、薪资估计、职位描述、评级、公司、地点、公司总部、公司规模、公司成立日期、所有权类型、行业、部门、收入、竞争对手。这些是确定数据科学领域从业人员薪资的各种属性。

要查看网页抓取工具的文章，请点击[这里](https://towardsdatascience.com/selenium-tutorial-scraping-glassdoor-com-in-10-minutes-3d0915c6d905)。

要查看网页抓取工具的Github代码，请点击[这里](https://github.com/arapfaik/scraping-glassdoor-selenium)。

> *你可以有没有信息的数据，但你不能有没有数据的信息。*

**数据理解**

数据科学家尝试了解更多之前收集的数据。我们必须检查每个数据的类型，并进一步了解这些属性及其名称。

![](../Images/95848d8879964505bfb3fb2f98a2a688.png)

一些薪资数据包含-1，因此这些值对我们不太重要，所以我们需要将它们删除。由于薪资估计列目前是字符串格式，所以我们需要以字符串格式给出-1。

![](../Images/049d6e06238ed69d2e53d37bd8934331.png)

现在我们可以看到行数已减少到742。我们观察到大多数变量是分类变量而非数值变量。这个数据集包含2个数值变量和12个分类变量。但实际上，我们的因变量“薪资估计”必须是数值型的。因此我们需要将其转换为数值变量。

**数据准备**

数据可以是任何格式。为了分析数据，你需要将数据转换为特定格式。数据科学家必须为建模准备数据，这是最关键的步骤之一，因为模型必须干净且不应包含任何错误或空值。

> *在现实场景中，数据科学家将80%的时间花在清洗数据上，只有20%的时间用于提供见解和结论。*

这是一个相当繁琐的过程，所以你需要做好准备。

在抓取数据后，我需要清理数据，以便它对我们的模型可用。我做了一些更改，并创建了新变量。

![](../Images/f41ac081e8f4cb8a80d102be011e5c63.png)

当我们在左括号上进行拆分时，所有行的‘（’的左右两侧将进入两个不同的列表。这就是为什么我们需要包含[0]来获取薪水。在获得薪水后，将‘K’，‘$’替换为空字符串。在一些条目中，薪水被标记为‘雇主提供’和‘按小时计算’，因此这些数据不一致，需要加以处理。

![](../Images/90a4cd64b49bfcae449f6851023091af.png)

现在我们不应该有由雇主提供的或按小时计算的薪水。因此，我们返回两个列表，包含每个条目的最低和最高薪水。这成为我们最终的依赖变量（用于预测一个人的平均薪水）。

**探索性数据分析**

在这个阶段，EDA（探索性数据分析）扮演了非常重要的角色，因为对干净数据的总结有助于识别数据的结构、离群值、异常值和模式。这些见解可以帮助我们构建模型。然而，我将详细讨论EDA，并且你可以在我的Medium个人资料中找到它。

**模型构建**

数据科学家有机会了解他的工作是否准备就绪或是否需要审查。建模侧重于开发描述性或预测性的模型。因此，在这里，我们执行预测建模，这是一种使用数据挖掘和概率来预测结果的过程。对于预测建模，数据科学家使用一个训练集，这是一组已知结果的历史数据。这个步骤可以重复多次，直到模型理解问题及其答案。

如果我们有分类数据，则需要创建虚拟变量，因此我将分类变量转换为虚拟变量。我还将数据拆分为训练集和测试集，测试集的大小为20%。我尝试了三种不同的模型，并使用平均绝对误差（MAE）对它们进行了评估。我选择MAE是因为它相对容易解释，并且离群值对这种类型的模型并不特别糟糕。

![](../Images/72459f03ca6713721ffc2d56463514e1.png)

在这个转换之后，我们的数据集的列数从14增加到178！！

我实现了三种不同的模型：

+   多元线性回归——模型的基准

+   套索回归——由于来自许多分类变量的数据稀疏，我认为像套索这样的标准化回归会很有效。

+   随机森林——同样，考虑到数据的稀疏性，我认为这会是一个好的选择。

![](../Images/7c50ef3091e8a0ad62ab0bb81c47a3f8.png)

现在开始时，它会稍微差一些。因此，我们尝试找到alpha的最佳值，以使误差最小。

![](../Images/97c2f6817ec2ae0b23d7e6cd327b47e0.png)

在这里，我也选择了i/10，但误差仍然很高，因此我降低了alpha的值。

![](../Images/395d15057e8d4782d7d2820041246692.png)

在绘制图表并检查 alpha 值后，我们发现 alpha 值为0.13时的误差项最好。现在我们的误差已从21.09减少到19.25（即19.25K美元）。我们还可以通过调优 GridSearch 来进一步改进模型。

GridSearch 是执行超参数调优的过程，以确定给定模型的最佳值。GridSearchCV 基本上是将你希望使用的所有参数输入进去，然后它运行所有模型，并筛选出结果最好的那些。

![](../Images/50f8eede39c41a70fce07519c3ca784e.png)

我们还可以使用支持向量回归、XGBoost 或其他任何模型。

随机森林回归是一种基于树的决策过程，并且我们的数据集中有许多0和1，因此我们期望它是一个更好的模型。这就是我在这里偏好随机森林回归的原因。

![](../Images/c39324a94fd3b6dc42f895550ff2772b.png)

在这里，我们得到了比之前更小的误差值，因此随机森林模型比之前的模型更好。我将随机森林模型与线性回归模型结合起来进行预测。所以我取了两者的平均值，这意味着我对每个模型给予了50%的权重。

大多数情况下，将不同的模型结合起来进行预测更好，因为这有很大的可能性提高我们的准确率。这些类型的模型被称为集成模型，并且被广泛使用。误差可能会增加，也可能不会，因为一个模型可能会过度训练。

调优后的随机森林模型在这里是最好的，因为与 Lasso 和线性回归相比，它的误差最小。因此，我们可以将90%的随机森林模型与10%的其他模型合并，并测试准确性/性能。通常，这些类型的集成模型在分类问题中表现更好。

这个项目不应该是尝试所有模型，而应该选择最有效的模型，并能够讲述我们为何选择这些特定模型的故事。通常，Lasso 回归应该比线性回归效果更好，因为它具有归一化效果，而我们的矩阵是稀疏的，但在这里，Lasso 的表现却不如线性回归。因此，具体情况取决于每个模型，我们不能一概而论。

### 模型评估

数据科学家可以通过两种方式评估模型：Hold-Out 和交叉验证。在 Hold-Out 方法中，数据集被划分为三个子集：训练集、用于评估训练阶段构建模型性能的验证集，以及用于测试模型未来性能的测试集。在大多数情况下，训练：验证：测试集的比例将是3:1:1，这意味着60%的数据用于训练集，20%的数据用于验证集，20%的数据用于测试集。

### 模型部署

因此，我[创建了一个基本网页](https://glassdoorsalaryprediction-api.herokuapp.com/)，以便于理解。根据员工和公司提供的详细信息，该模型可以预测员工的预期薪资。

我已经在Heroku上使用flask部署了我的机器学习模型。我使用线性回归训练了模型（因为它容易理解），但你可以使用任何其他机器学习模型来训练你的模型，甚至可以使用集成模型，因为它们提供了良好的准确性。

![](../Images/604e2b4e6f1b47e4e3e75706c89b897d.png)

在部署模型后，我尝试预测了一名机器学习工程师的薪资，其中公司的评级为4，公司成立了39年。因此，根据我的模型，员工的预期薪资为117.31K美元。

在这篇文章中，我没有详细讨论所有内容。但你可以参考我的 [GitHub 仓库](https://github.com/mathangpeddi/Glassdoor-Job-Salaries) 获取完整项目。我从这篇文章得出的结论是，不要期待一个完美的模型，但要期待一个你今天可以在自己公司/项目中使用的模型！

对 [Ken Jee](https://www.youtube.com/channel/UCiT9RITQ9PW6BhXK0y2jaeg) 在数据科学领域的卓越贡献和项目致以诚挚的谢意。

> *“目标是将数据转化为信息，再将信息转化为洞察。”–卡莉·菲奥丽娜*

[原文](https://medium.com/dev-genius/learn-to-build-an-end-to-end-data-science-project-c9f79692191)。经许可转载。

**相关：**

+   [创建真实数据科学作品集项目的逐步指南](https://www.kdnuggets.com/2020/10/guide-authentic-data-science-portfolio-project.html)

+   [使您的作品集脱颖而出的8个AI/机器学习项目](https://www.kdnuggets.com/2020/09/8-ml-ai-projects-stand-out.html)

+   [如何建立数据科学作品集](https://www.kdnuggets.com/2018/07/build-data-science-portfolio.html)

### 更多相关话题

+   [成为优秀数据科学家所需的5项关键技能](https://www.kdnuggets.com/2021/12/5-key-skills-needed-become-great-data-scientist.html)

+   [每位初学者数据科学家应掌握的6种预测模型](https://www.kdnuggets.com/2021/12/6-predictive-models-every-beginner-data-scientist-master.html)

+   [2021年最佳ETL工具](https://www.kdnuggets.com/2021/12/mozart-best-etl-tools-2021.html)

+   [停止学习数据科学以寻找目标，并找到目标…](https://www.kdnuggets.com/2021/12/stop-learning-data-science-find-purpose.html)

+   [使用HuggingFace实现简单的端到端项目](https://www.kdnuggets.com/a-simple-to-implement-end-to-end-project-with-huggingface)

+   [学习数据科学统计学的顶级资源](https://www.kdnuggets.com/2021/12/springboard-top-resources-learn-data-science-statistics.html)
