# 面向初学者的 Jupyter Notebook：教程

> 原文：[https://www.kdnuggets.com/2018/05/jupyter-notebook-beginners-tutorial.html](https://www.kdnuggets.com/2018/05/jupyter-notebook-beginners-tutorial.html)

![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [评论](/2018/05/jupyter-notebook-beginners-tutorial.html?page=2#comments)

**作者：Benjamin Pryke， [Dataquest](https://www.dataquest.io)**

Jupyter Notebook 是一个极其强大的工具，用于互动式地开发和展示数据科学项目。一个笔记本将代码及其输出整合到一个文档中，结合了可视化、叙述文本、数学方程式和其他丰富的媒体。直观的工作流程促进了迭代和快速开发，使笔记本成为当代数据科学、分析及日益广泛的科学领域中越来越受欢迎的选择。最棒的是，作为开源 [Project Jupyter](https://jupyter.org/) 的一部分，它们完全免费。

Jupyter 项目是早期 IPython Notebook 的继任者，最初在 2010 年作为原型发布。虽然在 Jupyter Notebooks 中可以使用许多不同的编程语言，但本文将重点介绍 Python，因为这是最常见的使用案例。

要充分利用本教程，你应该熟悉编程，特别是 Python 和 [pandas](https://pandas.pydata.org/) 。如果你有其他语言的经验，这篇文章中的 Python 不会太难懂，而 pandas 应该也能理解。Jupyter Notebooks 也可以作为一个灵活的平台来掌握 pandas 甚至 Python，这将在本文中显而易见。

我们将：

+   了解 Jupyter 的基础知识并创建你的第一个笔记本

+   深入了解所有重要术语

+   探索笔记本如何轻松分享和在线发布。事实上，本文*就是*一个 Jupyter Notebook！这里的一切都是在 Jupyter Notebook 环境中编写的，你现在以只读形式查看它。

### 在 Jupyter Notebook 中进行示例数据分析

我们将通过一个示例分析来回答一个现实生活中的问题，这样你就可以看到笔记本的流程如何使任务变得直观，既方便我们自己处理，也方便与他人共享时理解。

比如，你是一名数据分析师，被要求查找美国最大公司历史上的利润变化情况。你找到了一份涵盖自 1955 年首次发布以来 50 多年的《财富》500 强公司数据集，这些数据来自 [《财富》公共档案](http://archive.fortune.com/magazines/fortune/fortune500_archive/full/2005/)。我们已经创建了一个可以使用的 CSV 文件，你可以在 [这里](https://www.dataquest.io/blog/large_files/fortune500.csv)下载。

正如我们将要演示的那样，Jupyter Notebooks 非常适合进行此类研究。首先，让我们安装 Jupyter。

### 安装

对于初学者来说，开始使用 Jupyter 笔记本的最简单方法是安装 [Anaconda](https://anaconda.org/)。Anaconda 是数据科学中最广泛使用的 Python 发行版，预装了所有最受欢迎的库和工具。除了 Jupyter，Anaconda 中还包含了一些最大的 Python 库，如 [NumPy](http://www.numpy.org/)、[pandas](https://pandas.pydata.org/) 和 [Matplotlib](https://matplotlib.org/)，尽管 [完整的1000+列表](https://docs.anaconda.com/anaconda/packages/pkg-docs) 是详尽的。这使得你可以在自己的数据科学工作坊中快速上手，而不必费心管理无数的安装或担心依赖关系和操作系统特定（即：Windows 特定）的安装问题。

获取 Anaconda，只需：

1.  [下载](https://www.anaconda.com/download/) 最新版本的 Python 3 的 Anaconda（忽略 Python 2.7）。

1.  按照下载页面和/或可执行文件中的说明安装 Anaconda。

如果你是一个更高级的用户，已经安装了 Python，并且喜欢手动管理你的包，你可以直接使用 pip：

```py
pip3 install jupyter

```

### 创建你的第一个笔记本

在本节中，我们将了解如何运行和保存笔记本，熟悉其结构，并理解界面。我们将深入了解一些核心术语，帮助你实际理解如何单独使用 Jupyter 笔记本，并为下一节做准备，这一节通过一个示例数据分析，将我们在这里学到的内容付诸实践。

### 运行 Jupyter

在 Windows 上，你可以通过 Anaconda 添加到开始菜单的快捷方式来运行 Jupyter，这将会在你的默认网页浏览器中打开一个新标签页，应该类似于以下截图。

![Jupyter 控制面板](../Images/9387393ed48c947987662cd50d11ba1e.png)

这还不是一个笔记本，但不要慌张！其实没什么复杂的。这是笔记本仪表板，专门用于管理你的 Jupyter 笔记本。可以把它看作是探索、编辑和创建笔记本的发射台。

请注意，仪表板仅会访问 Jupyter 启动目录中的文件和子文件夹；不过，启动目录 [可以更改](https://stackoverflow.com/q/35254852/604687)。也可以通过命令提示符（或 Unix 系统上的终端）输入命令 `jupyter notebook` 来启动仪表板；在这种情况下，当前工作目录将是启动目录。

敏锐的读者可能注意到仪表板的 URL 类似于 `http://localhost:8888/tree`。Localhost 不是一个网站，而是表示内容来自你的*本地*机器：你自己的计算机。Jupyter 的笔记本和仪表板是 Web 应用程序，Jupyter 启动本地 Python 服务器将这些应用程序提供给你的 Web 浏览器，这使得它在本质上是平台独立的，并且为在 Web 上更容易共享开辟了大门。

仪表板的界面大多数情况下是自解释的——尽管我们稍后会简要回到它。那么我们还在等什么呢？浏览到你希望创建第一个笔记本的文件夹，点击右上角的“新建”下拉按钮，选择“Python 3”（或你选择的版本）。

![新建笔记本菜单](../Images/6e34dfd7e9d9ce9d2f409afbc887bc62.png)

看！你的第一个 Jupyter 笔记本将在新标签页中打开——每个笔记本使用自己的标签页，因为你可以同时打开多个笔记本。如果你切换回仪表板，你会看到新的文件 `Untitled.ipynb`，并且应该看到一些绿色的文字，告诉你你的笔记本正在运行。

**什么是 ipynb 文件？**

理解这个文件到底是什么将会很有用。每个 `.ipynb` 文件是一个文本文件，用一种称为 [JSON](https://en.wikipedia.org/wiki/JSON) 的格式描述你的笔记本的内容。每个单元格及其内容，包括已转换为文本字符串的图像附件，都列在其中，还有一些 [metadata](https://ipython.org/ipython-doc/3/notebook/nbformat.html#metadata)。你可以自己编辑——如果你知道自己在做什么的话！——通过从笔记本的菜单栏中选择“编辑 > 编辑笔记本元数据”。

你还可以通过从仪表板上的控件中选择“编辑”来查看你的笔记本文件的内容，但这里的关键词是“*可以*”；除非你真的知道自己在做什么，否则没有其他理由这样做。

### 笔记本界面

现在你面前有一个打开的笔记本，希望它的界面不会看起来完全陌生；毕竟，Jupyter 本质上只是一个高级的文字处理器。为什么不四处看看呢？查看菜单以熟悉它，尤其是花一点时间滚动查看命令面板中的命令列表，这个小按钮上有一个键盘图标（或 `Ctrl + Shift + P`）。

![新 Jupyter 笔记本](../Images/236237aea19d7e1c805afc33f3ccef49.png)

有两个比较突出的术语你应该注意，这些术语可能对你来说是新的：*单元格* 和 *内核*，它们对于理解 Jupyter 和它使其不仅仅是一个文字处理器的原因至关重要。幸运的是，这些概念并不难理解。

+   内核是一个“计算引擎”，它执行笔记本文档中包含的代码。

+   单元格是一个容器，用于在笔记本中显示文本或由笔记本的内核执行的代码。

### 单元格

我们稍后会回到内核，但首先让我们了解单元格。单元格构成了笔记本的主体。在上面部分的新笔记本的截图中，那个绿色轮廓的框是一个空单元格。我们将介绍两种主要的单元格类型：

+   一个**代码单元格**包含要在内核中执行的代码，并在其下方显示其输出。

+   一个**Markdown 单元格**包含使用 Markdown 格式化的文本，并在运行时会在原地显示其输出。

新笔记本中的第一个单元格总是一个代码单元格。让我们通过一个经典的 hello world 示例来测试它。将`print('Hello World!')`输入到单元格中，然后点击工具栏上方的运行按钮 ![Notebook Run Button](../Images/ad9fffb0fbc5d5cf65e0ff9b048e8b52.png) 或按`Ctrl + Enter`。结果应如下所示：

```py
print('Hello World!')

```

```py
Hello World!

```

当你运行单元格时，其输出将显示在下方，左侧的标签会从`In [ ]`变为`In [1]`。代码单元格的输出也构成了文档的一部分，这就是你在本文中看到它的原因。你总是可以通过左侧的标签区分代码单元格和 Markdown 单元格，因为代码单元格有那个标签，而 Markdown 单元格没有。标签中的“In”部分只是“输入”的简写，而标签数字表示单元格在内核上执行的顺序——在这个例子中，单元格是第一次执行的。再次运行单元格，标签将变为`In [2]`，因为现在单元格是第二次在内核上运行的。稍后当我们更详细地查看内核时，会更清楚为什么这很有用。

从菜单栏中点击*插入*并选择*插入下方单元格*来在第一个单元格下方创建一个新的代码单元格，并尝试以下代码看看会发生什么。你注意到有什么不同吗？

```py
import time
time.sleep(3)

```

这个单元格不会产生任何输出，但它确实需要三秒钟来执行。注意 Jupyter 如何通过将单元格的标签更改为`In [*]`来表示单元格当前正在运行。

一般来说，单元格的输出来源于单元格执行过程中专门打印的文本数据，以及单元格中最后一行的值，无论是孤立的变量、函数调用还是其他东西。例如：

```py
def say_hello(recipient):
    return 'Hello, {}!'.format(recipient)

say_hello('Tim')

```

```py
'Hello, Tim!'

```

你会发现自己在项目中几乎不断使用它，我们稍后会看到更多。

### 键盘快捷键

你可能观察到的最后一件事是，当你运行单元格时，它的边框变成了蓝色，而在编辑时边框是绿色的。总是有一个“活动”单元格通过边框突出显示，其颜色表示当前模式，其中绿色表示“编辑模式”，蓝色表示“命令模式”。

到目前为止，我们已经看到如何使用`Ctrl + Enter`运行单元格，但还有许多其他快捷键。键盘快捷键是 Jupyter 环境中非常受欢迎的一个方面，因为它们促进了快速的单元格基础工作流程。许多快捷键是你可以在单元格处于命令模式时对活动单元格执行的操作。

下面，你会找到一些 Jupyter 的键盘快捷键列表。你不必立即掌握它们，但这个列表应该能给你一个很好的了解，以知道有哪些功能。

+   通过 `Esc` 和 `Enter` 分别在编辑模式和命令模式之间切换。

+   一旦进入命令模式：

    +   使用 `Up` 和 `Down` 键滚动浏览你的单元格。

    +   按 `A` 或 `B` 插入一个新单元格到当前单元格的上方或下方。

    +   `M` 将当前单元格转换为 Markdown 单元格。

    +   `Y` 将当前单元格设置为代码单元格。

    +   `D + D` (`D` 两次) 将删除当前单元格。

    +   `Z` 将撤销单元格删除。

    +   按住 `Shift` 并按 `Up` 或 `Down` 键可以一次选择多个单元格。

        +   选择多个单元格时，`Shift + M` 将合并你的选择。

+   `Ctrl + Shift + -` 在编辑模式下，会在光标处拆分当前单元格。

+   你也可以点击并 `Shift + Click` 左侧边距中的单元格进行选择。

赶快在你自己的笔记本中试试这些功能。尝试一下后，创建一个新的 Markdown 单元格，我们将学习如何格式化我们笔记本中的文本。

### Markdown

[Markdown](https://www.markdownguide.org/) 是一种轻量级、易于学习的标记语言，用于格式化纯文本。其语法与 HTML 标签一一对应，因此一些先前的知识会很有帮助，但绝对不是前提条件。记住这篇文章是在 Jupyter notebook 中编写的，因此到目前为止你看到的所有叙述性文本和图片都是通过 Markdown 实现的。让我们通过一个简单的例子来了解基础知识。

```py
# This is a level 1 heading
## This is a level 2 heading
This is some plain text that forms a paragraph.
Add emphasis via **bold** and __bold__, or *italic* and _italic_.

Paragraphs must be separated by an empty line.

* Sometimes we want to include lists.
 * Which can be indented.

1\. Lists can also be numbered.
2\. For ordered lists.

[It is possible to include hyperlinks](https://www.example.com)

Inline code uses single backticks: `foo()`, and code blocks use triple backticks:

```

bar()

```py

Or can be intented by 4 spaces:

    foo()

And finally, adding images is easy: ![Alt text](https://www.example.com/image.jpg)

```

附加图片时，你有三种选择：

+   使用网络上的图片 URL。

+   使用本地 URL 指向你将与笔记本一起保存的图片，例如在同一个 git 仓库中。

+   通过 "编辑 > 插入图片" 添加附件；这将把图片转换为字符串并存储在你的 `.ipynb` 文件中。

+   请注意，这将使你的 `.ipynb` 文件变得更大！

Markdown 还有许多细节，特别是在超链接方面，同时也可以简单地包含纯 HTML。 当你发现自己正在超越上述基础知识的极限时，可以参考 [官方指南](https://daringfireball.net/projects/markdown/syntax)，这由创建者 John Gruber 在他的网站上提供。

* * *

## 我们的前三大课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1. [Google 网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业道路

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2. [Google 数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3. [Google IT 支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你的组织的 IT 需求

* * *

### 更多相关内容

+   [如何在 Jupyter Notebook 上设置 Julia](https://www.kdnuggets.com/2022/11/setup-julia-jupyter-notebook.html)

+   [10 个数据科学家使用的 Jupyter Notebook 小贴士和技巧](https://www.kdnuggets.com/2023/06/10-jupyter-notebook-tips-tricks-data-scientists.html)

+   [Jupyter Notebook 魔法方法备忘单](https://www.kdnuggets.com/jupyter-notebook-magic-methods-cheat-sheet)

+   [金融领域中的 Python：在 Jupyter Notebook 中进行实时数据流处理](https://www.kdnuggets.com/python-in-finance-real-time-data-streaming-within-jupyter-notebook)

+   [5 个免费的 Jupyter Notebook 数据科学项目模板](https://www.kdnuggets.com/5-free-templates-for-data-science-projects-on-jupyter-notebook)

+   [如何编写高效的 Python 代码：初学者教程](https://www.kdnuggets.com/how-to-write-efficient-python-code-a-tutorial-for-beginners)
