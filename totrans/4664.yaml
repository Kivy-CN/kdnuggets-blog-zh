- en: 'A Complete Exploratory Data Analysis and Visualization for Text Data: Combine
    Visualization and NLP to Generate Insights'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 对文本数据的完整探索性数据分析和可视化：结合可视化和NLP生成见解
- en: 原文：[https://www.kdnuggets.com/2019/05/complete-exploratory-data-analysis-visualization-text-data.html/2](https://www.kdnuggets.com/2019/05/complete-exploratory-data-analysis-visualization-text-data.html/2)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://www.kdnuggets.com/2019/05/complete-exploratory-data-analysis-visualization-text-data.html/2](https://www.kdnuggets.com/2019/05/complete-exploratory-data-analysis-visualization-text-data.html/2)
- en: '![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [comments](/2019/05/complete-exploratory-data-analysis-visualization-text-data.html?page=2#comments)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [评论](/2019/05/complete-exploratory-data-analysis-visualization-text-data.html?page=2#comments)'
- en: Bivariate visualization with Plotly
  id: totrans-3
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用Plotly进行双变量可视化
- en: Bivariate visualization is a type of visualization that consists two features
    at a time. It describes association or relationship between two features.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 双变量可视化是一种同时包含两个特征的可视化类型。它描述了两个特征之间的关联或关系。
- en: '****Distribution of sentiment polarity score by recommendations****'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '****情感极性得分的推荐分布****'
- en: '[PRE0]'
  id: totrans-6
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: polarity_recommendation.py[![Plot 129](../Images/1bc9c153aba2aa641649e93b197b3110.png)](https://plot.ly/~susanli2005/129/
    "Plot 129")
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: polarity_recommendation.py[![Plot 129](../Images/1bc9c153aba2aa641649e93b197b3110.png)](https://plot.ly/~susanli2005/129/
    "Plot 129")
- en: Figure 22
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 图22
- en: It is obvious that reviews have higher polarity score are more likely to be
    recommended.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，评价的极性得分越高，更有可能被推荐。
- en: '**Distribution of ratings by recommendations**'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**推荐的评分分布**'
- en: '[PRE1]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: rating_recommendation.py[![Plot 132](../Images/f6ed904d8549d438781f93440afe7389.png)](https://plot.ly/~susanli2005/132/
    "Plot 132")
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: rating_recommendation.py[![Plot 132](../Images/f6ed904d8549d438781f93440afe7389.png)](https://plot.ly/~susanli2005/132/
    "Plot 132")
- en: Figure 23
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 图23
- en: Recommended reviews have higher ratings than those of not recommended ones.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 推荐的评论比未推荐的评论有更高的评分。
- en: '****Distribution of review lengths by recommendations****'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '****评论长度的推荐分布****'
- en: '[PRE2]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: review_length_recommend.py![figure-name](../Images/9068575cf6e638c67942692947772d61.png)Figure
    24
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: review_length_recommend.py![figure-name](../Images/9068575cf6e638c67942692947772d61.png)图24
- en: Recommended reviews tend to be lengthier than those of not recommended reviews.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 推荐的评论往往比未推荐的评论更长。
- en: '****2D Density jointplot of sentiment polarity vs. rating****'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '****情感极性与评分的2D密度联合图****'
- en: '[PRE3]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: sentiment_polarity_rating.py[![Plot 134](../Images/100bb1c6f37173edebf3f828fc5409e0.png)](https://plot.ly/~susanli2005/134/
    "Plot 134")
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: sentiment_polarity_rating.py[![Plot 134](../Images/100bb1c6f37173edebf3f828fc5409e0.png)](https://plot.ly/~susanli2005/134/
    "Plot 134")
- en: Figure 24
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图24
- en: '****2D Density jointplot of age and sentiment polarity****'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '****年龄和情感极性联合图的2D密度****'
- en: '[PRE4]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: age_polarity.py[![Plot 136](../Images/3670fe2de21e461d1091db45a30b5ed3.png)](https://plot.ly/~susanli2005/136/
    "Plot 136")
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: age_polarity.py[![Plot 136](../Images/3670fe2de21e461d1091db45a30b5ed3.png)](https://plot.ly/~susanli2005/136/
    "Plot 136")
- en: Figure 25
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图25
- en: There were few people are very positive or very negative. People who give neutral
    to positive reviews are more likely to be in their 30s. Probably people at these
    age are likely to be more active.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 很少有人非常积极或非常消极。给予中性到积极评价的人更可能在30多岁。可能这个年龄段的人更活跃。
- en: Finding characteristic terms and their associations
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 查找特征术语及其关联
- en: Sometimes we want to analyzes words used by different categories and outputs
    some notable term associations. We will use [scattertext](https://github.com/JasonKessler/scattertext#using-scattertext-as-a-text-analysis-library-finding-characteristic-terms-and-their-associations)
    and [spaCy](https://github.com/explosion/spaCy) libraries to accomplish these.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 有时我们想要分析不同类别使用的词汇，并输出一些显著的术语关联。我们将使用 [scattertext](https://github.com/JasonKessler/scattertext#using-scattertext-as-a-text-analysis-library-finding-characteristic-terms-and-their-associations)
    和 [spaCy](https://github.com/explosion/spaCy) 库来完成这些任务。
- en: First, we need to turn the data frame into a Scattertext Corpus. To look for
    differences in department name, set the `category_col`parameter to `'Department
    Names'`, and use the review present in the `Review Text` column, to analyze by
    setting the `text` col parameter. Finally, pass a spaCy model in to the `nlp`
    argument and call `build()` to construct the corpus.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要将数据框转换为Scattertext语料库。要查找部门名称的差异，将`category_col`参数设置为`'Department Names'`，并使用`Review
    Text`列中的评论，通过设置`text`列参数进行分析。最后，将spaCy模型传递到`nlp`参数中，并调用`build()`构建语料库。
- en: Following are the terms that differentiate the review text from a general English
    corpus.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是区分评论文本与一般英语语料库的术语。
- en: '[PRE5]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![figure-name](../Images/28fe2a769350d32ca97a895dfccd8661.png)Figure 26'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '![figure-name](../Images/28fe2a769350d32ca97a895dfccd8661.png)图 26'
- en: 'Following are the terms in review text that are most associated with the Tops
    department:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是与 Tops 部门最相关的评论文本中的术语：
- en: '[PRE6]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '![figure-name](../Images/27533f8f6456bda4504515f56f09b8ad.png)Figure 27'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '![figure-name](../Images/27533f8f6456bda4504515f56f09b8ad.png)图 27'
- en: 'Following are the terms that are most associated with the Dresses department:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是与 Dresses 部门最相关的术语：
- en: '[PRE7]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![figure-name](../Images/9fc92d9c804114e75397d199304fe16d.png)Figure 28'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '![figure-name](../Images/9fc92d9c804114e75397d199304fe16d.png)图 28'
- en: Topic Modeling Review Text
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 主题建模评论文本
- en: Finally, we want to explore topic modeling algorithm to this data set, to see
    whether it would provide any benefit, and fit with what we are doing for our review
    text feature.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们希望探索将主题建模算法应用于这个数据集，以查看它是否能提供任何好处，并与我们正在做的评论文本特征相匹配。
- en: We will experiment with Latent Semantic Analysis (LSA) technique in topic modeling.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将尝试在主题建模中使用潜在语义分析（LSA）技术。
- en: Generating our document-term matrix from review text to a matrix of [TF-IDF
    features](https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html).
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从评论文本生成文档-词项矩阵到 [TF-IDF 特征](https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html)
    的矩阵。
- en: LSA model replaces raw counts in the document-term matrix with a TF-IDF score.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LSA 模型用 TF-IDF 分数替换了文档-词项矩阵中的原始计数。
- en: Perform dimensionality reduction on the document-term matrix using [truncated
    SVD](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.TruncatedSVD.html).
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 [truncated SVD](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.TruncatedSVD.html)
    对文档-词项矩阵进行降维。
- en: Because the number of department is 6, we set `n_topics=6`.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因为部门数量为 6，我们设置了 `n_topics=6`。
- en: Taking the `argmax` of each review text in this topic matrix will give the predicted
    topics of each review text in the data. We can then sort these into counts of
    each topic.
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 取这个主题矩阵中每个评论文本的 `argmax` 将给出数据中每个评论文本的预测主题。然后，我们可以将这些主题按数量排序。
- en: To better understand each topic, we will find the most frequent three words
    in each topic.
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了更好地理解每个主题，我们将找出每个主题中最常见的三个词。
- en: '[PRE8]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: topic_model_LSA.py![figure-name](../Images/9059fb1e44278c775b451ad01abe95fd.png)Figure
    29
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: topic_model_LSA.py![figure-name](../Images/9059fb1e44278c775b451ad01abe95fd.png)图
    29
- en: '[PRE9]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '![figure-name](../Images/28dd8235dc2d19df0413fe550239224c.png)Figure 30'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '![figure-name](../Images/28dd8235dc2d19df0413fe550239224c.png)图 30'
- en: By looking at the most frequent words in each topic, we have a sense that we
    may not reach any degree of separation across the topic categories. In another
    word, we could not separate review text by departments using topic modeling techniques.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 通过查看每个主题中最常见的词汇，我们可以感受到在主题类别之间可能无法达到任何程度的分离。换句话说，我们无法通过主题建模技术将评论文本按部门分开。
- en: Topic modeling techniques have a number of important limitations. To begin,
    the term “topic” is somewhat ambigious, and by now it is perhaps clear that topic
    models will not produce highly nuanced classification of texts for our data.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 主题建模技术有一些重要的局限性。首先，“主题”这个词有些模糊，现在可能已经清楚，主题模型不会对我们的数据产生高度细化的文本分类。
- en: In addition, we can observe that the vast majority of the review text are categorized
    to the first topic (Topic 0). The t-SNE visualization of LSA topic modeling won’t
    be pretty.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们可以观察到绝大多数评论文本被归类为第一个主题（主题 0）。LSA 主题建模的 t-SNE 可视化效果不会很美观。
- en: All the code can be found on the [Jupyter notebook](https://github.com/susanli2016/NLP-with-Python/blob/master/EDA%20and%20visualization%20for%20Text%20Data.ipynb).
    And code plus the interactive visualizations can be viewed on [nbviewer](https://nbviewer.jupyter.org/github/susanli2016/NLP-with-Python/blob/master/EDA%20and%20visualization%20for%20Text%20Data.ipynb).
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 所有代码可以在 [Jupyter notebook](https://github.com/susanli2016/NLP-with-Python/blob/master/EDA%20and%20visualization%20for%20Text%20Data.ipynb)
    找到。代码和交互式可视化可以在 [nbviewer](https://nbviewer.jupyter.org/github/susanli2016/NLP-with-Python/blob/master/EDA%20and%20visualization%20for%20Text%20Data.ipynb)
    上查看。
- en: Happy Monday!
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 快乐的周一！
- en: '**Bio: [Susan Li](https://www.linkedin.com/in/susanli/)** is changing the world,
    one article at a time. She is a Sr. Data Scientist, located in Toronto, Canada.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '**Bio: [Susan Li](https://www.linkedin.com/in/susanli/)** 正在通过一篇文章改变世界。她是一位高级数据科学家，位于加拿大多伦多。'
- en: '[Original](https://towardsdatascience.com/a-complete-exploratory-data-analysis-and-visualization-for-text-data-29fb1b96fb6a).
    Reposted with permission.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '[原文](https://towardsdatascience.com/a-complete-exploratory-data-analysis-and-visualization-for-text-data-29fb1b96fb6a)。已获许可转载。'
- en: '**Related:**'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '**相关：**'
- en: '[ELMo: Contextual Language Embedding](/2019/01/elmo-contextual-language-embedding.html)'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[ELMo: 上下文语言嵌入](/2019/01/elmo-contextual-language-embedding.html)'
- en: '[All you need to know about text preprocessing for NLP and Machine Learning](/2019/04/text-preprocessing-nlp-machine-learning.html)'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[你需要了解的 NLP 和机器学习文本预处理知识](/2019/04/text-preprocessing-nlp-machine-learning.html)'
- en: '[Machine Learning for Text Classification Using SpaCy in Python](/2018/09/machine-learning-text-classification-using-spacy-python.html)'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[使用 SpaCy 在 Python 中进行文本分类的机器学习](/2018/09/machine-learning-text-classification-using-spacy-python.html)'
- en: '* * *'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Our Top 3 Course Recommendations
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我们的前三名课程推荐
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google 网络安全证书](https://www.kdnuggets.com/google-cybersecurity)
    - 快速进入网络安全职业生涯'
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google 数据分析专业证书](https://www.kdnuggets.com/google-data-analytics)
    - 提升你的数据分析技能'
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT 支持专业证书](https://www.kdnuggets.com/google-itsupport)
    - 支持组织的 IT 需求'
- en: '* * *'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: More On This Topic
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更多相关内容
- en: '[Generate Music From Text Using Google MusicLM](https://www.kdnuggets.com/2023/06/generate-music-text-google-musiclm.html)'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[通过 Google MusicLM 从文本生成音乐](https://www.kdnuggets.com/2023/06/generate-music-text-google-musiclm.html)'
- en: '[Collection of Guides on Mastering SQL, Python, Data Cleaning, Data…](https://www.kdnuggets.com/collection-of-guides-on-mastering-sql-python-data-cleaning-data-wrangling-and-exploratory-data-analysis)'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[掌握 SQL、Python、数据清理、数据处理和探索性数据分析的指南集合](https://www.kdnuggets.com/collection-of-guides-on-mastering-sql-python-data-cleaning-data-wrangling-and-exploratory-data-analysis)'
- en: '[Exploratory Data Analysis Techniques for Unstructured Data](https://www.kdnuggets.com/2023/05/exploratory-data-analysis-techniques-unstructured-data.html)'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[针对非结构化数据的探索性数据分析技术](https://www.kdnuggets.com/2023/05/exploratory-data-analysis-techniques-unstructured-data.html)'
- en: '[A Data Scientist’s Essential Guide to Exploratory Data Analysis](https://www.kdnuggets.com/2023/06/data-scientist-essential-guide-exploratory-data-analysis.html)'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[数据科学家的探索性数据分析必备指南](https://www.kdnuggets.com/2023/06/data-scientist-essential-guide-exploratory-data-analysis.html)'
- en: '[7 Steps to Mastering Exploratory Data Analysis](https://www.kdnuggets.com/7-steps-to-mastering-exploratory-data-analysis)'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[掌握探索性数据分析的 7 个步骤](https://www.kdnuggets.com/7-steps-to-mastering-exploratory-data-analysis)'
- en: '[SQL Group By and Partition By Scenarios: When and How to Combine…](https://www.kdnuggets.com/sql-group-by-and-partition-by-scenarios-when-and-how-to-combine-data-in-data-science)'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[SQL Group By 和 Partition By 场景：何时以及如何结合…](https://www.kdnuggets.com/sql-group-by-and-partition-by-scenarios-when-and-how-to-combine-data-in-data-science)'
