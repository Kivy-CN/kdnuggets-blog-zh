# 数据科学家，你需要知道如何编程

> 原文：[https://www.kdnuggets.com/2021/06/data-scientists-need-know-code.html](https://www.kdnuggets.com/2021/06/data-scientists-need-know-code.html)

[评论](#comments)

**由[Tyler Folkman](https://learn.learningwithdata.com/)，Branded Entertainment Network的AI负责人**

![](../Images/9e7a84b00952ec77bf2d2445db9c77d7.png)

照片由[Roman Synkevych](https://unsplash.com/@synkevych?utm_source=medium&utm_medium=referral)提供，来源于[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)

* * *

## 我们的前三名课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业生涯的捷径

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析能力

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你组织的IT需求

* * *

我知道你在想什么——“我当然知道如何编程，你疯了吗？”

你每天在Jupyter笔记本中写大量代码，几百行。显然，你会编程。你不是在手动训练机器学习模型或在Excel中（尽管那也是可能的）。

那我可能是什么意思呢？

我不想打击你，但我认为大多数数据科学家写的代码并不真正算是编程。你使用编程语言作为工具来探索数据和构建模型。但是你创建的程序并不是你真正思考的，只要它完成了任务就行了。

你的代码通常是混乱的，甚至可能无法按顺序运行（多亏了笔记本）。你可能从未编写过任何单元测试，对如何编写好的、可重用的函数了解甚少。

但随着数据科学越来越多地嵌入到实际产品中，这种类型的代码将无法满足需求。你不能信任糟糕的代码，将无法信任的代码投入到产品中会导致大量的技术债务和糟糕的用户体验。

“好吧，好吧，但我是一名数据科学家，不是软件工程师”，你说。我负责构建模型，而清理代码是别人的问题。虽然这种做法在某些公司可能有效，但目前，我深信一个更好的模式是数据科学家学习如何编写更好的代码。你可能永远无法成为顶级的软件工程师，但数据科学家可以编写值得信赖并可以投入生产的代码，只需一些努力。

### 从你的函数开始

当学习如何提升你的代码时，从编写函数开始。大多数代码只是函数（或可能的类）的系列，如果你能学会编写相当好的函数，这将大大改善你的代码质量。

你的函数至少应该：

1.  只做一件事

1.  具有文档说明。

1.  使用好的变量名称。

虽然有整本书讨论如何编写干净的函数，但这3个方面是一个很好的起点。

你不应该有一个看起来像是试图做多件事的函数。一些迹象表明你的函数可能做得太多了：

+   它的长度超过了一屏幕或大约 30 行代码（根据我的经验）。

+   函数名称很难清晰，因为它做了很多事情。

+   它包含了大量的 if/else 代码块，这些代码块实际上应该被拆分成独立的函数。

只做一件事的函数很重要，因为它使你的代码更容易理解、管理和测试（后面会详细讲测试）。

任何发布到生产环境的函数都应该有一个文档字符串，该字符串应描述函数的作用，提供输入参数的信息，并可能提供一些简单的使用示例。当你拥有良好文档的函数时，你会感谢自己，其他人也会更容易理解你的代码。

最后，请使用易于理解和有帮助的变量名称。太多的数据科学家习惯使用“a”、“a1”和“a2”等变量名称。短小且无帮助的变量名称在实验时打字更快，但在将代码投入生产时，请确保你的变量名称能帮助其他人理解你的代码。

### 移除打印语句。

数据科学家常常使用打印语句来显示正在发生的信息。然而，在生产环境中，这些打印语句应该在不再需要时被移除，或者转换为日志语句。

日志记录应该是你从代码中传达信息和错误的方式。一个值得查看的优秀 Python 库是 Loguru，它可以让日志记录变得更简单。它自动处理了大部分烦人的日志记录部分，使用起来更像是用打印语句。

### 使用风格指南。

编程中的风格指南用于让多人在相同代码上工作变得更容易，同时让代码看起来像是由一个人编写的。

为什么这很重要？

当你有一致的风格时，导航和理解代码会变得更容易。使用风格指南时，发现错误会变得更容易。遵守标准的编码方式将使你和其他人更容易导航代码。这意味着你不必花费太多时间解读代码的格式，而可以专注于代码的功能以及它是否正确和良好地完成了任务。

PEP 8 可能是 Python 最广泛使用的风格指南。尽管还有许多其他风格指南。另一个受欢迎的风格指南来源是 Google，因为他们公开了他们的内部风格指南。

重要的是你选择一种方法并尽量坚持下去。一个使其更容易的方法是启用你的 IDE 以检查样式错误，并设置样式检查，以防样式指南没有遵循而阻止代码提交。你还可以进一步承诺使用自动格式化工具，它会自动为你格式化代码。这些工具允许你以任何方式编写代码，然后在运行时会自动将你的代码格式化为符合标准。一个流行的 Python 自动格式化工具是 Black。

### 编写测试

我发现大多数数据科学家害怕测试，因为他们不太清楚如何开始进行测试。

实际上，许多数据科学家已经在运行我称之为临时测试的东西。我发现数据科学家在笔记本中快速运行几个“合理性检查”是很常见的。你通过一些简单的测试用例，确保函数按预期运行。

软件工程师称这个过程为单元测试。

唯一的不同之处在于，数据科学家们往往会删除这些临时测试然后继续前进。相反，你需要保存它们，并确保每次代码提交之前都运行这些测试，以确保没有出现任何问题。

要开始使用 Python，我建议使用 pytest。使用 pytest，你可以轻松创建测试并一次性运行它们，以确保它们通过。一个简单的开始方法是创建一个名为“tests”的目录，并在该目录中放置以“test.”开头的 Python 文件。例如，你可以有“test_addition.py”。

[PRE0]

通常，你会将实际的函数放在另一个 Python 文件中，并将其导入到你的测试模块中。你也不需要测试 Python 的加法，但这只是一个非常简单的例子。

在这些测试模块中，你可以保存所有函数的“合理性检查”。通常，良好的做法不仅测试常见情况，还要测试边界情况和潜在的错误情况。

> 注意：测试的类型有很多种。我认为单元测试是数据科学家开始进行测试的最佳选择。

### 进行代码审查

最后但同样重要的是，我们列出的编写更好代码的关键事项之一是代码审查。

代码审查是指在你将代码提交到主分支之前，由一个熟练编写你领域内代码的人来审查你的代码。这个步骤确保了最佳实践的遵循，并希望能发现任何坏代码或错误。

审查你代码的人最好至少与你一样擅长编写代码，但即便是让一个更初级的人审查你的代码也可能会非常有益。

人性中有懒惰的部分，很容易让这种懒惰渗透到我们的代码中。知道有人会审查你的代码是一个很好的激励措施，促使你花时间编写良好的代码。这也是我发现的最有效的改进方式。让一个更有经验的同事审查你的代码并给你提供改进建议是非常宝贵的。

为了方便审阅你代码的人，尽量保持新代码量小。小而频繁的代码审查效果较好。稀疏而大量的代码审查则很糟糕。没有人愿意收到成千上万行代码来审查。这些审查通常提供更差的反馈，因为审查者无法花费足够的时间真正理解这么多代码。

![](../Images/85c2e1cdfc60f4ed301d0b08cc628138.png)

### 提升你的编码水平

我希望这篇文章能激励你花时间学习如何编写更好的代码。这并不一定难，但确实需要时间和精力去提高。

如果你按照这5个建议去做，我相信你会发现代码质量有显著改善。

你的未来自我和同事会感谢你。

查看我的 [免费课程](https://bit.ly/3ltZA4s)，了解如何部署机器学习模型。

**简介：[Tyler Folkman](https://learn.learningwithdata.com/)** 是 Branded Entertainment Network 的 AI 负责人。获取你免费的 Tyler [创建惊人数据科学项目的5步流程](http://bit.ly/39FyHGl)。

[原文](https://towardsdatascience.com/data-scientists-you-need-to-know-how-to-code-9142b2dc74e8)。转载经许可。

**相关：**

+   [顶级编程语言及其用途](/2021/05/top-programming-languages.html)

+   [未来5年会出现数据科学职位短缺吗？](/2021/06/shortage-data-science-jobs-5-years.html)

+   [这些软技能可能决定你数据科学职业的成败](/2021/05/soft-skills-data-science-career.html)

### 更多相关主题

+   [KDnuggets 新闻，4月13日：数据科学家应了解的 Python 库…](https://www.kdnuggets.com/2022/n15.html)

+   [你可能不知道低代码工具可以做的7件事](https://www.kdnuggets.com/2022/09/7-things-didnt-know-could-low-code-tool.html)

+   [我们不需要数据科学家，我们需要数据工程师](https://www.kdnuggets.com/2021/02/dont-need-data-scientists-need-data-engineers.html)

+   [KDnuggets 新闻，4月27日：关于 Papers With Code 的简要介绍；…](https://www.kdnuggets.com/2022/n17.html)

+   [数据科学基础：你需要知道的10项必备技能](https://www.kdnuggets.com/2020/10/data-science-minimum-10-essential-skills.html)

+   [数据驱动的 AI：你需要了解的最新研究](https://www.kdnuggets.com/2022/02/datacentric-ai-latest-research-need-know.html)
