# 如何检测和克服 MLOps 中的模型漂移

> 原文：[https://www.kdnuggets.com/2021/08/detect-overcome-model-drift-mlops.html](https://www.kdnuggets.com/2021/08/detect-overcome-model-drift-mlops.html)

[评论](#comments)

**作者：[Bhaskar Ammu](https://www.sigmoid.com/)，[Sigmoid](https://www.sigmoid.com/) 的高级数据科学家**

![](../Images/d3d4445359db348c3d3000d7f0fcf71d.png)

* * *

## 我们的前三大课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [谷歌网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业生涯。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [谷歌数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [谷歌 IT 支持专业证书](https://www.kdnuggets.com/google-itsupport) - 在 IT 领域支持你的组织

* * *

机器学习（ML）被广泛认为是数字化转型的基石，但 ML 模型最容易受到数字环境动态变化的影响。ML 模型是由其创建时所用的变量和参数来定义和优化的。

让我们来看一个**[ML 模型](https://www.sigmoid.com/ebooks-whitepapers/ml-models-poc-to-production/)**的例子，这个模型是基于当时可能泛滥的垃圾邮件的通用模板来跟踪垃圾邮件的。建立了这个基准后，ML 模型能够识别和阻止这些类型的邮件，从而防止潜在的网络钓鱼攻击。然而，随着威胁环境的变化和网络犯罪分子的变得更加聪明，更复杂且逼真的邮件已经取代了旧的邮件。面对这些新的黑客尝试，基于过去几年的变量运行的 ML 检测系统将无法正确地分类这些新威胁。这只是模型漂移的一个例子。

模型漂移（或模型衰退）是 ML 模型预测能力的退化。由于数字环境的变化以及概念和数据等变量的随之变化，模型漂移在 ML 模型中非常突出，这本身就是机器学习模型的特性。

假设所有未来的变量将与创建 ML 模型时的变量保持一致，这是**[MLOps 中的模型漂移](https://www.sigmoid.com/machine-learning-operationalization-mlops/)**的滋生温床。

例如，如果一个模型在一个静态环境中使用静态数据运行，那么其性能不应退化，因为预测的数据来自与训练时相同的分布。然而，如果模型存在于一个不断变化的动态环境中，涉及过多的变量，那么模型的性能也会有所不同。

## 模型漂移的类型

模型漂移可以根据变量或预测变量的变化大致分为两种主要类型：概念漂移和数据漂移。

1. **概念漂移** – 当模型中目标变量的统计属性发生变化时，就会出现概念漂移。简而言之，如果模型变量的本质发生变化，那么模型将无法按预期运行。

2. **数据漂移** – 最常见的模型漂移类型，发生在某些预测变量的统计属性发生变化时。随着变量的变化，模型容易出现失败。一个在某个时间段内有效的模型，可能在应用到不同环境时效果就会大打折扣，因为数据没有针对变化的变量进行调整。

> 在概念漂移与数据漂移的较量中，上游数据变化也在模型漂移中发挥着重要作用。随着所有必需的数据通过**[数据管道](https://www.sigmoid.com/etl-and-data-warehousing/)**流动，特征未生成和单位变化（如测量）也可能导致缺失值，这会影响机器学习模型的操作。

## 解决模型漂移

早期检测模型漂移对保持模型准确性至关重要。这是因为随着时间的推移，模型的准确性会下降，预测值继续与实际值偏离。这个过程越深入，对模型整体造成的不可替代的损害也就越大。因此，及早发现问题是至关重要的。F1 分数，通过评估模型的精度和召回能力的准确性，是检测是否存在异常的快速方法。

同样，根据模型的目的，不同的指标在不同情况下也会显得重要。设计用于医疗用途的机器学习模型需要与设计用于商业操作的机器学习模型不同的指标。然而，最终结果是一样的：每当指定指标低于设定阈值时，就很可能发生模型漂移。

然而，在某些情况下，测量模型的准确性是不可能的——特别是在获取预测数据和实际数据时遇到困难，这仍然是**[扩展机器学习模型的挑战](https://www.sigmoid.com/blogs/5-challenges-to-be-prepared-for-before-scaling-machine-learning-models/)**之一。在这种情况下，根据过去的经验重新调整模型可以帮助创建一个预测漂移发生时间的时间表。有了这些信息，模型可以在定期间隔内重新开发，以应对即将发生的模型漂移。

> 保持原始模型完好无损，也可以作为一个基准，从中创建新的模型，以改进和纠正先前基准模型的预测。

然而，当数据随着时间变化时，根据当前变化加权数据可能很重要。通过确保模型对最近的数据变化给予更多的权重，而对旧的数据给予较少的权重，机器学习模型将变得更为稳健，并建立一个整洁的小数据库来管理潜在的未来漂移相关变化。

## 创建可持续的机器学习模型

没有一种万能的方法可以确保模型漂移得到及时检测和处理。无论是通过计划的模型重新训练，还是通过实时**[机器学习](https://www.sigmoid.com/blogs/5-best-practices-for-putting-ml-models-into-production/)**；创建一个可持续的机器学习模型本身就是一个挑战。

然而，MLOps的出现简化了更频繁且在较短时间间隔内重新训练模型的过程。它使数据团队能够自动化模型的重新训练，而触发这一过程的最可靠方法是通过计划安排。通过自动化重新训练，公司可以在特定时间框架内用新的新鲜数据强化现有的数据管道。好消息是，这不需要任何特定的代码更改或重建管道。如果公司发现了在模型训练期间未曾出现的新特征或算法，那么在部署重新训练的模型时将其纳入其中可以显著提高模型的准确性。

在决定模型需要重新训练的频率时，有几个变量需要考虑。有时，等待问题显现出来可能是唯一的实际选择（特别是如果没有可供参考的过去历史）。在其他情况下，模型应该根据与变量季节性变化相关的模式进行重新训练。然而，在这片变化的海洋中不变的是监控的重要性。不论是时间表还是业务领域；定期的持续监控始终是检测模型漂移的最佳方法。

尽管管理、检测和应对成千上万的机器学习模型的模型漂移挑战可能看起来令人生畏，但像Sigmoid这样的服务提供商的机器学习操作化解决方案可以为你提供直面这些问题的优势。**[Sigmoid的MLOps实践](https://www.sigmoid.com/machine-learning-operationalization-mlops/)**提供了正确的数据科学、**[数据工程](https://www.sigmoid.com/data-engineering/)**和**[DataOps专长](https://www.sigmoid.com/data-devops/)**，以便将机器学习操作化并扩展到业务价值，同时构建一个**[有效的AI战略](https://www.sigmoid.com/blogs/mlops-for-effective-ai-strategy/)**。

*欲了解更多关于我们如何帮助数据驱动的公司加快AI项目的商业价值实现时间并克服模型漂移挑战的信息，请点击链接 **[这里](https://www.sigmoid.com/machine-learning-operationalization-mlops/)**。*

**简历： [Bhaskar Ammu](https://www.sigmoid.com/)** 是Sigmoid的高级数据科学家。他专注于为客户设计数据科学解决方案，构建数据库架构，及管理项目和团队。

[原始文章](https://www.sigmoid.com/blogs/how-to-detect-and-overcome-model-drift-in-mlops/)。已获转载许可。

**相关：**

+   [MLOps是一门工程学科：初学者概述](/2021/07/mlops-engineering-discipline.html)

+   [使用PyCaret + MLflow轻松进行MLOps](/2021/05/easy-mlops-pycaret-mlflow.html)

+   [何时重新训练机器学习模型？运行这5项检查以决定计划](/2021/07/retrain-machine-learning-model-5-checks-decide-schedule.html)

### 更多相关主题

+   [使用MLOps管理生产中的模型漂移](https://www.kdnuggets.com/2023/05/managing-model-drift-production-mlops.html)

+   [使用Eurybia检测数据漂移以确保生产中的机器学习模型质量](https://www.kdnuggets.com/2022/07/detecting-data-drift-ensuring-production-ml-model-quality-eurybia.html)

+   [如何使用合成数据克服机器学习模型训练中的数据短缺](https://www.kdnuggets.com/2022/03/synthetic-data-overcome-data-shortages-machine-learning-model-training.html)

+   [检测虚假数据科学家的20个问题（附答案）：ChatGPT…](https://www.kdnuggets.com/2023/01/20-questions-detect-fake-data-scientists-chatgpt-1.html)

+   [检测虚假数据科学家的20个问题（附答案）：ChatGPT…](https://www.kdnuggets.com/2023/02/20-questions-detect-fake-data-scientists-chatgpt-2.html)

+   [如何克服对数学的恐惧并学习数据科学中的数学](https://www.kdnuggets.com/2021/03/overcome-fear-learn-math-data-science.html)
