["```py\nimport sqlite3\n\n# connect to the db\ndb_conn = sqlite3.connect('people_db.db')\ndb_cursor = db_conn.cursor()\n```", "```py\n# main.py\n...\n# create table\ndb_cursor.execute('''CREATE TABLE people (\n                  id INTEGER PRIMARY KEY,\n                  name TEXT,\n                  email TEXT,\n                  job TEXT)''')\n\n...\n\n# commit the transaction and close the cursor and db connection\ndb_conn.commit()\ndb_cursor.close()\ndb_conn.close()\n```", "```py\n$ pip install faker\n```", "```py\n# main.py\n...\nfrom faker import Faker\n...\n```", "```py\n# create and insert records\nfake = Faker() # be sure to import: from faker import Faker \nFaker.seed(42)\n\nnum_records = 100000\n\nfor _ in range(num_records):\n    first = fake.first_name()\n    last = fake.last_name()\n    name = f\"{first} {last}\"\n    domain = fake.domain_name()\n    email = f\"{first}.{last}@{domain}\"\n    job = fake.job()\n    db_cursor.execute('INSERT INTO people (name, email, job) VALUES (?,?,?)', (name,email,job))\n\n# commit the transaction and close the cursor and db connection\ndb_conn.commit()\ndb_cursor.close()\ndb_conn.close() \n```", "```py\n# main.py\n# imports\nimport sqlite3\nfrom faker import Faker\n\n# connect to the db\ndb_conn = sqlite3.connect('people_db.db')\ndb_cursor = db_conn.cursor()\n\n# create table\ndb_cursor.execute('''CREATE TABLE people (\n                  id INTEGER PRIMARY KEY,\n                  name TEXT,\n                  email TEXT,\n                  job TEXT)''')\n\n# create and insert records\nfake = Faker()\nFaker.seed(42)\n\nnum_records = 100000\n\nfor _ in range(num_records):\n    first = fake.first_name()\n    last = fake.last_name()\n    name = f\"{first} {last}\"\n    domain = fake.domain_name()\n    email = f\"{first}.{last}@{domain}\"\n    job = fake.job()\n    db_cursor.execute('INSERT INTO people (name, email, job) VALUES (?,?,?)', (name,email,job))\n\n# commit the transaction and close the cursor and db connection\ndb_conn.commit()\ndb_cursor.close()\ndb_conn.close()\n```", "```py\n# sample_query.py\n\nimport sqlite3\nimport time\n\ndb_conn = sqlite3.connect(\"people_db.db\")\ndb_cursor = db_conn.cursor()\n\nt1 = time.perf_counter_ns()\n\ndb_cursor.execute(\"SELECT name, email FROM people WHERE job='Product manager' LIMIT 10;\")\n\nres = db_cursor.fetchall()\nt2 = time.perf_counter_ns()\n\nprint(res)\nprint(f\"Query time without index: {(t2-t1)/1000} us\")\n```", "```py\nOutput >>\n[\n    (\"Tina Woods\", \"Tina.Woods@smith.com\"),\n    (\"Toni Jackson\", \"Toni.Jackson@underwood.com\"),\n    (\"Lisa Miller\", \"Lisa.Miller@solis-west.info\"),\n    (\"Katherine Guerrero\", \"Katherine.Guerrero@schmidt-price.org\"),\n    (\"Michelle Lane\", \"Michelle.Lane@carr-hardy.com\"),\n    (\"Jane Johnson\", \"Jane.Johnson@graham.com\"),\n    (\"Matthew Odom\", \"Matthew.Odom@willis.biz\"),\n    (\"Isaac Daniel\", \"Isaac.Daniel@peck.com\"),\n    (\"Jay Byrd\", \"Jay.Byrd@bailey.info\"),\n    (\"Thomas Kirby\", \"Thomas.Kirby@west.com\"),\n]\n\nQuery time without index: 448.275 us\n```", "```py\n$ sqlite3 people_db.db\nSQLite version 3.37.2 2022-01-06 13:25:41\nEnter \".help\" for usage hints.\n```", "```py\nsqlite> .index\n```", "```py\nsqlite> EXPLAIN QUERY PLAN SELECT name, email FROM people WHERE job='Product Manager' LIMIT 10;\nQUERY PLAN\n`--SCAN people\n```", "```py\nCREATE INDEX index-name on table (column(s))\n```", "```py\n# create_index.py\n\nimport time\nimport sqlite3\n\ndb_conn = sqlite3.connect('people_db.db')\n\ndb_cursor =db_conn.cursor()\n\nt1 = time.perf_counter_ns()\n\ndb_cursor.execute(\"CREATE INDEX people_job_index ON people (job)\")\n\nt2 = time.perf_counter_ns()\n\ndb_conn.commit()\n\nprint(f\"Time to create index: {(t2 - t1)/1000} us\")\n\nOutput >>\nTime to create index: 338298.6 us\n```", "```py\nsqlite> .index\npeople_job_index\n```", "```py\nsqlite> EXPLAIN QUERY PLAN SELECT name, email FROM people WHERE job='Product manager' LIMIT 10;\nQUERY PLAN\n`--SEARCH people USING INDEX people_job_index (job=?)\n```", "```py\n# sample_query.py\n\nimport sqlite3\nimport time\n\ndb_conn = sqlite3.connect(\"people_db.db\")\ndb_cursor = db_conn.cursor()\n\nt1 = time.perf_counter_ns()\n\ndb_cursor.execute(\"SELECT name, email FROM people WHERE job='Product manager' LIMIT 10;\")\n\nres = db_cursor.fetchall()\nt2 = time.perf_counter_ns()\n\nprint(res)\nprint(f\"Query time with index: {(t2-t1)/1000} us\")\n```", "```py\nOutput >>\n[\n    (\"Tina Woods\", \"Tina.Woods@smith.com\"),\n    (\"Toni Jackson\", \"Toni.Jackson@underwood.com\"),\n    (\"Lisa Miller\", \"Lisa.Miller@solis-west.info\"),\n    (\"Katherine Guerrero\", \"Katherine.Guerrero@schmidt-price.org\"),\n    (\"Michelle Lane\", \"Michelle.Lane@carr-hardy.com\"),\n    (\"Jane Johnson\", \"Jane.Johnson@graham.com\"),\n    (\"Matthew Odom\", \"Matthew.Odom@willis.biz\"),\n    (\"Isaac Daniel\", \"Isaac.Daniel@peck.com\"),\n    (\"Jay Byrd\", \"Jay.Byrd@bailey.info\"),\n    (\"Thomas Kirby\", \"Thomas.Kirby@west.com\"),\n]\n\nQuery time with index: 167.179 us\n```"]