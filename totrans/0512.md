# 数据科学家，你需要知道如何编码

> 原文：[https://www.kdnuggets.com/2021/06/data-scientists-need-know-code.html](https://www.kdnuggets.com/2021/06/data-scientists-need-know-code.html)

[评论](#comments)

**由 [Tyler Folkman](https://learn.learningwithdata.com/)，Branded Entertainment Network 的 AI 负责人**

![](../Images/9e7a84b00952ec77bf2d2445db9c77d7.png)

照片由 [Roman Synkevych](https://unsplash.com/@synkevych?utm_source=medium&utm_medium=referral) 提供，来自 [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)

* * *

## 我们的前三个课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [谷歌网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业生涯。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [谷歌数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [谷歌 IT 支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你的组织的 IT

* * *

我知道你在想什么——“当然我知道如何编程，你疯了吗？”

你每天在 Jupyter notebooks 中写大量的代码，成百上千行。显然，你会编程。并不像是你手动或在 Excel 中训练机器学习模型（尽管这是可能的）。

那我可能是什么意思呢？

我很抱歉告诉你，但我认为大多数数据科学家所做的编码其实并不算真正的编程。你使用编程语言作为探索数据和构建模型的工具。但你创建的程序不是什么你真正考虑的东西，只要它能完成任务就好。

你的代码通常很乱，甚至可能无法顺序运行（多亏了 notebooks）。你可能从未编写过单元测试，也几乎不了解如何编写好的、可重用的函数。

但是，随着数据科学越来越多地融入真实产品，这种类型的代码是行不通的。你不能信任糟糕的代码，将你不能信任的代码投入产品会导致大量的技术债务和糟糕的用户体验。

“好吧，好吧，但是，我是数据科学家，不是软件工程师，”你说。我构建模型，清理代码是别人的问题。虽然这在一些公司可能有效，但我深信更好的模式是数据科学家学习如何编写更好的代码。你可能永远不会成为一流的软件工程师，但数据科学家可以编写经过一定工作后可以信赖并投入生产的代码。

### 从你的函数开始

在学习如何提升你的代码时，从如何编写函数开始。大多数代码只是一个个函数（或潜在的类）的系列，如果你能学会编写相当好的函数，这将大大提高你的代码质量。

你的函数至少应该做到：

1.  只做一件事

1.  有文档

1.  使用良好的变量名称

虽然有整本书专门讲述如何编写干净的函数，但这3个要点是一个很好的起点。

你绝不要有一个看起来试图做超过一件事情的函数。一些迹象表明你的函数可能做得太多了：

+   它的长度超过一个屏幕或大约30行代码（根据我的经验）。

+   因为函数执行的操作太多，很难清晰地命名你的函数

+   它包含了很多if/else块中的代码，这些代码实际上应该拆分成单独的函数

只做一件事的函数很重要，因为它让你的代码更容易理解、管理和测试（测试的更多内容稍后再说）。

发布到生产环境的任何函数都应该有文档字符串，该字符串应描述函数的功能，提供输入参数的信息，并可能提供一些简单的使用示例。将来你会感谢自己，因为文档齐全的函数会让其他人更容易理解你的代码。

最后，请使用易于理解和有帮助的变量名称。太多的数据科学家习惯使用像“a”、“a1”和“a2”这样的变量名称。短小而无用的变量名称在实验时打字更快，但在将代码投入生产时，确保你的变量名称能帮助他人理解你的代码。

### 移除打印语句

数据科学家经常使用print语句来显示发生了什么。然而，在生产环境中，这些print语句应该在不再需要时被删除，或者被转换为日志语句。

日志记录应该是你传达信息和错误的方式。一个很好的Python库是Loguru，它让日志记录变得更简单，自动处理大多数麻烦的部分，更像是使用print语句。

### 使用风格指南

编程中的风格指南用于让多人共同工作在相同的代码上，使得这些代码看起来就像是由一个人编写的。

这为什么重要？

当你有一致的风格时，会更容易导航和理解代码。当使用风格指南时，发现错误会变得容易得多。遵循标准的编码方式会让你和其他人都更容易浏览代码。这意味着你不必花太多时间去解读代码的格式，而可以专注于代码的功能及其正确性和质量。

PEP 8可能是Python最广泛使用的风格指南。不过，还有很多其他的风格指南。另一个流行的风格指南来源是Google，因为他们公开了他们的内部风格指南。

重要的是你选择一个并尽量坚持使用。一个让这更容易的方法是启用你的 IDE 来检查样式错误，并设置样式检查，如果样式指南没有遵循，阻止代码被推送。你还可以进一步承诺使用自动格式化工具，这将自动为你格式化代码。这些工具允许你按自己的方式编写代码，然后在运行时会自动格式化你的代码以符合标准。Python 的一个流行工具是 Black。

### 编写测试

我发现大多数数据科学家害怕测试，因为他们不知道如何开始编写测试。

实际上，许多数据科学家已经在运行我称之为临时测试的测试。我发现数据科学家在笔记本中快速运行一些“完整性检查”是很常见的。你会通过一些简单的测试用例，确保函数按预期运行。

软件工程师称这个过程为单元测试。

不过唯一的区别是，数据科学家往往会删除那些临时测试并继续进行。相反，你需要保存这些测试，并确保在每次推送代码之前运行它们，以确保没有东西坏掉。

要开始使用 Python，我建议使用 pytest。使用 pytest，你可以轻松创建测试并一次性运行它们以确保它们通过。一个简单的方法是创建一个名为“tests”的目录，并在该目录下有以“test.”开头的 Python 文件。例如，你可以有“test_addition.py”。

```py
*# content of test_addition.py*
**def** add(x, y):
    **return** x + y
**def** test_add():
    **assert** add(3, 2) == 5
```

通常，你会把实际函数放在另一个 Python 文件中，并将其导入到你的测试模块中。你也不会需要测试 Python 加法，但这只是一个非常简单的例子。

在这些测试模块中，你可以保存你函数的所有“完整性检查”。一般来说，不仅要测试常见情况，还要测试边缘情况和潜在错误情况是一种良好的实践。

> 注意：有许多不同类型的测试。我认为单元测试是数据科学家开始进行测试的最佳测试。

### 进行代码审查

最后但同样重要的，我们列出写出更好代码的顶级任务之一是代码审查。

代码审查是指另一位在你领域内熟练编写代码的人，在你将代码提交到主分支之前审查你的代码。这个步骤确保了最佳实践的遵循，并希望能捕捉到任何不良代码或错误。

复审你代码的人最好能至少和你一样擅长编写代码，但即使是更初级的人员审查你的代码也会有极大的好处。

人类容易懒惰，这种懒惰很容易渗透到我们的代码中。知道有人会审查你的代码是一个很好的激励，促使你花时间编写优质代码。这也是我发现的最好的改进方式。让更有经验的同事审查你的代码并给出改进建议是无价的。

为了方便审查你的代码，尽量保持新增代码量小。小而频繁的代码审查效果较好。不频繁的大规模代码审查效果很差。没有人愿意被要求审查成千上万行代码。这些审查往往提供较差的反馈，因为审查者无法花时间真正理解这么多代码。

![](../Images/85c2e1cdfc60f4ed301d0b08cc628138.png)

### 提升你的编码水平

我希望这篇文章能激励你花时间学习如何编写更好的代码。这并不一定很难，但确实需要时间和精力来改进。

如果你遵循这 5 条建议，我相信你会注意到代码质量的显著提升。

你的未来自我和你的同事会感谢你。

查看我的 [免费课程](https://bit.ly/3ltZA4s)，学习如何部署机器学习模型。

**简介： [Tyler Folkman](https://learn.learningwithdata.com/)** 是 Branded Entertainment Network 的 AI 负责人。获取 Tyler 的 [5 步骤创建惊人数据科学项目的流程](http://bit.ly/39FyHGl) 的免费副本。

[原文](https://towardsdatascience.com/data-scientists-you-need-to-know-how-to-code-9142b2dc74e8)。经许可转载。

**相关：**

+   [顶级编程语言及其用途](/2021/05/top-programming-languages.html)

+   [未来 5 年数据科学职位会短缺吗？](/2021/06/shortage-data-science-jobs-5-years.html)

+   [这些软技能可能决定你的数据科学职业生涯成败](/2021/05/soft-skills-data-science-career.html)

### 更多相关主题

+   [KDnuggets 新闻，4月13日：数据科学家应了解的 Python 库…](https://www.kdnuggets.com/2022/n15.html)

+   [你不知道的 7 个低代码工具功能](https://www.kdnuggets.com/2022/09/7-things-didnt-know-could-low-code-tool.html)

+   [我们不需要数据科学家，我们需要数据工程师](https://www.kdnuggets.com/2021/02/dont-need-data-scientists-need-data-engineers.html)

+   [KDnuggets 新闻，4月27日：关于 Papers With Code 的简要介绍；…](https://www.kdnuggets.com/2022/n17.html)

+   [数据科学基础：你需要知道的 10 个必备技能](https://www.kdnuggets.com/2020/10/data-science-minimum-10-essential-skills.html)

+   [数据中心 AI：你需要了解的最新研究](https://www.kdnuggets.com/2022/02/datacentric-ai-latest-research-need-know.html)
