- en: Know your data much faster with the new Sweetviz Python library
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2021/03/know-your-data-much-faster-sweetviz-python-library.html](https://www.kdnuggets.com/2021/03/know-your-data-much-faster-sweetviz-python-library.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[comments](#comments)'
  prefs: []
  type: TYPE_NORMAL
- en: '**By [Francois Bertrand](https://medium.com/@fbertrand27), Designer for data
    visualization and games**'
  prefs: []
  type: TYPE_NORMAL
- en: '*This is the second article on Sweetviz, which goes into more detail on comparative
    analysis, new features, general use cases, and also uses a different dataset.
    [You can find the original article here](/2021/02/powerful-exploratory-data-analysis-sweetviz.html).*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![Image](../Images/471020a2660126ea2309453b30c314bf.png)'
  prefs: []
  type: TYPE_IMG
- en: Exploratory data analysis (EDA) is an essential early step in most data science
    projects and it often consists of taking the same steps to characterize a dataset
    (e.g. find out data types, missing information, distribution of values, correlations,
    etc.). Given the repetitiveness and similarity of such tasks, there are a few
    libraries that automate and help kickstart the process.
  prefs: []
  type: TYPE_NORMAL
- en: One of the latest is a new open-source Python library called Sweetviz ([GitHub](https://github.com/fbdesignpro/sweetviz)),
    created by a few contributors and myself for just that purpose. It takes pandas
    dataframes and creates a self-contained HTML report that can be viewed by itself
    in a browser or integrated into notebooks.
  prefs: []
  type: TYPE_NORMAL
- en: 'It packs a powerful punch; in addition to creating insightful and beautiful
    visualizations with just two lines of code, it provides analysis that would take
    a lot more time to generate manually, including some that no other library provides
    so quickly such as:'
  prefs: []
  type: TYPE_NORMAL
- en: Target analysis: shows how a target value (e.g. "Survived" in the Titanic dataset)
    relates to other features
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Dataset comparisons: between datasets (e.g. "Train vs Test") and intra-set (e.g.
    "Male vs Female")
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Correlation/associations: full integration of numerical and categorical data
    correlations and associations, all in one graph and table
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Other references/examples:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Google Colab notebook with documentation & examples of integration](https://colab.research.google.com/drive/1-md6YEwcVGWVnQWTBirQSYQYgdNoeSWg?usp%3Dsharing&sa=D&ust=1611941330247000&usg=AOvVaw1dyrc3C9Dzi-M7IGPhnULe)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Sample report for the well-known sample Titanic Survivor dataset](http://cooltiming.com/SWEETVIZ_REPORT.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[GitHub page (full docs & usage)](https://github.com/fbdesignpro/sweetviz)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: EDA made… fun?!
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Being able to get so much information so quickly about the target value and
    compare different areas of the dataset transforms this initial step from being
    tedious to being faster, interesting and even to some degree… fun! (to this data
    geek, at least!) Of course EDA is a much longer process but at least that first
    step is a lot smoother. Let’s see how it works out with an actual dataset.
  prefs: []
  type: TYPE_NORMAL
- en: Creating a report
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Once your data is loaded, creating a report is a quick 2-line process.
  prefs: []
  type: TYPE_NORMAL
- en: For this article, we will be using a cleaned-up version of the Credit Card Customers
    dataset described [here](https://www.kaggle.com/sakshigoyal7/credit-card-customers).
    You can [download the cleaned-up dataset here](http://cooltiming.com/SV/BankChurners_clean.csv).
    The cleanup simply consisted of removing the last 2 columns as mentioned in the
    description, and the "Attrition_Flag" variable was turned into a boolean, as intended.
  prefs: []
  type: TYPE_NORMAL
- en: 'After installation of Sweetviz (using pip install sweetviz), load the pandas
    dataframe(s) as you normally would:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Step 1: create the report'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To create a report, you can call either:'
  prefs: []
  type: TYPE_NORMAL
- en: analyze() for a single dataset
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: compare() to compare 2 datasets (e.g. Test versus Train)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: compare_intra() to compare 2 sub-populations within a same dataset
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In our case, we have a single dataset, so let''s analyze() it. Importantly,
    we would like to get information on our target variable "Attrition_Flag", so let''s
    specify it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Step 2: generate output'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Once we have our report object, it can generate a standalone HTML application
    (HTML page) or embed the report inside a Notebook. You can refer to the usage
    examples/documentation ([here](https://github.com/fbdesignpro/sweetviz) & [here](https://colab.research.google.com/drive/1-md6YEwcVGWVnQWTBirQSYQYgdNoeSWg?usp%3Dsharing))
    for more details. Now, let''s generate a standalone HTML application:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: With the default options, this will create a file "SWEETVIZ_REPORT.html" and
    pop open a browser. You can consult the full report generated [here](http://cooltiming.com/SV/SWEETVIZ_REPORT.html).
    If you are operating inside a notebook, that file will be generated but the browser
    may not pop up (using show_notebook() is recommended for notebooks, see [documentation](https://colab.research.google.com/drive/1-md6YEwcVGWVnQWTBirQSYQYgdNoeSWg?usp%3Dsharing)).
  prefs: []
  type: TYPE_NORMAL
- en: 'Output options include:'
  prefs: []
  type: TYPE_NORMAL
- en: Layout (widescreen or vertical)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scaling
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Window size (for notebooks)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The Sweetviz report
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: I could (and actually might!) spend an entire article on specific components
    of the Sweetviz report, since they each bring their own unique insights. For now,
    here's a quick overview of all its components for this example case.
  prefs: []
  type: TYPE_NORMAL
- en: Overview
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![Image](../Images/205a9f4ab0f003c62faa6f54586a5de3.png)'
  prefs: []
  type: TYPE_IMG
- en: 'On top of the report, a simple overview of the dataset (along with comparison
    if comparing). For each feature, Sweetviz will do a best guess at determining
    the data type of each column, between:'
  prefs: []
  type: TYPE_NORMAL
- en: numerical
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: categorical/boolean
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: text (default/fallback)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note that these can be overridden using "FeatureConfig" (see [documentation](https://github.com/fbdesignpro/sweetviz)).
  prefs: []
  type: TYPE_NORMAL
- en: Associations/correlations
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The "Associations" button unlocks a very powerful analysis of associations
    and correlations. This graph is a composite of the visuals from [Drazen Zaric:
    Better Heatmaps and Correlation Matrix Plots in Python](https://towardsdatascience.com/better-heatmaps-and-correlation-matrix-plots-in-python-41445d0f2bec) and
    concepts from [Shaked Zychlinski: The Search for Categorical Correlation](https://towardsdatascience.com/the-search-for-categorical-correlation-a1cf7f1888c9).'
  prefs: []
  type: TYPE_NORMAL
- en: Basically, in addition to showing the traditional numerical correlations, it
    unifies in a single graph both numerical correlation, the uncertainty coefficient
    (for categorical-categorical) and correlation ratio (for categorical-numerical).
    Note that the trivial diagonal is left empty, for clarity.
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/73ea57e1793712826d078081bebdadf1.png)'
  prefs: []
  type: TYPE_IMG
- en: '![Image](../Images/ef95eb0d5cf5d68c1c808d99099e6e71.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The same data is also found in the "detail" pane of each variable (more on
    it later):'
  prefs: []
  type: TYPE_NORMAL
- en: It is worth noting these correlation/association methods should not be taken
    as absolute, as they make some assumptions on the underlying distribution of data
    and relationships. However they can be a very useful starting point.
  prefs: []
  type: TYPE_NORMAL
- en: Target analysis
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: When analyzing a dataset that has a target variable, this feature is incredibly
    insightful.
  prefs: []
  type: TYPE_NORMAL
- en: If we specify a target variable (only boolean and numerical are supported currently),
    it is displayed prominently as the first variable and uses black coloring.
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/959cffb32350292c3fff612581961c63.png)'
  prefs: []
  type: TYPE_IMG
- en: Most importantly, its value is overlaid on top of every other graph, quickly
    giving an insight on the distribution of the target with regard to every other
    variable.
  prefs: []
  type: TYPE_NORMAL
- en: 'At a glance, you can immediately spot how the target value is influenced by
    other variables. As expected, this generally follows what is found in the "Associations"
    graph, but gives you specifics for each variable. Here is an example:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/8d546c74af1eeb58e9015a1997a388ac.png)'
  prefs: []
  type: TYPE_IMG
- en: 'IMPORTANT TIP: remember that you can use Target Analysis to analyze ANY feature with
    respect to all the others. This can be of great assistance to understand how features
    relate to each other, even if there is no "actual" target variable in the data
    you are analyzing.'
  prefs: []
  type: TYPE_NORMAL
- en: General feature analysis
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The bulk of the report is the summary and detail information for each feature:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/fcc6d4eab311024c64ce7c7ada00f95b.png)'
  prefs: []
  type: TYPE_IMG
- en: '![Image](../Images/79aa98f71cebe6346ff8b0065ac5481f.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Note that for numerical data, you can change the number of "bins" in the graph,
    to better gauge distribution, as well as how the target feature correlates. For
    example, in the above screenshot if we changed the number of bins to 30, we can
    get a clearer picture of how the target changes with this feature:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/d2c1bf759a11ec7a85bd772193dba431.png)'
  prefs: []
  type: TYPE_IMG
- en: Comparing datasets and sub-populations (e.g. Male vs Female)
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Sweetviz can compare two different datasets which can be extremely useful (e.g.
    Train vs Test data). But even if you are only looking at a single dataset, you
    can study the characteristics of different subpopulations within that dataset.
  prefs: []
  type: TYPE_NORMAL
- en: Let's do an example using the above feature that looked interesting. It seems
    that when the value of "Total_Ct_Chng_Q4_Q1" is below about 0.6, the Attrition_Flag
    is significantly higher.
  prefs: []
  type: TYPE_NORMAL
- en: 'We can isolate that population by using the compare_intra() function and give
    that condition to split the population (as well as give the low/high populations
    a more descriptive name):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'This will output the following report, which quickly gives us a lot of new
    insights on the data. Just looking at the first two variables, we can immediately
    see that Customer_Age and Gender behave very differently when populations are
    split using this "Total_Ct_Chng_Q4_Q1" feature, as compared to their general distributions:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](../Images/70189083ace47b33f755e71f7b0170e4.png)'
  prefs: []
  type: TYPE_IMG
- en: You can access the full report [here](http://cooltiming.com/SV/SWEETVIZ_REPORT_COMPARED.html).
  prefs: []
  type: TYPE_NORMAL
- en: Usage scenarios & conclusion
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: With target analysis, dataset/intra-set comparisons, full feature analysis and
    unified association/correlation data, Sweetviz provides an unparalleled wealth
    of insights with just 2 lines of code.
  prefs: []
  type: TYPE_NORMAL
- en: Of course, analyzing a dataset is a longer and artful process, but Sweetviz
    can bring early insights and save hours of work, especially in the initial, often
    tedious stages of EDA.
  prefs: []
  type: TYPE_NORMAL
- en: 'After the EDA, Sweetviz keep providing value by helping with:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Feature engineering: visualize how engineered features perform/correlate relative
    to other features and the target variable'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Testing: confirm the makeup & balance of testing/validation sets'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Interpretation/communication: the generated graphs can provide insights that
    are easily interpretable (e.g. screenshots above) and can be passed amongst a
    team or to clients quickly, without any extra work'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: I enjoy using the library and how it helps throughout my workflow, and I hope
    you will find it as useful as I do!
  prefs: []
  type: TYPE_NORMAL
- en: '**Bio: Francois Bertrand** is a 20-year veteran coder & designer for data visualization
    and games.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Related:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[Powerful Exploratory Data Analysis in just two lines of code](/2021/02/powerful-exploratory-data-analysis-sweetviz.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[How to create stunning visualizations using python from scratch](/2021/02/stunning-visualizations-using-python.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Beautiful decision tree visualizations with dtreeviz](/2021/03/beautiful-decision-tree-visualizations-dtreeviz.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[5 Key Skills Needed To Become a Great Data Scientist](https://www.kdnuggets.com/2021/12/5-key-skills-needed-become-great-data-scientist.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[6 Predictive Models Every Beginner Data Scientist Should Master](https://www.kdnuggets.com/2021/12/6-predictive-models-every-beginner-data-scientist-master.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[The Best ETL Tools in 2021](https://www.kdnuggets.com/2021/12/mozart-best-etl-tools-2021.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Three R Libraries Every Data Scientist Should Know (Even if You Use Python)](https://www.kdnuggets.com/2021/12/three-r-libraries-every-data-scientist-know-even-python.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Write Clean Python Code Using Pipes](https://www.kdnuggets.com/2021/12/write-clean-python-code-pipes.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[What Makes Python An Ideal Programming Language For Startups](https://www.kdnuggets.com/2021/12/makes-python-ideal-programming-language-startups.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
