- en: 'ColabCode: Deploying Machine Learning Models From Google Colab'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2021/07/colabcode-deploying-machine-learning-models-google-colab.html](https://www.kdnuggets.com/2021/07/colabcode-deploying-machine-learning-models-google-colab.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[comments](#comments)'
  prefs: []
  type: TYPE_NORMAL
- en: '**By [Kaustubh Gupta](https://www.linkedin.com/in/kaustubh-gupta/), Python
    Developer**'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/913a9bd8496fbc48e89ddc7abc34c8cb.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Niclas Illg](https://unsplash.com/@nicklbaert?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Google colab is the handiest online IDE for Python and Data Science enthusiasts.
    Released in 2017 for the public, it was initially an internal project used by
    the Google research team to collaborate on different AI projects. Since then,
    it has gained a lot of popularity due to its easy to use interface, Jupyter notebooks
    similarity, and GPU support gave it a boost.
  prefs: []
  type: TYPE_NORMAL
- en: Most of the popular machine learning libraries such as numpy, pandas, seaborn,
    matplotlib, sklearn, TensorFlow come pre-installed in this cloud environment so
    you don’t require any explicit prerequisite. You can also install any python package
    of your choice to run your code. In this article, I will explain to you a simple
    way to deploy your machine learning model as an API using FastAPI and ngrok.
  prefs: []
  type: TYPE_NORMAL
- en: What is FastAPI?
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'It is a high-performance web framework to build APIs in Python. Traditionally,
    most of the developers used flask as the first option to build the API but due
    to some of the limitations but not limited to data validation, authentication,
    async, and many more, FastAPI gained a lot of popularity. FastAPI offers automatic
    docs generation functionality, authentication, data validation via pydantic models.
    To know more about the significant differences between the two frameworks in detail,
    you can check-out my article on Analytics Vidya here:'
  prefs: []
  type: TYPE_NORMAL
- en: '[**FastAPI: The Right Replacement For Flask?**](https://www.analyticsvidhya.com/blog/2020/11/fastapi-the-right-replacement-for-flask/)'
  prefs: []
  type: TYPE_NORMAL
- en: This article was published as a part of the Data Science Blogathon. Introduction
    After you are done with model building…
  prefs: []
  type: TYPE_NORMAL
- en: FastAPI helps in setting up the production-ready server but what if you want
    to share this with your team before deploying it in an actual cloud platform such
    as Heroku. The ngrok comes to the rescue by tunneling your localhost and exposing
    it to the internet. Now, anyone can access your API endpoint via the link provided
    but what if, all of this could be done on the Google Colab only? The solution
    to this is ColabCode!
  prefs: []
  type: TYPE_NORMAL
- en: What is ColabCode?
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: It is a Python package that allows you to start a code server right from your
    Colab notebooks without setting up anything locally on your system. It can be
    used to start a VS Code environment, Jupyter Lab server, or tunnel the FastAPI
    server to the web, all in the colab notebook. This can be a great plus point for
    the enthusiast coders who train their models on the cloud and now want to share
    their findings with the world in the form of APIs. We will discuss all the functions
    of ColabCode as we go till the end of this article.
  prefs: []
  type: TYPE_NORMAL
- en: Preparing the FastAPI Code for ColabCode
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The problem statement I would be using for this article is a decision tree
    classifier to classify between two music genres: Hip-Hop or Rock. I have already
    done the cleaning of the dataset and it is available on my [GitHub repository](https://github.com/kaustubhgupta/Technocolab-Final-Project).
    Now that I have the dataset, I have simply imported it into the notebook and trained
    a decision tree model without any preprocessing or EDA stuff as this article is
    more about deployment. Therefore, this model may return some wrong results!'
  prefs: []
  type: TYPE_NORMAL
- en: Code for model creation
  prefs: []
  type: TYPE_NORMAL
- en: 1\. Now, if you are aware of the FastAPI architecture, we will require a data
    class for the inputs. This data class allows FastAPI to validate the inputs to
    be sent to the model and if any wrong input is given, it simply raises the error
    without giving it to the model.
  prefs: []
  type: TYPE_NORMAL
- en: '2\. Creating a data class is pretty straightforward and requires only the parameters
    to be accepted along with the data type. To further customize, you can also add
    a custom example to quickly test out the results. The code for this class is:'
  prefs: []
  type: TYPE_NORMAL
- en: Data Class Code
  prefs: []
  type: TYPE_NORMAL
- en: 3\. Now, we need to create an endpoint where all the requests will be served.
    The endpoint creation in FastAPI is very similar to the flask and only requires
    the endpoint function to take in the data class for validation.
  prefs: []
  type: TYPE_NORMAL
- en: FastAPI Code
  prefs: []
  type: TYPE_NORMAL
- en: 'If you wish to explore some cool projects then check out my GitHub profile:'
  prefs: []
  type: TYPE_NORMAL
- en: '[**kaustubhgupta - Overview**](https://github.com/kaustubhgupta)'
  prefs: []
  type: TYPE_NORMAL
- en: ???? I'm currently working on Exploring Python and all its functionalities.
    ???? I'm currently learning how to work…
  prefs: []
  type: TYPE_NORMAL
- en: ColabCode
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Our FastAPI is ready and now the only thing needed is to run this via the colab
    environment. Firstly, import this package and initialize the server:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: The port number can be of your choice and the code parameter should be false.
    Now, the server is ready to receive the FastAPI object and with the help of ngrok,
    the local host is tunneled and exposed to the public via a unique URL.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'And that’ it! You will get a ngrok URL which you can share with your community,
    team, or whichever person. The link will expire as soon as you terminate the cell
    process and if you don’t, Google Colab terminates it after some time. An example
    GIF of this process is shown below:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ccd77565013f6a536b44e41de4fe72ee.png)'
  prefs: []
  type: TYPE_IMG
- en: GIF by Author
  prefs: []
  type: TYPE_NORMAL
- en: Here, after clicking on the link, I navigated to the endpoint /docs that the
    FastAPI generates automatically, and here, we can test out the results. The whole
    notebook code is available here if you want to run and try this thing. Just open
    this notebook and run all the cells.
  prefs: []
  type: TYPE_NORMAL
- en: Code by Author
  prefs: []
  type: TYPE_NORMAL
- en: Other functionalities
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'ColabCode is not limited to running FastAPI codes on Colab but it can also
    provide VS code server and Jupyter Lab server! It can help users to have a familiar
    environment on the cloud-based services. A user with very limited resources can
    also benefit from these services. It becomes very similar to the newly introduced
    GitHub Codespaces that provides VS Code environment on the web. To run VS Code
    server via ColabCodes, do the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'You will be prompted with a ngrok URL and after the loading is completed, you
    will have the VS Code running on your web browser like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/18aa268c74ef511ed231ae8d385a4adc.png)'
  prefs: []
  type: TYPE_IMG
- en: image by Author
  prefs: []
  type: TYPE_NORMAL
- en: Similarly, if you want to open a Jupyter lab server, pass the lab parameter
    as true and code false.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'You will get a URL and a token for authentication to the server. Enter the
    token and hit login to get a screen similar to this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/1479a9c7c69c006a302cf9379faa7f59.png)'
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: In this article, I explained what the ColabCode offers with a little introduction
    to FastAPI. Currently, v0.2.0 is released by Abhishek Thakur, the creator of this
    package. Check out the [GitHub repository](https://github.com/abhishekkrthakur/colabcode) of
    this package if you wish to contribute.
  prefs: []
  type: TYPE_NORMAL
- en: With this said, it’s the end of this article, I hope you got something new to
    ponder about and I will pop in your feeds via some other articles!
  prefs: []
  type: TYPE_NORMAL
- en: '**[My Linkedin](https://www.linkedin.com/in/kaustubh-gupta/)**'
  prefs: []
  type: TYPE_NORMAL
- en: '**My Other Popular Articles:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[**Build Dashboards in Less Than 10 Lines of Code!**](https://towardsdatascience.com/build-dashboards-in-less-than-10-lines-of-code-835e9abeae4b)'
  prefs: []
  type: TYPE_NORMAL
- en: Exploring ExplainerDashBoard, the easiest way to Develop Interactive DashBoards
  prefs: []
  type: TYPE_NORMAL
- en: '[**Rebuilding My 7 Python Projects**](https://towardsdatascience.com/rebuilding-my-7-python-projects-8c629079c8e6)'
  prefs: []
  type: TYPE_NORMAL
- en: 'This is how I rebuilt My Python Projects: Data Science, Web Development & Android
    Apps'
  prefs: []
  type: TYPE_NORMAL
- en: '[**Run Python Code on Websites: Exploring Brython**](https://towardsdatascience.com/run-python-code-on-websites-exploring-brython-83c43fb7ac5f)'
  prefs: []
  type: TYPE_NORMAL
- en: JavaScript Equivalent Scripting in Python
  prefs: []
  type: TYPE_NORMAL
- en: '[**GitHub Action That Automates Portfolio Generation**](https://towardsdatascience.com/github-action-that-automates-portfolio-generation-bc15835862dc)'
  prefs: []
  type: TYPE_NORMAL
- en: Dockerized GitHub Action using Python and Basic Front-end.
  prefs: []
  type: TYPE_NORMAL
- en: '**Bio: [Kaustubh Gupta](https://www.linkedin.com/in/kaustubh-gupta/)** is a
    Python Developer interested in Data Science and Machine Learning, having worked
    on various data related projects, with an interest in real-world applications
    of Machine Learning.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Original](https://towardsdatascience.com/colabcode-deploying-machine-learning-models-from-google-colab-54e0d37a7b09).
    Reposted with permission.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Related:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[How to Create and Deploy a Simple Sentiment Analysis App via API](/2021/06/create-deploy-sentiment-analysis-app-api.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Multilingual CLIP with Huggingface + PyTorch Lightning](/2021/03/multilingual-clip--huggingface-pytorch-lightning.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[When to Retrain an Machine Learning Model? Run these 5 checks to decide on
    the schedule](/2021/07/retrain-machine-learning-model-5-checks-decide-schedule.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Deploying Machine Learning Models: A Step-by-Step Tutorial](https://www.kdnuggets.com/deploying-machine-learning-models-a-step-by-step-tutorial)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[From Google Colab to a Ploomber Pipeline: ML at Scale with GPUs](https://www.kdnuggets.com/2022/03/google-colab-ploomber-pipeline-ml-scale-gpus.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Fine Tuning LLAMAv2 with QLora on Google Colab for Free](https://www.kdnuggets.com/fine-tuning-llamav2-with-qlora-on-google-colab-for-free)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Running Mixtral 8x7b On Google Colab For Free](https://www.kdnuggets.com/running-mixtral-8x7b-on-google-colab-for-free)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Running Redis on Google Colab](https://www.kdnuggets.com/2022/01/running-redis-google-colab.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[RAPIDS cuDF for Accelerated Data Science on Google Colab](https://www.kdnuggets.com/2023/01/rapids-cudf-accelerated-data-science-google-colab.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
