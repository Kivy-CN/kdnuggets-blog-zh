# A/B 测试：数据科学面试中的 7 个常见问题及解答，第 1 部分

> 原文：[https://www.kdnuggets.com/2021/04/ab-testing-7-common-questions-answers-data-science-interviews-1.html](https://www.kdnuggets.com/2021/04/ab-testing-7-common-questions-answers-data-science-interviews-1.html)

[评论](#comments)

**注意**：这是本文的第一部分。你可以在[这里](/2021/04/ab-testing-7-common-questions-answers-data-science-interviews-2.html)阅读第二部分。

A/B 测试，也称为对照实验，在工业界被广泛用于做出产品发布决策。它允许科技公司通过一部分用户评估一个产品/特性，以推测该产品可能会被所有用户如何接受。数据科学家处于 A/B 测试过程的前沿，A/B 测试被认为是数据科学家的核心能力之一。**数据科学面试反映了这一现实**。面试官通常会询问候选人有关 A/B 测试的问题，以及业务案例问题（也称为指标问题、产品感知问题），以评估候选人的产品知识和推动 A/B 测试过程的能力。

* * *

## 我们的前三大课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google 网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业轨道。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google 数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT 支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你的组织的 IT

* * *

在这篇文章中，我们将采取**以面试为驱动**的方法，将一些最常被问到的面试问题与 A/B 测试的不同组件相关联，包括选择测试创意、设计 A/B 测试、评估测试结果以及做出是否发布的决策。具体来说，我们将涵盖**7**个最常被问到的面试问题及其解答。

在你开始阅读之前，如果你喜欢视频，可以查看这个[YouTube 视频](https://youtu.be/X8u6kr4fxXc)，获取本文的简要版本。

### 在测试前——并非所有的创意都值得测试

A/B 测试是一种强大的工具，但并不是所有的想法都通过测试来选择。一些想法测试起来可能会很昂贵，处于初期阶段的公司可能资源有限，因此**对每个想法都进行测试是不现实的**。因此，我们首先要选择哪些想法值得测试，特别是在大家对改进产品有不同意见和想法时，并且有很多想法可以选择。例如，用户体验设计师可能建议更改一些 UI 元素，产品经理可能提议简化结账流程，工程师可能推荐优化后台算法等等。在这种情况下，利益相关者依赖数据科学家来推动数据驱动的决策。一个常见的面试问题是：

> 有一些想法可以提高电子商务网站的转化率，比如启用多商品结账（目前用户一次只能结账一个商品），允许非注册用户结账，更改“购买”按钮的大小和颜色等，你如何选择要投资的想法？

评估不同想法的价值的一种方法是使用历史数据进行**定量分析**，以获取每个想法的**机会规模**。例如，在投资电子商务网站的多商品结账之前，通过分析每个用户购买的多商品数量来获得影响的上限。如果只有极少数用户购买了超过一个商品，那么开发这个功能可能不值得。更重要的是调查用户的购买行为，了解为什么用户不一起购买多个商品。是因为选择的商品太少？商品价格太高，用户只能买一个？结账过程太复杂，用户不愿意再进行一次？

这种分析提供了关于哪个想法是 A/B 测试的良好候选者的方向性见解。然而，历史数据只能告诉我们过去的表现，不能准确预测未来。

为了全面评估每个想法，我们可以通过焦点小组和调查进行**定性分析**。从焦点小组（与用户或有洞察力的用户的引导讨论）或调查中的问题中获得的反馈提供了更多关于用户痛点和偏好的见解。定性和定量分析的结合可以帮助进一步推动想法选择过程。

### 设计 A/B 测试

一旦我们选择了一个想法进行测试，我们需要决定测试的持续时间和如何选择随机化单位。在这一部分，我们将逐一讨论这些问题。

### 测试运行多长时间？

为了决定测试的持续时间，我们需要获取测试的样本量，这需要三个参数。这些参数是：

+   第二类错误率 *β* 或者功效，因为功效 = *1 — β*。知道其中一个，你就知道另一个。

+   显著性水平 *α*

+   最小可检测效果

经验法则是样本大小*n*大约等于16（基于*α = 0.05*和*β = 0.8*），再乘以*样本方差*，除以*δ*的平方，其中*δ*是实验组和对照组之间的差异：

![公式](../Images/c07554bfa768188920354c0364ab3fcf.png)

这个公式来自于[可信的在线控制实验](https://www.amazon.com/Trustworthy-Online-Controlled-Experiments-Practical/dp/1108724264)由Ron Kohavi、Diane Tang和Ya Xu著

如果你有兴趣了解我们如何得出这个经验法则公式，请查看[this video](https://youtu.be/JEAsoUrX6KQ)进行逐步讲解。

在面试中，你不需要解释你是如何得出这个公式的，但你需要解释我们如何获得每个参数以及每个参数如何影响样本大小。例如，如果样本方差较大，我们需要更多的样本；如果delta较大，我们需要更少的样本。

样本方差可以从现有数据中获得，但我们如何估计*δ*，即实验组和对照组之间的差异？

实际上，我们在实验之前并不知道这一点，这就是我们使用最后一个参数的原因：**最小可检测效应**。它是实际中最小的有意义差异。例如，我们可以将0.1%的收入增长视为最小可检测效应。在现实中，这个值由多个利益相关者讨论和决定。

一旦我们知道了样本大小，我们可以通过将样本大小除以每组中的用户数来获得运行实验的天数。如果这个数字少于一周，我们应该至少运行七天以捕捉每周的模式。通常建议运行两周。对于测试数据的收集，**更多的几乎总是比不足更好**。

### 控制组和实验组之间的干扰

通常我们通过随机选择用户并将每个用户分配到对照组或实验组来分割控制组和实验组。我们期望每个用户是独立的，且控制组和实验组之间没有干扰。然而，有时**这种独立性假设并不成立**。这可能发生在测试社交网络（如Facebook、LinkedIn和Twitter）或双边市场（如Uber、Lyft和Airbnb）时。一个示例面试问题是：

> X公司测试了一个新功能，目的是增加每个用户创建的帖子数量。他们将每个用户随机分配到对照组或实验组。测试结果在帖子数量上胜出1%。你期望在新功能推出到所有用户后会发生什么？如果不是1%，会更多还是更少？（假设没有新奇效应）

答案是我们会看到一个大于1%的值。原因如下：

在**社交网络**（例如 Facebook、LinkedIn 和 Twitter）中，用户的行为可能会受到其社交圈中其他人的影响。如果他们的网络中的人（如朋友和家人）使用某个功能或产品，用户也倾向于使用。这被称为**网络效应**。因此，如果我们将“用户”作为随机化单元，而处理对用户产生影响，则效果可能会溢出到控制组，即控制组中的人们的行为会受到处理组的影响。在这种情况下，控制组和处理组之间的差异**低估**了处理效果的真实益处。对于面试问题，差异会大于1%。

对于**双边市场**（例如 Uber、Lyft、eBay 和 Airbnb）：控制组和处理组之间的干扰也可能导致处理效果的估计偏差。这主要是因为资源在控制组和处理组之间共享，意味着控制组和处理组会竞争相同的资源。例如，如果我们有一个新产品吸引了处理组中的更多司机，控制组中的司机数量就会减少。因此，我们将无法准确估计处理效果。与社交网络中处理效果低估新产品的实际效益不同，在双边市场中，处理效果**高估**了实际效应。

### 如何处理干扰？

![](../Images/6a130a5567a796964adbb84225d49bbc.png)

照片由[Chris Lawton](https://unsplash.com/@chrislawton?utm_source=medium&utm_medium=referral)提供，来源于[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)

现在我们知道控制组和处理组之间的干扰为何会导致发布后的效果与处理效果不同，这引出了下一个问题：**我们如何设计测试以防止控制组和处理组之间的溢出？** 一个示例面试问题是：

> 我们正在推出一个向骑行者提供优惠券的新功能。目标是通过降低每次骑行的价格来增加骑行次数。概述一种测试策略，以评估新功能的效果。

处理组之间溢出问题有多种方法，主要目标是将用户**隔离**到控制组和处理组中。以下是一些常用的解决方案，每种方案适用于不同的场景，并且都有局限性。在实际操作中，我们希望选择在特定条件下效果最好的方法，也可以结合多种方法以获得可靠的结果。

**社交网络：**

+   确保隔离的一种方法是创建**网络集群**，以代表更有可能与组内人员互动的用户群体。一旦我们有了这些集群，就可以将其分为控制组和处理组。有关这种方法的更多细节，请查看[这篇论文](https://engineering.linkedin.com/blog/2019/06/detecting-interference--an-a-b-test-of-a-b-tests)。

+   **自我集群**随机化。这个想法源自LinkedIn。一个集群由一个“自我”（一个核心个体）及其“替代者”（她直接联系的个体）组成。它专注于测量单向网络效应，即用户的直接连接的处理对该用户的影响，然后每个用户要么具有该功能，要么不具有，无需复杂的用户之间的互动。[这篇论文](https://arxiv.org/abs/1903.08755)详细解释了这种方法。

**双面市场：**

+   **基于地理**的随机化。我们可以按地理位置进行划分，而不是按用户划分。例如，我们可以将纽约大都会区域划分为控制组，将旧金山湾区划分为处理组。这将使我们能够隔离每组的用户，但缺点是由于市场的独特性，例如客户行为、竞争对手等，方差会更大。

+   另一种方法，尽管使用较少，是**基于时间**的随机化。基本上，我们选择一个随机时间，例如一周中的一天，并将所有用户分配到控制组或处理组。这在处理效果仅持续短时间时有效，例如测试新的激增定价算法表现更好。当处理效果需要较长时间才能生效时，如推荐计划，则不起作用。用户需要一些时间才能向朋友推荐。

**简介：[Emma Ding](https://www.youtube.com/c/DataInterviewPro)** 是Airbnb的数据科学家和软件工程师。

[原文](https://medium.com/@emmading/1e72e1f25947)。经许可转载。

**相关：**

+   [了解A/B测试的5件事](/2018/09/5-things-know-about-ab-testing.html)

+   [如何获得数据科学面试机会：找工作、联系关键人物和获取推荐](/2021/02/data-science-interviews-finding-jobs-reaching-gatekeepers-getting-referrals.html)

+   [我如何在被解雇后2个月获得4份数据科学工作offer并使收入翻倍](/2021/01/data-science-offers-doubled-income-2-months.html)

### 更多相关话题

+   [数据科学面试中的24个A/B测试面试问题及…](https://www.kdnuggets.com/2022/09/24-ab-testing-interview-questions-data-science-interviews-crack.html)

+   [检测虚假数据科学家的20个问题（及答案）：ChatGPT…](https://www.kdnuggets.com/2023/01/20-questions-detect-fake-data-scientists-chatgpt-1.html)

+   [检测虚假数据科学家的20个问题（附答案）：ChatGPT…](https://www.kdnuggets.com/2023/02/20-questions-detect-fake-data-scientists-chatgpt-2.html)

+   [7个数据分析面试问题及答案](https://www.kdnuggets.com/2022/09/7-data-analytics-interview-questions-answers.html)

+   [5个Python面试问题及答案](https://www.kdnuggets.com/2022/09/5-python-interview-questions-answers.html)

+   [假设检验与A/B测试](https://www.kdnuggets.com/hypothesis-testing-and-ab-testing)
