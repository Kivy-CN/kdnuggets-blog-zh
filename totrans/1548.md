# 清理数据的顶级R包

> 原文：[https://www.kdnuggets.com/2019/03/top-r-packages-data-cleaning.html](https://www.kdnuggets.com/2019/03/top-r-packages-data-cleaning.html)

![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [评论](#comments)

**作者：Anna Kayfitz，[StrategicDB Corp](https://strategicdb.com)的首席执行官**

![数据清理](../Images/6e43452bbd82d735a0d17ed0a8e59259.png)

* * *

## 我们的前三个课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业生涯。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你的组织IT需求

* * *

随着每天数百万或数十亿个数据元素进入你的业务，几乎不可避免地会有一些数据缺乏创建高效业务模型所需的质量。确保你的数据是干净的应该始终是数据科学工作流程中的第一步，也是最重要的一步，因为没有它，你将难以看到重要的信息，并且可能会由于重复、异常或缺失的信息做出错误的决策。

最常见且强大的数据编程工具之一是R，这是一种用于统计计算和图形的开源语言和环境。R为用户提供了创建数据科学项目所需的所有工具，但像任何东西一样，它的好坏取决于输入的数据。因此，R环境中有许多库可以帮助在任何项目开始之前进行数据清理和处理。

**探索数据**

大多数用于探索你已经导入的数据集的工具都已经存在于R平台中。

**总结（data）**

这个实用的命令可以简单地概览所有的数据属性，显示每个属性的最小值、最大值、中位数、均值和类别划分。这是一种快速发现潜在数据异常的好方法。

接下来，你可以使用直方图更好地理解数据的分布情况。这将可视化显示数据集中的任何异常值或你特别希望观察的数字列。

**plyr包**

你需要安装plyr包来创建直方图，使用标准的R功能安装库

[PRE0]

这将创建数据的可视化，快速发现任何异常。箱线图可视化使用相同的包，但将数据分为四分位数以进行异常值检测。将这两者结合起来可以快速告诉你是否需要限制数据集或仅在任何算法或统计建模中使用某些特定的部分。

**纠正错误**

R有许多内置方法用于纠正数据错误，例如将值转换为你在Excel或SQL中可能会做的简单逻辑，例如`as.character()`将列转换为字符字符串。

但是，如果你想开始纠正你在直方图或箱线图中看到的错误，还有其他包具有这样做的能力。

**stringr 包**

`stringr`可以通过几种不同的方法帮助清理数据，包括修剪空白和替换某些不必要的词。这些都是相当标准的代码，结构为`str_trim(YOUR_DATA_FIELD)`，它只是去除空白。 

但是，我们该如何去除直方图告诉我们的异常值呢？这需要比这更复杂一点，但作为一个基本示例，我们可以告诉R将字段中的所有异常值替换为该字段的中位数。这将把所有数据合并在一起，消除异常值的偏差。

**缺失值**

在R中检查不完整数据并对该字段执行操作非常简单。例如，这个函数将完全消除你选择的数据列中的缺失值。

[PRE1]

有类似的选项可以将空白值替换为0或N/A，这取决于字段类型，从而提高数据集的一致性。

**tidyr 包**

`tidyr`包旨在整理你的数据。它通过识别数据集中的变量并使用提供的工具将其移动到具有三个主要函数的列中：`gather()`、`separate()`和`spread()`。

`gather()`函数将多个列合并为键值对。例如，假设你有如下的考试成绩数据。

| Name | Exam A | Exam B |
| --- | --- | --- |
| John | 55 | 80 |
| Mike | 76 | 90 |
| Sam | 45 | 75 |

`gather`函数通过将数据转换为可用的列来工作，如下所示。

| Name | Exam | Score |
| --- | --- | --- |
| John | A | 55 |
| Mike | A | 76 |
| Sam | A | 45 |
| John | B | 80 |
| Mike | B | 90 |
| Sam | B | 75 |

现在我们真正能够分析考试成绩了。`separate`和`spread`函数做类似的事情，你可以在获取包后进行探索，但最终它们根据需要调整你的数据。

**以下是一些可能对R中的数据清理有用的其他包**

+   **purr 包**

`purr`包用于数据整理。它与`plyr`包非常相似，尽管更老，一些用户发现它更易于使用且功能更标准化。

+   **sqldf 包**

许多R用户更习惯使用SQL语言进行编码，而不是R。这个函数允许你在R Studio中编写SQL代码以选择数据元素。

+   **janitor 包**

该包能够通过多个列查找重复项，并轻松创建友好的列。它甚至具有一个 get_dupes() 函数，用于在多行数据中查找重复值。如果你希望以更高级的方式去重数据，例如，查找不同的组合或使用模糊逻辑，你可能需要查看一个 [去重工具](https://strategicdb.com/data-cleansing-services/deduping-tool/)。

+   **splitstackshape 包**

这是一个较旧的包，可以处理数据框列中的逗号分隔值。适用于调查或文本分析准备。

R 拥有大量的包，而这篇文章只是触及了它能做的表面。随着新库不断出现，进行调研并在开始任何新项目之前获取适合你的包非常重要。

**简介**：Anna Kayfitz 是 [StrategicDB Corp](https://strategicdb.com) 的首席执行官，该公司专注于数据清理和分析。她拥有 Schulich 商学院的 MBA 学位，并在创办 StrategicDB 之前，曾在数据分析和营销领域工作超过 10 年。

**资源：**

+   [在线和基于网络的：分析、数据挖掘、数据科学、机器学习教育](https://www.kdnuggets.com/education/online.html)

+   [用于分析、数据科学、数据挖掘和机器学习的软件](https://www.kdnuggets.com/software/index.html)

**相关内容：**

+   [不要在真空中进行分析](https://www.kdnuggets.com/2019/02/mode-dont-do-analysis-vacuum.html)

+   [在 Jupyter 中运行 R 和 Python](https://www.kdnuggets.com/2019/02/running-r-and-python-in-jupyter.html)

+   [2018 年数据科学和人工智能领域的前 7 个 R 包](https://www.kdnuggets.com/2019/01/vazquez-2018-top-7-r-packages.html)

### 更多相关内容

+   [2023 年必知的顶级数据 Python 包](https://www.kdnuggets.com/2023/01/top-data-python-packages-know-2023.html)

+   [3 个 Julia 数据可视化包](https://www.kdnuggets.com/2023/02/3-julia-packages-data-visualization.html)

+   [5 个用于地理空间数据分析的 Python 包](https://www.kdnuggets.com/2023/08/5-python-packages-geospatial-data-analysis.html)

+   [关于 SQL、Python、数据清理、数据处理和探索性数据分析的指南集合](https://www.kdnuggets.com/collection-of-guides-on-mastering-sql-python-data-cleaning-data-wrangling-and-exploratory-data-analysis)

+   [数据科学中数据清理的重要性](https://www.kdnuggets.com/2023/08/importance-data-cleaning-data-science.html)

+   [通过这本免费的电子书学习数据清理和预处理](https://www.kdnuggets.com/2023/08/learn-data-cleaning-preprocessing-data-science-free-ebook.html)
