- en: 3 More SQL Aggregate Function Interview Questions for Data Science
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3 个更多 SQL 聚合函数面试问题用于数据科学
- en: 原文：[https://www.kdnuggets.com/2023/01/3-sql-aggregate-function-interview-questions-data-science.html](https://www.kdnuggets.com/2023/01/3-sql-aggregate-function-interview-questions-data-science.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://www.kdnuggets.com/2023/01/3-sql-aggregate-function-interview-questions-data-science.html](https://www.kdnuggets.com/2023/01/3-sql-aggregate-function-interview-questions-data-science.html)
- en: '![3 More SQL Aggregate Function Interview Questions for Data Science](../Images/1c0430f5a5a6da2036d7955721ed515d.png)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![3 个更多 SQL 聚合函数面试问题用于数据科学](../Images/1c0430f5a5a6da2036d7955721ed515d.png)'
- en: Image by Author
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: The aggregate functions are one of SQL’s essential features. From SQL being
    one of the essential [data science tools](https://www.stratascratch.com/blog/the-10-most-useful-data-analysis-tools-for-data-scientists/)
    comes the conclusion there’s no living example of a data scientist who never used
    SQL aggregate functions.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 聚合函数是 SQL 的核心功能之一。从 SQL 作为必备的 [数据科学工具](https://www.stratascratch.com/blog/the-10-most-useful-data-analysis-tools-for-data-scientists/)
    可以得出结论，没有哪个数据科学家没有使用过 SQL 聚合函数的活例子。
- en: '* * *'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Our Top 3 Course Recommendations
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我们的前三大课程推荐
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google 网络安全证书](https://www.kdnuggets.com/google-cybersecurity)
    - 快速进入网络安全职业轨道。'
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google 数据分析专业证书](https://www.kdnuggets.com/google-data-analytics)
    - 提升你的数据分析技能'
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT 支持专业证书](https://www.kdnuggets.com/google-itsupport)
    - 支持你的组织进行 IT'
- en: '* * *'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: How would they otherwise analyze data and provide meaningful metrics?  A data
    scientist’s life without data aggregation is like a broken pencil – pointless.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 否则他们如何分析数据并提供有意义的指标？ 数据科学家的生活没有数据聚合就像一支断了的铅笔——毫无意义。
- en: The interviewers know that. And they will make sure to check your aggregation
    skills left and right.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 面试官都知道这一点。他们会全方位检查你的聚合技能。
- en: The Big Five SQL Aggregate Functions
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**五大 SQL 聚合函数**'
- en: The [SQL aggregate functions](https://www.stratascratch.com/blog/the-ultimate-guide-to-sql-aggregate-functions/)
    take values from multiple rows and return a single aggregated value. They are
    most commonly used with the GROUP BY clause. This allows you to see the group
    names and the aggregate values.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[SQL 聚合函数](https://www.stratascratch.com/blog/the-ultimate-guide-to-sql-aggregate-functions/)
    从多行中提取值并返回一个单一的聚合值。它们通常与 GROUP BY 子句一起使用。这使你能够查看组名称和聚合值。'
- en: There are quite a few aggregation functions in SQL. Their number also depends
    on the SQL flavor you use.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: SQL 中有很多聚合函数。它们的数量也取决于你使用的 SQL 方言。
- en: But no matter what, the most common aggregate functions in SQL are these five.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 但无论如何，SQL 中最常见的聚合函数就是这五个。
- en: '![3 More SQL Aggregate Function Interview Questions for Data Science](../Images/53c8a03dfe75e615438654eb8347f32a.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![3 个更多 SQL 聚合函数面试问题用于数据科学](../Images/53c8a03dfe75e615438654eb8347f32a.png)'
- en: Image by Author
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: The functions’ names are not too cryptic. Anybody can intuitively conclude what
    each function does.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 函数的名称并不神秘。任何人都可以直观地推断出每个函数的作用。
- en: However, knowing how to use them when facing a business problem is another pair
    of shoes. These shoes need a bit of breaking in.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在面对业务问题时，知道如何使用它们是另一回事。这些技能需要一点练习。
- en: The next three interview questions should help you with that.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的三个面试问题应该会对你有所帮助。
- en: 1\. Average Weight of Medal-Winning Judo
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1\. 获奖柔道运动员的平均体重
- en: This is a question by ESPN you can find on StrataScratch.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 这是 ESPN 提出的一个问题，你可以在 StrataScratch 上找到。
- en: “Find the average weight of medal-winning Judo players of each team with a minimum
    age of 20 and a maximum age of 30\. Consider players at the age of 20 and 30 too.
    Output the team along with the average player weight.”
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “找出每个团队中获得奖牌的柔道运动员的平均体重，年龄在 20 到 30 岁之间，包括 20 岁和 30 岁的运动员。输出团队名称和运动员的平均体重。”
- en: Here’s the [link](https://platform.stratascratch.com/coding/10144-average-weight-of-medal-winning-judo?code_type=2&utm_source=blog&utm_medium=click&utm_campaign=kdnuggets)
    to the question if you want to follow along with me.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是[链接](https://platform.stratascratch.com/coding/10144-average-weight-of-medal-winning-judo?code_type=2&utm_source=blog&utm_medium=click&utm_campaign=kdnuggets)以便你跟着我。
- en: The question requires you to find the average weight of a medal-winning judo
    player by each team. This wording obviously means you have to use the AVG() aggregate
    functions.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 这个问题要求你按团队查找获奖柔道选手的平均体重。这显然意味着你需要使用AVG()聚合函数。
- en: Only medal winners between 20 and 30 years of age should be considered. Use
    the MIN() and MAX() functions to achieve that.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 只有20到30岁之间的获奖者应被考虑。使用MIN()和MAX()函数来实现。
- en: Put in the code, it looks like this.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 放入代码后，它看起来是这样的。
- en: '[PRE0]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The query selects the team, which will also be used in GROUP BY, and calculates
    the average weight from the table olympics_athletes_events. The WHERE clause is
    used to include only judo and exclude the competitors that didn’t win any medal.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 查询选择团队，也会在GROUP BY中使用，并从表olympics_athletes_events计算平均体重。WHERE子句用于仅包括柔道项目，并排除未获奖的竞争者。
- en: Finally, use the MIN() and MAX() functions in the HAVING clause to show winners
    between 20 and 30 years.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，在HAVING子句中使用MIN()和MAX()函数来显示年龄在20到30岁之间的获胜者。
- en: Here’s also the code output.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 这里还有代码输出。
- en: '| **team** | **average_player_weight** |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| **team** | **average_player_weight** |'
- en: '| France | 77 |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| France | 77 |'
- en: '| Georgia | 84 |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| Georgia | 84 |'
- en: '| Japan | 70 |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '| Japan | 70 |'
- en: '| Romania | 48 |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '| Romania | 48 |'
- en: 2\. Count Student Number in Departments
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2\. 计算各部门的学生人数
- en: The question from LeetCode asks you the following.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: LeetCode的问题要求你完成以下任务。
- en: “Write an SQL query to report the respective department name and number of students
    majoring in each department for all departments in the **Department** table (even
    ones with no current students).Return the result table **ordered** by student_number
    **in descending order**. In case of a tie, order them by dept_name **alphabetically**.”
  id: totrans-40
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “编写一个SQL查询，报告**Department**表中每个部门的部门名称和学生人数（即使某些部门没有在读学生）。返回结果表**按学生人数降序排列**。若有并列情况，按部门名称**字母顺序排列**。”
- en: Here’s the [link](https://leetcode.com/problems/count-student-number-in-departments/description/)
    to the question to follow along with me.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是[链接](https://leetcode.com/problems/count-student-number-in-departments/description/)以便你跟着我。
- en: The clue is in the question title. Solving this question calls for the COUNT()
    aggregate function.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 提示在问题标题中。解决这个问题需要使用COUNT()聚合函数。
- en: '[PRE1]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Unlike the previous question, here you have two tables: department and student.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 与之前的问题不同，这里有两个表：department和student。
- en: The first step is to select the department name and find the number of students
    by their ID using the COUNT() function.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是选择部门名称，并使用COUNT()函数通过其ID查找学生人数。
- en: To get both columns, use LEFT JOIN to join the tables. Why this particular join?
    Because the question asks you to return all the department names, even if there
    are no students.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取两个列，使用LEFT JOIN连接表。为什么使用这种连接？因为问题要求返回所有部门名称，即使没有学生。
- en: Output is grouped by department and sorted by the student number descendingly
    and department name ascendingly.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 输出按部门分组，按学生人数降序排列，部门名称升序排列。
- en: Here’s the expected output.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是期望的输出。
- en: '| **dept_name** | **student_number** |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| **dept_name** | **student_number** |'
- en: '| Engineering | 2 |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| Engineering | 2 |'
- en: '| Science | 1 |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| Science | 1 |'
- en: '| Law | 0 |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| Law | 0 |'
- en: 3\. Contest Leaderboard
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3\. 比赛排行榜
- en: The final question comes from HackerRank.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 最后的问题来自HackerRank。
- en: “You did such a great job helping Julia with her last coding contest challenge
    that she wants you to work on this one, too! The total score of a hacker is the
    sum of their maximum scores for all of the challenges. Write a query to print
    the hacker_id, name, and total score of the hackers ordered by the descending
    score. If more than one hacker achieved the same total score, then sort the result
    by ascending hacker_id. Exclude all hackers with a total score of 0 from your
    result.”
  id: totrans-55
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “你在帮助Julia完成她上一个编程挑战时做得非常出色，所以她希望你也能处理这个问题！黑客的总分是他们在所有挑战中的最高分之和。编写一个查询，打印出黑客ID、姓名和总分，按总分降序排列。如果有多个黑客的总分相同，则按黑客ID升序排列。排除所有总分为0的黑客。”
- en: Here’s the [link](https://www.hackerrank.com/challenges/contest-leaderboard/problem?isFullScreen=true)
    to the question if you want to follow along with me.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想跟我一起操作，可以点击这个 [链接](https://www.hackerrank.com/challenges/contest-leaderboard/problem?isFullScreen=true)。
- en: 'The solution uses two aggregate functions: SUM() and MAX().'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 该解决方案使用了两个聚合函数：SUM() 和 MAX()。
- en: '[PRE2]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Let’s first focus on the subquery, which is used to calculate the highest score
    by hacker and challenge. To do that, it uses the MAX() aggregate function.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们首先关注子查询，它用于计算每个黑客和挑战的最高分。为此，它使用了 MAX() 聚合函数。
- en: The main query selects the hacker’s ID and name from the table hackers. It also
    uses the SUM() function to sum the highest scores by referencing the subquery.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 主查询从 hackers 表中选择黑客的 ID 和名字。它还使用 SUM() 函数通过引用子查询来汇总最高分。
- en: These two queries are joined on the column hacker_id using JOIN.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个查询通过列 hacker_id 使用 JOIN 连接。
- en: After that, the output is filtered to show only the total scores above zero.
    Finally, the result is sorted by total score descendingly and by the hacker ID
    ascendingly.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，输出被过滤以仅显示总分高于零的记录。最后，结果按总分降序排列，并按黑客ID升序排列。
- en: The first several rows of the output are shown here.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 这里显示了输出的前几行。
- en: '| **hacker_id** | **name** | **sum_max_score** |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '| **hacker_id** | **name** | **sum_max_score** |'
- en: '| 76971 | Ashley | 760  |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
  zh: '| 76971 | Ashley | 760 |'
- en: '| 84200 | Susan | 710 |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| 84200 | Susan | 710 |'
- en: '| 76615 | Ryan | 700 |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| 76615 | Ryan | 700 |'
- en: '| 82382 | Sara | 640 |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '| 82382 | Sara | 640 |'
- en: '| 79034 | Marilyn | 580 |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '| 79034 | Marilyn | 580 |'
- en: Summary
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: 'There you have it: the five most popular SQL aggregate functions showcased
    on three medium-level interview questions. It’s not that difficult for a crucial
    SQL concept, is it?'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 就这样：展示了三道中等难度面试问题中的五个最受欢迎的 SQL 聚合函数。对于一个关键的 SQL 概念，这并不算太难，对吧？
- en: These three questions are good examples of what you can expect from the job
    interview. As you’ve seen, the SQL aggregate functions don’t come alone. They
    are usually assessed simultaneously with other SQL concepts, such as grouping
    and filtering data, joining tables, and writing subqueries.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 这三个问题是你可以从面试中期待的良好示例。如你所见，SQL 聚合函数并不是单独存在的。它们通常与其他 SQL 概念同时考察，如数据分组和过滤、表连接以及编写子查询。
- en: Use these questions as guidelines, but make sure you solve several questions
    on your own. That’s the closes you can get to a job interview before an interview.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些问题作为指导，但确保你自己解决几个问题。那是你在面试前能接近面试的最好方法。
- en: '**[Nate Rosidi](https://www.stratascratch.com)** is a data scientist and in
    product strategy. He''s also an adjunct professor teaching analytics, and is the
    founder of [StrataScratch](https://www.stratascratch.com/), a platform helping
    data scientists prepare for their interviews with real interview questions from
    top companies. Connect with him on [Twitter: StrataScratch](https://twitter.com/StrataScratch)
    or [LinkedIn](https://www.linkedin.com/in/nathanrosidi/).'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '**[内特·罗西迪](https://www.stratascratch.com)** 是一位数据科学家和产品战略专家。他还是一名兼职教授，教授分析学，并且是
    [StrataScratch](https://www.stratascratch.com/) 的创始人，该平台帮助数据科学家通过来自顶级公司的真实面试问题准备面试。你可以在
    [Twitter: StrataScratch](https://twitter.com/StrataScratch) 或 [LinkedIn](https://www.linkedin.com/in/nathanrosidi/)
    上与他联系。'
- en: More On This Topic
  id: totrans-75
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更多相关内容
- en: '[Top 10 Advanced Data Science SQL Interview Questions You Must Know…](https://www.kdnuggets.com/2023/01/top-10-advanced-data-science-sql-interview-questions-must-know-answer.html)'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[你必须知道的前10个高级数据科学 SQL 面试问题……](https://www.kdnuggets.com/2023/01/top-10-advanced-data-science-sql-interview-questions-must-know-answer.html)'
- en: '[25 Advanced SQL Interview Questions for Data Scientists](https://www.kdnuggets.com/2022/10/25-advanced-sql-interview-questions-data-scientists.html)'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[25个高级SQL面试问题](https://www.kdnuggets.com/2022/10/25-advanced-sql-interview-questions-data-scientists.html)'
- en: '[SQL and Python Interview Questions for Data Analysts](https://www.kdnuggets.com/2023/02/sql-python-interview-questions-data-analysts.html)'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[数据分析师的 SQL 和 Python 面试问题](https://www.kdnuggets.com/2023/02/sql-python-interview-questions-data-analysts.html)'
- en: '[SQL Interview Questions for Experienced Professionals](https://www.kdnuggets.com/2022/01/sql-interview-questions-experienced-professionals.html)'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[经验丰富的专业人士 SQL 面试问题](https://www.kdnuggets.com/2022/01/sql-interview-questions-experienced-professionals.html)'
- en: '[24 SQL Questions You Might See on Your Next Interview](https://www.kdnuggets.com/2022/06/24-sql-questions-might-see-next-interview.html)'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[你下次面试中可能会看到的24个SQL问题](https://www.kdnuggets.com/2022/06/24-sql-questions-might-see-next-interview.html)'
- en: '[KDnuggets News, May 4: 9 Free Harvard Courses to Learn Data…](https://www.kdnuggets.com/2022/n18.html)'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[KDnuggets 新闻，5月4日：9门免费哈佛课程学习数据……](https://www.kdnuggets.com/2022/n18.html)'
