# 2018年数据科学与AI的七大R包

> 原文：[https://www.kdnuggets.com/2019/01/vazquez-2018-top-7-r-packages.html](https://www.kdnuggets.com/2019/01/vazquez-2018-top-7-r-packages.html)

![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [评论](/2019/01/vazquez-2018-top-7-r-packages.html?page=2#comments)

> **编辑注：** 这篇文章涵盖了Favio对2018年七大R包的选择。昨天的文章涵盖了他对今年七大Python库的选择。

![Header image](../Images/7ef6165978b25f869739e7f4869b924e.png)

* * *

## 我们的前三名课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1. [Google网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 加速进入网络安全职业生涯。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2. [Google数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3. [Google IT支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你的组织IT

* * *

### 介绍

如果你关注我，你会知道今年我开始了一系列名为*数据科学与AI的每周文摘：Python & R*的文章，在其中我突出了帮助我们成为更好数据科学家的最佳库、仓库、包和工具。

来自[Heartbeat](http://heartbeat.fritz.ai/)的优秀团队赞助了很多这些文摘，他们让我创建了最好的最佳列表——那些真正改变或改进了我们今年（及以后）工作的库。

如果你想阅读过去的文摘，请查看这里：

[**数据科学与AI的每周文摘 - Revue**

*数据科学与AI的每周文摘 - Favio Vázquez的个人通讯...* [www.getrevue.co](https://www.getrevue.co/profile/favio)

> 免责声明：该列表基于我在个人通讯中审查的库和包。它们在程序员、数据科学家和AI爱好者中以某种方式流行。有些是在2018年前创建的，但如果它们有流行趋势，也可以考虑。

### R语言的前7名

![](../Images/19504ef30dc0457c2d303fe0c2343157.png)

### **7. infer — 一个适合tidyverse的统计推断R包**

![](../Images/621a1ee9bba098dbc0d6ea1dad212e41.png)

[https://github.com/tidymodels/infer](https://github.com/tidymodels/infer)

推断或统计推断是使用数据分析来推导基础概率分布特性的过程。

该包的目标是使用一种与`tidyverse`设计框架一致的表达性统计语法进行统计推断。

**安装**

要从CRAN安装当前稳定版本的`infer`：

```py
install.packages("infer")
```

**使用**

让我们尝试一个简单的例子，在`mtcars`数据集上看看这个库能为我们做些什么。

首先，让我们覆盖`mtcars`，使得变量`cyl`、`vs`、`am`、`gear`和`carb`成为`factor`。

```py
library(infer)
library(dplyr)
mtcars <- mtcars %>%
  mutate(cyl = factor(cyl),
         vs = factor(vs),
         am = factor(am),
         gear = factor(gear),
         carb = factor(carb))
# For reproducibility         
set.seed(2018)
```

我们将尝试假设检验。在这里，提出一个假设，使其可以在观察通过一组随机变量建模的过程的基础上进行测试。通常，比较两个统计数据集，或者将通过采样获得的数据集与来自理想化模型的合成数据集进行比较。

```py
mtcars %>%
  specify(response = mpg) %>% # formula alt: mpg ~ NULL
  hypothesize(null = "point", med = 26) %>% 
  generate(reps = 100, type = "bootstrap") %>% 
  calculate(stat = "median")
```

在这里，我们首先指定响应变量和解释变量，然后声明一个零假设。之后，我们使用自助法生成重采样，最后计算中位数。该代码的结果是：

```py
## # A tibble: 100 x 2
##    replicate  stat
##        <int> <dbl>
##  1         1  26.6
##  2         2  25.1
##  3         3  25.2
##  4         4  24.7
##  5         5  24.6
##  6         6  25.8
##  7         7  24.7
##  8         8  25.6
##  9         9  25.0
## 10        10  25.1
## # ... with 90 more rows
```

这个库最棒的部分之一是`visualize`函数。这个函数允许你可视化基于模拟的推断统计分布或理论分布（或两者）。例如，我们使用航班数据集。首先，进行一些数据准备：

```py
library(nycflights13)
library(dplyr)
library(ggplot2)
library(stringr)
library(infer)
set.seed(2017)
fli_small <- flights %>% 
  na.omit() %>% 
  sample_n(size = 500) %>% 
  mutate(season = case_when(
    month %in% c(10:12, 1:3) ~ "winter",
    month %in% c(4:9) ~ "summer"
  )) %>% 
  mutate(day_hour = case_when(
    between(hour, 1, 12) ~ "morning",
    between(hour, 13, 24) ~ "not morning"
  )) %>% 
  select(arr_delay, dep_delay, season, 
         day_hour, origin, carrier)
```

现在我们可以运行一个随机化方法来进行`χ2-statistic`：

```py
chisq_null_distn <- fli_small %>%
  specify(origin ~ season) %>% # alt: response = origin, explanatory = season
  hypothesize(null = "independence") %>%
  generate(reps = 1000, type = "permute") %>%
  calculate(stat = "Chisq")
chisq_null_distn %>% visualize(obs_stat = obs_chisq, direction = "greater")
```

![](../Images/7b0d6615bc01544a6a6a8ed8708359ff.png)

或查看理论分布：

```py
fli_small %>%
  specify(origin ~ season) %>% 
  hypothesize(null = "independence") %>%
  # generate() ## Not used for theoretical
  calculate(stat = "Chisq") %>%
  visualize(method = "theoretical", obs_stat = obs_chisq, direction = "right")
```

![](../Images/8ef88a1b6d1fe4bcbf351c28ba61cda4.png)

有关此包的更多信息，请访问：

[**整洁的统计推断**

*这个软件包的目标是使用一种表达丰富的统计语法进行推断，该语法与…*infer.netlify.com](https://infer.netlify.com/index.html)

### **6. janitor — R中的简单数据清理工具**

![](../Images/ab9e5b22d12a7e1adeb72f421a386f6d.png)

[https://github.com/sfirke/janitor](https://github.com/sfirke/janitor)

数据清理是我非常关注的主题。我和我的团队在[Iron-AI](https://iron-ai.com/)合作创建了一个名为Optimus的Python工具。你可以在这里查看更多信息：

[**使用Python和Apache Spark进行数据清理和探索 — 大数据和数据科学 — Optimus**

*墨西哥BBVA数据与分析团队在过去几个月一直在使用Optimus，我们提升了我们的…*hioptimus.com](http://hioptimus.com/)

但我给你展示的这个工具是一个非常酷的包，具有简单的数据清理功能。

它有三个主要功能：

+   完美地格式化`data.frame`列名称；

+   创建和格式化一个、两个或三个变量的频率表（类似于改进版的`table()`）；以及

+   隔离部分重复记录。

哦，它是一个[tidyverse](https://github.com/hadley/tidyverse/blob/master/vignettes/manifesto.Rmd)导向的包。特别是，它与`%>%`管道配合良好，并且针对使用[readr](https://github.com/tidyverse/readr)和[readxl](https://github.com/tidyverse/readxl)包导入的数据进行了优化。

**安装**

```py
install.packages("janitor")
```

**用法**

我正在使用来自库的示例和数据`dirty_data.xlsx`。

```py
library(pacman) # for loading packages
p_load(readxl, janitor, dplyr, here)

roster_raw <- read_excel(here("dirty_data.xlsx")) # available at http://github.com/sfirke/janitor
glimpse(roster_raw)
#> Observations: 13
#> Variables: 11
#> $ `First Name`        <chr> "Jason", "Jason", "Alicia", "Ada", "Desus", "Chien-Shiung", "Chien-Shiung", N...
#> $ `Last Name`         <chr> "Bourne", "Bourne", "Keys", "Lovelace", "Nice", "Wu", "Wu", NA, "Joyce", "Lam...
#> $ `Employee Status`   <chr> "Teacher", "Teacher", "Teacher", "Teacher", "Administration", "Teacher", "Tea...
#> $ Subject             <chr> "PE", "Drafting", "Music", NA, "Dean", "Physics", "Chemistry", NA, "English",...
#> $ `Hire Date`         <dbl> 39690, 39690, 37118, 27515, 41431, 11037, 11037, NA, 32994, 27919, 42221, 347...
#> $ `% Allocated`       <dbl> 0.75, 0.25, 1.00, 1.00, 1.00, 0.50, 0.50, NA, 0.50, 0.50, NA, NA, 0.80
#> $ `Full time?`        <chr> "Yes", "Yes", "Yes", "Yes", "Yes", "Yes", "Yes", NA, "No", "No", "No", "No", ...
#> $ `do not edit! --->` <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA
#> $ Certification       <chr> "Physical ed", "Physical ed", "Instr. music", "PENDING", "PENDING", "Science ...
#> $ Certification__1    <chr> "Theater", "Theater", "Vocal music", "Computers", NA, "Physics", "Physics", N...
#> $ Certification__2    <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA
```

使用这个：

```py
roster <- roster_raw %>%
  clean_names() %>%
  remove_empty(c("rows", "cols")) %>%
  mutate(hire_date = excel_numeric_to_date(hire_date),
         cert = coalesce(certification, certification_1)) %>% # from dplyr
  select(-certification, -certification_1) # drop unwanted columns
```

使用`clean_names()`函数，我们告诉 R 我们将使用 janitor。然后，我们清理空行和空列，接着使用 dplyr 修改日期格式，创建一个包含`certification`和`certification_1`信息的新列，然后删除它们。

以及这段代码……

```py
roster %>% get_dupes(first_name, last_name)
```

我们可以找到具有相同名字和姓氏的重复记录。

该包还引入了*tabyl*函数，用于制表数据，类似于*table*，但可以管道处理，基于 data.frame，并且功能全面。例如：

```py
roster %>%
  tabyl(subject)
#>     subject n    percent valid_percent
#>  Basketball 1 0.08333333           0.1
#>   Chemistry 1 0.08333333           0.1
#>        Dean 1 0.08333333           0.1
#>    Drafting 1 0.08333333           0.1
#>     English 2 0.16666667           0.2
#>       Music 1 0.08333333           0.1
#>          PE 1 0.08333333           0.1
#>     Physics 1 0.08333333           0.1
#>     Science 1 0.08333333           0.1
#>        <NA> 2 0.16666667            NA
```

你还可以用这个包做更多的事情，所以访问他们的网站，给他们一点支持 :)

### **5\. Esquisse — RStudio 插件，用于使用 ggplot2 制作图表**

![](../Images/b2287a33fade5267cc10dd436e9f4218.png)

[https://github.com/dreamRs/esquisse](https://github.com/dreamRs/esquisse)

这个插件允许你通过 ggplot2 包交互式地探索数据。它支持绘制条形图、曲线图、散点图和直方图，然后导出图表或获取生成图表的代码。

**安装**

从 CRAN 安装：

```py
# From CRAN
install.packages("esquisse")
```

**使用方法**

然后通过 RStudio 菜单启动插件。如果你的环境中没有`data.frame`，则会使用`ggplot2`中的数据集。

`**ggplot2**`** 构建器插件**

![](../Images/185417f8e9271e9efb08290109c8d9ee.png)

通过 RStudio 菜单或使用以下命令启动插件：

```py
esquisse::esquisser()
```

第一步是选择一个`data.frame`：

![](../Images/3d3512a21ae7512d2dd25f0981a73bb9.png)

或者你可以直接使用数据集：

```py
esquisse::esquisser(data = iris)
```

之后，你可以拖放变量来创建图表：

![](../Images/4ed2c06d1abe748375db02bee1253fd7.png)

你可以在原始仓库中找到关于包和子菜单的信息：

[**dreamRs/esquisse**](https://github.com/dreamRs/esquisse)

*RStudio 插件，用于使用 ggplot2 制作图表。通过在 GitHub 上创建一个账户来为 dreamRs/esquisse 开发做出贡献。* [github.com](https://github.com/dreamRs/esquisse)

### 更多相关话题

+   [2023年值得了解的顶级数据 Python 包](https://www.kdnuggets.com/2023/01/top-data-python-packages-know-2023.html)

+   [3 个 Julia 数据可视化包](https://www.kdnuggets.com/2023/02/3-julia-packages-data-visualization.html)

+   [5 个用于地理空间数据分析的 Python 包](https://www.kdnuggets.com/2023/08/5-python-packages-geospatial-data-analysis.html)

+   [2022年及以后顶级 AI 和数据科学工具与技术](https://www.kdnuggets.com/2022/03/nvidia-0317-top-ai-data-science-tools-techniques-2022-beyond.html)

+   [KDnuggets™ 新闻 22:n03, 1月19日：深入探讨 13 种数据…](https://www.kdnuggets.com/2022/n03.html)

+   [KDnuggets 新闻，12月7日：揭示 10 大数据科学神话 • 4…](https://www.kdnuggets.com/2022/n47.html)
