# 使用 Optimus 的数据科学第 2 部分：设置你的 DataOps 环境

> 原文：[https://www.kdnuggets.com/2019/04/data-science-with-optimus-part-2-setting-dataops-environment.html](https://www.kdnuggets.com/2019/04/data-science-with-optimus-part-2-setting-dataops-environment.html)

![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [评论](#comments)

![标题图片](../Images/59f9452924682fb85e640ca8dfcedcc3.png)

欢迎回到《使用 Optimus 进行数据科学》系列。在第一部分：

* * *

## 我们的前三个课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google 网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业道路。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google 数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT 支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你在 IT 领域的组织

* * *

[**使用 Optimus 的数据科学。第 1 部分：介绍。**

*用 Python、Spark 和 Optimus 拆解数据科学。* [towardsdatascience.com](https://towardsdatascience.com/data-science-with-optimus-part-1-intro-1f3e2392b02a)

我们开始了这段旅程，讨论了 Optimus、Spark 以及创建我们的环境。为此，我们使用了 MatrixDS：

[**由数据科学家为数据科学家创建的社区**]

数据社区的工作台 [matrixds.com](https://matrixds.com/)

要访问这个仓库，只需点击下面：

[**MatrixDS | 数据项目工作台**]

*MatrixDS 是一个可以构建、分享和管理各种规模数据项目的平台。* [community.platform.matrixds.com](https://community.platform.matrixds.com/community/project/5c5907039298c0508b9589d2/files)

在 MatrixDS 上点击 Forklift：

![](../Images/8915f5feb6f431b9fc2645b0499f54b7.png)

GitHub 上也有一个仓库：

[**FavioVazquez/ds-optimus**]

*如何用 Optimus、Spark 和 Python 做数据科学。— FavioVazquez/ds-optimus* [github.com](https://github.com/FavioVazquez/ds-optimus)

你只需克隆它即可。

![](../Images/254a4b88671349290e65117446cd5d5f.png)

### DataOps

![](../Images/b040c27b6c4e3090fa2da30e266f4281.png)

来自[DataKitchen](https://www.datakitchen.io/)的优秀团队：

> DataOps 可以加速数据分析团队创建和发布新分析结果的能力。它需要一种敏捷思维模式，并且必须得到支持，借助一个自动化平台将现有工具纳入 DataOps 开发流水线中。DataOps 涵盖了整个分析过程，从数据获取到洞察交付。

所以，DataOps（数据操作）对我来说可以被认为是这些领域的交集：

![](../Images/1bc1fbac66a709afb2c9120723c6f1cd.png)

其功能组件将包括：

![](../Images/8bc68b6bb1edce280277a6f4524b3316.png)

你可以在我的朋友 [Andreas Kretz](https://medium.com/@andreaskayy) 的出版物中阅读更多关于这些主题的信息：

[**数据科学的管道工**](https://medium.com/plumbersofdatascience)

*数据科学背后的工程和大数据社区* [medium.com](https://medium.com/plumbersofdatascience)

### 在 MatrixDS 上设置环境

![图示](../Images/d3c76e30f5a82718f6972a25d09704f2.png)

[https://matrixds.com/](https://matrixds.com/)

我们将在平台上使用工具 TravisCI、DVC、Git 和 GitHub 创建一个简单（但强大的）DataOps 环境。

### Git：

![图示](../Images/d5c268f71925e5bf93aef1de6c4b4ec5.png)

[https://git-scm.com/](https://git-scm.com/)

Git 是一个免费的开源分布式版本控制系统，设计用于处理从小型到大型项目的一切任务，具有速度和效率。

在数据科学中，**git** 就像我们的内部经理，记忆力非常好。它会记住你所做的一切，你是怎么做的，以及仓库中每个文件的历史记录。

Git 默认安装在 MatrixDS 中，但我们需要设置两个配置。首先打开一个新的终端并输入：

```py
git config --global user.name "FIRST_NAME LAST_NAME"
```

来设置你的名字，然后

```py
git config --global user.email "MY_NAME@example.com"
```

来设置你的邮箱。

我建议你填写的邮箱与 GitHub 上的邮箱相同。

要开始使用这个仓库，只需克隆它：

```py
git clone **https://github.com/FavioVazquez/ds-optimus.git**
```

然后转到目录：

```py
cd ds-optimus
```

因为这是一个已经存在的 Git 仓库，你不需要初始化它，但如果你是从头开始，你需要输入：

```py
git init
```

在你想要存放仓库的文件夹中。

### DVC：

![图示](../Images/fd14e50d04cb885822b0a9e3c956d688.png)

[https://dvc.org/](https://dvc.org/)

DVC 或数据版本控制是一个用于机器学习项目和数据科学项目的开源版本控制系统。这个视频解释得更清楚：

因为我们使用 Python，所以我们将通过以下方式安装 DVC：

```py
pip install --user dvc
```

正如文档所说，为了开始使用 DVC，你需要首先在项目目录中初始化它。DVC 不要求 Git 并且可以在没有任何源代码管理系统的情况下工作，但**为了获得最佳体验，我们建议在 Git 仓库上使用 DVC。**

**重要说明：**

> **目前 MatrixDS 中 DVC 的某些配置存在错误，因此为了运行 DVC，你需要在不同的文件夹中进行操作，而不是在 /home/matrix。为此，请按照以下步骤操作（我假设你在默认文件夹中有原始项目）：**

```py
cd /home/
sudo mkdir project
cd project
cp -r ../matrix/ds-optimus/ .
cd ds-optimus
```

所以，要开始使用我们的仓库中的 DVC，我们只需输入：

```py
dvc init
```

如果因为某些原因，这在 MatrixDS 上不起作用，请为 Linux 安装 DVC：

```py
wget https://dvc.org/deb/dvc.list
sudo cp dvc.list /etc/apt/sources.list.d/
sudo apt-get update
sudo apt-get install dvc
```

如果你因为某种原因遇到错误：

```py
W: chown to root:adm of file /var/log/apt/term.log failed - OpenLog (1: Operation not permitted)
```

执行

```py
sudo su
```

然后输入：

```py
apt-get install dvc
```

好的，如果你在这个仓库上运行 **dvc init**，你会看到：

```py
Adding '.dvc/state' to '.dvc/.gitignore'.
Adding '.dvc/lock' to '.dvc/.gitignore'.
Adding '.dvc/config.local' to '.dvc/.gitignore'.
Adding '.dvc/updater' to '.dvc/.gitignore'.
Adding '.dvc/updater.lock' to '.dvc/.gitignore'.
Adding '.dvc/state-journal' to '.dvc/.gitignore'.
Adding '.dvc/state-wal' to '.dvc/.gitignore'.
Adding '.dvc/cache' to '.dvc/.gitignore'.
```

```py
You can now commit the changes to git.
```

```py
+-----------------------------------------------------------------+
|                                                                 |    |                                                                 |
|        DVC has enabled anonymous aggregate usage analytics.     |    |                                                                 |
|     Read the analytics documentation (and how to opt-out) here: |     |                                                                 |
|              https://dvc.org/doc/user-guide/analytics           |           |                                                                 |
|                                                                 |             |                                                                 |
+-----------------------------------------------------------------+

What's next?
------------
- Check out the documentation: https://dvc.org/doc
- Get help and share ideas: https://dvc.org/chat
- Star us on GitHub: https://github.com/iterative/dvc
```

然后提交你的工作（如果你更改了文件夹，你可能需要重新配置 Git）：

```py
git add .
git commit -m "Add DVC to project"
```

### Travis CI：

![图示](../Images/e384426999a52b7a86f0cf732b033392.png)

[https://travis-ci.org/](https://travis-ci.org/)

Travis CI（持续集成）是我最喜欢的 CI 工具。持续集成是频繁合并小的代码更改的实践，而不是在开发周期结束时合并大型更改。目标是通过以较小的增量进行开发和测试来构建更健康的软件。

这里的隐含概念是对你所做的事情进行自动测试。当我们编程时，我们一直在做很多事情，我们在测试新事物，尝试新库等，搞砸事情并不罕见。CI 帮助你，因为你将开始工作，使用 Git 提交一些内容，你应该有必要的测试来查看你新写的代码或分析是否影响（以好的或不好的方式）你的项目。

关于 Travis 和 CI 工具还有很多需要了解的内容，但计划是使用它，你会在使用过程中学习。所以你需要做的第一件事是去：

[**Travis CI - 自信地测试和部署你的代码**

travis-ci.org](https://travis-ci.org/)

并用你的 GitHub 个人资料创建一个帐户。

然后你将去**（我在这里假设你已经成功地从 GitHub 上 fork 了这个仓库）**，然后在 [https://travis-ci.org/account/repositories](https://travis-ci.org/account/repositories) 选择** ds-optimus:**

![](../Images/5b3d8514fbd7a04fa27cf8ce796335bc.png)

然后激活仓库

![](../Images/2dafcfdc556360ae7055d166bb7498af.png)

如果一切顺利，你将看到如下内容：

![](../Images/44191b0fb8efe9f40c2e5374186d5b63.png)

好的，目前这个文件是空的，因为我们还没有任何要测试的内容。这没关系，我们会在接下来的文章中讨论这个问题。但现在我们需要构建一个基本文件，以触发“travis builds”。

为此我们需要一个 .travis.yml 文件，下面是它应包含的基本内容：

```py
language: python
python:
  - "3.6"
# Before upgrade pip and pytest
before_install:
- pip install --upgrade pip
- pip install pytest
# command to install dependencies
install:
  - pip install -r requirements.txt
# command to run tests
#script: pytest
```

如你所见，我们还需要一个 requirements.txt 文件，在我们的情况下，它现在只包含 optimus。

> 如果你在 GitHub 上有项目的 fork，请确保将我的主分支添加为上游，因为文件已经在那里。

如果你不知道如何添加上游，这里是方法：

[**如何保持下游 Git 仓库与上游仓库的同步**

*本文演示了如何在进行操作时保持下游仓库与上游仓库的同步…* medium.com](https://medium.com/sweetmeat/how-to-keep-a-downstream-git-repository-current-with-upstream-repository-changes-10b76fad6d97)

然后我们需要推送添加“.travis.yml”到项目中的提交。

然后当你再次访问 Travis 时，你将看到你的第一次构建：

![](../Images/f625eb8ba96a7abed1df2c7faf6cc7a6.png)

目前它会给我们一个错误，因为我们还没有创建任何测试：

![](../Images/09c18bfe5a7d72e6cf6d6cb28dbaa670.png)

但不用担心，我们稍后会讨论这个问题。

感谢查看更新并开始为这个项目设置环境。如果你有任何问题，请在这里写给我：

[**法比奥·巴斯克斯 - 创始人 / 首席数据科学家 - Ciencia y Datos | LinkedIn**

*加入LinkedIn ‼️‼️ 重要说明：由于LinkedIn技术限制，我现在只能接受连接请求…*www.linkedin.com](https://www.linkedin.com/in/faviovazquez/)

**个人简介：[法比奥·巴斯克斯](https://www.linkedin.com/in/faviovazquez/)** 是一位物理学家和计算机工程师，专注于数据科学和计算宇宙学。他对科学、哲学、编程和音乐充满热情。他是西班牙语数据科学出版物Ciencia y Datos的创始人。他喜欢新的挑战，与优秀的团队合作以及解决有趣的问题。他是Apache Spark的合作成员，参与了MLlib、Core和文档的工作。他热爱将自己的知识和专业技能应用于科学、数据分析、可视化和自动学习，以帮助世界变得更美好。

[原文](https://towardsdatascience.com/data-science-with-optimus-part-2-setting-your-dataops-environment-248b0bd3bce3)。经许可转载。

**相关内容：**

+   [10分钟掌握实用Apache Spark](/2019/01/practical-apache-spark-10-minutes.html)

+   [数据管道、Luigi、Airflow：你需要知道的一切](/2019/03/data-pipelines-luigi-airflow-everything-need-know.html)

+   [你机器学习代码可能糟糕的4个原因](/2019/02/4-reasons-machine-learning-code-probably-bad.html)

### 更多相关内容

+   [通过DataOps.live解锁DataOps成功 - 在Gartner中 featured…](https://www.kdnuggets.com/2023/07/dataopslive-unlock-dataops-success-featured-gartner-market-guide.html)

+   [通过DataOps.live解锁DataOps成功：在Gartner市场指南中 featured！](https://www.kdnuggets.com/2023/07/dataopslive-unlock-dataops-success-featured-gartner-market-guide-2.html)

+   [停止学习数据科学以寻找目标，并通过…寻找目标](https://www.kdnuggets.com/2021/12/stop-learning-data-science-find-purpose.html)

+   [学习数据科学统计学的顶级资源](https://www.kdnuggets.com/2021/12/springboard-top-resources-learn-data-science-statistics.html)

+   [成功数据科学家的5个特征](https://www.kdnuggets.com/2021/12/5-characteristics-successful-data-scientist.html)

+   [每个数据科学家都应该知道的三个R库（即使你使用Python）](https://www.kdnuggets.com/2021/12/three-r-libraries-every-data-scientist-know-even-python.html)
