- en: A Beginner’s Guide to Pandas Melt Function
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2023/03/beginner-guide-pandas-melt-function.html](https://www.kdnuggets.com/2023/03/beginner-guide-pandas-melt-function.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![A Beginner''s Guide to Pandas Melt Function](../Images/80237e1988db8ea9c1e495a23e2040a3.png)'
  prefs: []
  type: TYPE_IMG
- en: Image by [catalyststuff](https://www.freepik.com/free-vector/cute-panda-reading-book-cartoon_11919389.htm#query=pandas&position=32&from_view=search&track=sph)
    on [Freepik](https://www.freepik.com/)
  prefs: []
  type: TYPE_NORMAL
- en: When handling the real-life dataset, we can’t expect our dataset to act as we
    require. Sometimes, the data need to be transformed into another format to handle
    them easier. One way is to reshape the wide format data frame into a long format.
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: 'We often encounter wide format data; each row is the data, and the column is
    the data feature. Let me give you an example by using the dataset example. We
    would use the [product sales data](https://www.kaggle.com/datasets/soumyadiptadas/products-sales-timeseries-data)
    from Kaggle (License: CC BY-NC-SA 4.0) by Soumyadipta Das.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '![A Beginner''s Guide to Pandas Melt Function](../Images/360060f8bcda075d189128bba9fa03c8.png)'
  prefs: []
  type: TYPE_IMG
- en: In the dataset above, each row is the time of the sales happening. On the other
    hand, the columns were the product type and the other supporting category (price,
    temperature).
  prefs: []
  type: TYPE_NORMAL
- en: The dataset above is good, but it might be hard if we want to do aggregation
    on the product level. That is why we can transform the data into a Long format
    to make the analysis easier. To do that, we can rely on the Pandas' melt function.
  prefs: []
  type: TYPE_NORMAL
- en: Pandas Melt Function
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Pandas melt was used to transform the dataset from a Wide format into a Long
    format. What is a Long format dataset? It’s a dataset where the row is data of
    a combination of the variable and their values. In technical terms, we are unpivoting
    the dataset to acquire a dataset with fewer columns and longer rows.  Let’s try
    out the melt function to understand better.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '![A Beginner''s Guide to Pandas Melt Function](../Images/340da26a4d717140dda3b1bda971be6b.png)'
  prefs: []
  type: TYPE_IMG
- en: We end up with the Long format dataset from the output above. The dataset contains
    only two columns; the ‘variable’, which is the column name in the Wide format
    dataset and the ‘value’, which is the data value for each row in the Wide format.
  prefs: []
  type: TYPE_NORMAL
- en: For example, column ‘t’ is now treated as a data observation for as much as
    the original dataset rows number with the respective values. Basically, the melt
    function provides a key-value pair from the Wide format data.
  prefs: []
  type: TYPE_NORMAL
- en: Compared to the Wide format, we can now create a category based on the product
    level, which we couldn’t do as the Wide format data product is the column name.
    Let’s try to do that with the melt function.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '![A Beginner''s Guide to Pandas Melt Function](../Images/83160460f23bc52fd97ed9b83a09812d.png)'
  prefs: []
  type: TYPE_IMG
- en: In the code above, we specify the ‘t’ column as the data identifier and the
    ‘ProductP1’ with ‘ProductP2’ as the category. To make the reading easier, we change
    the variable name to ‘Product’ and the value to ‘Sales’.
  prefs: []
  type: TYPE_NORMAL
- en: Now, with the code above, for each time frame (‘t’), we acquire two different
    Product categories with their values. This makes the analysis of the dataset more
    intuitive as the group comparison is more explicit.
  prefs: []
  type: TYPE_NORMAL
- en: We can melt the dataset with the DataFrame method as well. The current code
    works precisely similar to the example above.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '![A Beginner''s Guide to Pandas Melt Function](../Images/83160460f23bc52fd97ed9b83a09812d.png)'
  prefs: []
  type: TYPE_IMG
- en: You can choose your data melting method preferences depending on your data pipeline.
    There are no differences at all in the result between both methods.
  prefs: []
  type: TYPE_NORMAL
- en: It’s also possible to add more identifiers to our melted dataset. To do that,
    we only need to specify all the intended identifiers in the ‘id_vars’ parameters.
    For example, I would add the ‘price’ column as an additional identifier.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '![A Beginner''s Guide to Pandas Melt Function](../Images/3070b66250c7efbb7e3cb786be07687d.png)'
  prefs: []
  type: TYPE_IMG
- en: The result would be both the ‘t’ and ‘price’ column as the dataset identifier.
    The method above would be helpful when you have multiple keys in your Wide format
    dataset that you don’t want to remove.
  prefs: []
  type: TYPE_NORMAL
- en: For further reference of the Pandas melt function, you could visit the [Pandas
    documentation](https://pandas.pydata.org/docs/reference/api/pandas.melt.html).
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Long-format data is sometimes preferred compared to Wide format data. Occasionally,
    our columns were what we wanted to analyse, and the only way to acquire them was
    by unpivoting the data. By using the Pandas melt function, we manage to transform
    the Wide format data into a Long format containing a key-value combination of
    the column's name and the values from the original data.
  prefs: []
  type: TYPE_NORMAL
- en: '**[Cornellius Yudha Wijaya](https://www.linkedin.com/in/cornellius-yudha-wijaya/)**
    is a data science assistant manager and data writer. While working full-time at
    Allianz Indonesia, he loves to share Python and Data tips via social media and
    writing media.'
  prefs: []
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[How to Use the pivot_table Function for Advanced Data Summarization…](https://www.kdnuggets.com/how-to-use-the-pivot_table-function-for-advanced-data-summarization-in-pandas)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Python Function Arguments: A Definitive Guide](https://www.kdnuggets.com/2023/02/python-function-arguments-definitive-guide.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[5 Concepts You Should Know About Gradient Descent and Cost Function](https://www.kdnuggets.com/2020/05/5-concepts-gradient-descent-cost-function.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[What is a Function?](https://www.kdnuggets.com/2022/11/function.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[3 More SQL Aggregate Function Interview Questions for Data Science](https://www.kdnuggets.com/2023/01/3-sql-aggregate-function-interview-questions-data-science.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Multi-label NLP: An Analysis of Class Imbalance and Loss Function…](https://www.kdnuggets.com/2023/03/multilabel-nlp-analysis-class-imbalance-loss-function-approaches.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
