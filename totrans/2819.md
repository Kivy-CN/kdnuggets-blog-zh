# 部署机器学习模型意味着什么？

> 原文：[https://www.kdnuggets.com/2020/02/deploy-machine-learning-model.html](https://www.kdnuggets.com/2020/02/deploy-machine-learning-model.html)

[评论](#comments)

**由[Luigi Patruno](https://mlinproduction.com/about/)，数据科学家和 ML in Production 的创始人**

我最近向[Twitter 社区](https://twitter.com/MLinProduction/status/1211359661980626945)询问了他们在机器学习方面的最大痛点以及他们的团队在 2020 年计划专注的工作。最常被提到的痛点之一是部署机器学习模型。更具体地说，**“你如何以自动化、可重复和可审计的方式部署机器学习模型？”**

![](../Images/5759b6c72706b494901df2657ae4c751.png)

好问题！

在教授机器学习时，ML 部署的话题很少被讨论。训练营、数据科学研究生课程和在线课程往往侧重于训练算法和神经网络架构，因为这些是“核心”的机器学习理念。我对此并不反对，但我认为如果一个数据科学家不能部署模型，他就无法为企业带来多少价值。

如果你搜索关于如何部署模型的资源，你会发现许多关于编写 Flask API 的博客帖子。虽然这些帖子中的许多做得很好，但并不是所有的 ML 模型都需要在 Flask API 背后进行部署。事实上，有时这样做反而适得其反。这些帖子很少讨论在部署模型时需要考虑的因素、可用的工具多样性以及其他重要的概念。这些话题内容广泛，一篇博客帖子无法充分涵盖。

这就是为什么我写了一个关于部署机器学习模型的多部分博客系列。这个系列将讨论部署 ML 模型的含义、部署模型时需要考虑的因素、使用的软件开发策略以及要利用的工具和框架。如果你希望在这些帖子发布时收到通知，请留下你的电子邮件地址！

在讨论任何工具之前，让我们首先来问一个问题：部署一个模型意味着什么？

### 部署机器学习模型意味着什么？

在考虑使用什么工具来部署模型之前，你需要对部署的含义有一个明确的理解。为了获得这种理解，将自己置身于软件工程师的角色是有帮助的。软件工程师如何看待“部署”代码？代码部署的概念如何转移到机器学习领域？将部署视为软件工程师而不是数据科学家将大大简化部署模型的含义。

要理解部署机器学习模型的含义，我们需要简要讨论机器学习项目的生命周期。假设一个产品经理（PM）发现了一些用户需求，并确定可以利用机器学习来解决这个问题。这将涉及创建一个新产品或在现有产品中增加机器学习能力，通常以监督学习模型的形式呈现。

产品经理将与机器学习团队负责人会面，通过定义项目目标、选择指标和设置代码库来规划项目。如果存在适当的训练和验证数据，项目将交给数据科学家或机器学习工程师处理特征工程和模型选择的迭代过程。

**此阶段的目标**是构建一个预测性能达到或超过规划阶段设定目标的模型。在这些初始阶段，推动该项目的用户需求仍然没有得到满足。即使存在一个达到最低预测性能水平的模型，这些需求也不会得到满足。

![](../Images/266944f1f97e3f77c84bc654c67932b0.png)

*[设置机器学习项目。全栈深度学习](https://full-stack-deep-learning.aerobaticapp.com/e372_eb327323-811b-4de9-8894-76ec4cfd6458/assets/slides/fsdl_2_projects.pdf)*

机器学习模型只有在这些模型的洞察力定期对其构建的用户可用时，才能开始为组织创造价值。将训练好的机器学习模型并使其预测对用户或其他系统可用的过程称为**部署**。部署与常规机器学习任务如特征工程、模型选择或模型评估完全不同。

因此，部署在缺乏软件工程或DevOps背景的数据科学家和机器学习工程师中并不完全理解。但幸运的是，这些技能并不难。通过实践，任何数据科学家都可以学会如何将模型部署到生产环境中。

### 你如何决定如何部署？

要决定*如何*部署模型，你需要了解最终用户应如何与模型的预测进行交互。这最好通过几个示例来理解。我们将从一个非常简单的用例开始，逐步增加复杂性。

**部署示例 1：部署潜在客户评分模型**

假设一个数据科学家为一组精通SQL的技术分析师构建了一个潜在客户评分模型。这些分析师希望将新的潜在客户根据其转化为客户的可能性进行分组。

每天早晨，他们希望利用数据库中的数据来创建/更新他们在BI工具中维护的仪表盘。

由于分析师熟悉SQL，并且期望模型得分存储在数据库中，“部署”潜在客户评分模型意味着为新的潜在客户生成每日评分，并将这些评分存储在分析师的数据库中。

此部署的关键方面是

1.  预测可以在一组新潜在客户中生成，

1.  这些预测需要每天提供，并且

1.  预测需要存储在数据库中。部署过程需要满足这三个约束条件，以便机器学习模型能为业务增加价值。

**考虑一个稍微复杂一点的情况。**

销售主管了解到模型后，想要让他的客户经理使用模型的洞察。自然地，我们很遗憾，客户经理不懂 SQL，因此在这种情况下，将预测存储在数据库中还不够。

产品经理确定，潜在客户评分需要在客户经理使用的 CRM 工具中可见，以便增加商业价值。

前一个示例中的部署方面 1 和 2（为一组潜在客户生成预测并每天进行一次）仍然有效，但方面 3 不再适用。部署涉及将评分从数据库流入 CRM 工具。这将涉及设置额外的 ETL。

![](../Images/b1e21f1c0ce21536fc93739a638013b9.png)

**部署示例 2：部署推荐系统**

在我们的最后一个示例中，让我们考虑一下推荐系统——这是机器学习的一个热门应用——可能如何部署。假设我们为一家电子商务公司工作，希望向用户展示购买产品的推荐。我们将考虑两种部署变体。

场景 1：公司希望在用户登录到网页或移动应用后显示产品推荐。预测需要在请求时*可用*，这可能发生在一天中的任何时间。这对我们的部署施加了延迟约束，这会影响我们是否可以在用户登录时实时生成预测，或者是否需要提前生成和缓存预测。部署必须使模型的预测对移动和网页应用程序都可用。因此，将我们的部署与这些应用程序分开是理想的。

场景 2：公司希望在发给现有客户的营销邮件中添加 5 条推荐。这些邮件每周发送两次；一封邮件在周一下午发送，另一封邮件在周五早上发送。在这种情况下，可以同时计算所有用户的推荐并进行缓存。与之前的场景相比，延迟要求要宽松得多。将这些推荐存储在数据库中即可。生成邮件的过程可以在数据库中查找用户的推荐，并将前 5 条添加到个性化邮件中。

从这些示例中可以看出，在确定如何部署机器学习模型时，有多个因素需要考虑。这些因素包括：

+   预测生成的频率

+   预测是一次为单个实例生成，还是为一批实例生成

+   访问模型的应用程序数量

+   这些应用程序的延迟要求

### 结论

机器学习模型的自动化部署是2020年数据科学家和机器学习工程师面临的最大痛点之一。由于模型只有在洞察定期提供给最终用户时才能为组织增值，因此机器学习从业者必须了解如何尽可能简单和高效地部署他们的模型。确定如何部署模型的第一步是了解最终用户应如何与该模型的预测进行互动。

[原文](https://mlinproduction.com/what-does-it-mean-to-deploy-a-machine-learning-model-deployment-series-01/)。转载已获许可。

**个人简介：**[Luigi Patruno](https://twitter.com/MLinProduction)是一名数据科学家和机器学习顾问。他目前是2U的数据科学总监，领导一个负责构建机器学习模型和基础设施的数据科学团队。作为顾问，Luigi帮助公司通过应用现代数据科学方法来实现战略业务和产品目标。他创办了[MLinProduction.com](http://mlinproduction.com/)来收集和分享机器学习操作的最佳实践，并教授过统计学、数据分析和大数据工程的研究生课程。

**相关：**

+   [为什么机器学习项目如此难以管理？](https://www.kdnuggets.com/2020/02/machine-learning-projects-manage.html)

+   [使用Flask部署机器学习模型](https://www.kdnuggets.com/2019/12/excelr-deployment-machine-learning-flask.html)

+   [为什么机器学习部署如此困难？](https://www.kdnuggets.com/2019/10/machine-learning-deployment-hard.html)

* * *

## 我们的前三个课程推荐

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google网络安全证书](https://www.kdnuggets.com/google-cybersecurity) - 快速进入网络安全职业。

![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google数据分析专业证书](https://www.kdnuggets.com/google-data-analytics) - 提升你的数据分析技能

![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT支持专业证书](https://www.kdnuggets.com/google-itsupport) - 支持你的组织IT

* * *

### 更多相关内容

+   [使用Heroku部署机器学习网络应用](https://www.kdnuggets.com/2022/04/deploy-machine-learning-web-app-heroku.html)

+   [调查：机器学习项目仍然经常无法部署](https://www.kdnuggets.com/survey-machine-learning-projects-still-routinely-fail-to-deploy)

+   [如何成功部署数据科学项目](https://www.kdnuggets.com/2022/01/successfully-deploy-data-science-projects.html)

+   [学习如何设计和部署负责任的AI系统](https://www.kdnuggets.com/2023/10/teradata-design-deploy-responsible-ai-systems-whitepaper)

+   [学习如何设计和部署负责任的AI系统](https://www.kdnuggets.com/2023/11/teradata-design-deploy-responsible-ai-systems-whitepaper)

+   [AI 驱动的 RPA 和 IA 对企业意味着什么？](https://www.kdnuggets.com/2022/12/aipowered-rpa-ia-mean-businesses.html)
