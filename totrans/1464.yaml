- en: An Overview of Python’s Datatable package
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://www.kdnuggets.com/2019/08/overview-python-datatable-package.html](https://www.kdnuggets.com/2019/08/overview-python-datatable-package.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![c](../Images/3d9c022da2d331bb56691a9617b91b90.png) [comments](#comments)'
  prefs: []
  type: TYPE_IMG
- en: '**By [Parul Pandey](https://www.linkedin.com/in/parul-pandey-a5498975/)**'
  prefs: []
  type: TYPE_NORMAL
- en: '![figure-name](../Images/7481a0bbd700ed4cf33ab74b776fecc3.png)Photo by [Johannes
    Groll](https://unsplash.com/@followhansi?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)'
  prefs: []
  type: TYPE_IMG
- en: '* * *'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Our Top 3 Course Recommendations
  prefs:
  - PREF_BQ
  - PREF_H2
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '* * *'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '***“There were 5 Exabytes of information created between the dawn of civilization
    through 2003, but that much information is now created every 2 days”:Eric Schmidt***'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: If you are an R user, chances are that you have already been using the `data.table` package. `[Data.table](https://cran.r-project.org/web/packages/data.table/data.table.pdf)` is
    an extension of the `[data.frame](https://www.rdocumentation.org/packages/base/versions/3.6.0/topics/data.frame)` package
    in R. It’s also the go-to package for R users when it comes to the fast aggregation
    of large data (including 100GB in RAM).
  prefs: []
  type: TYPE_NORMAL
- en: The R’s `data.table` package is a very versatile and a high-performance package
    due to its ease of use, convenience and programming speed. It is a fairly famous
    package in the R community with over 400k downloads per month and almost 650 CRAN
    and Bioconductor packages using it([source](https://github.com/Rdatatable/data.table/wiki)).
  prefs: []
  type: TYPE_NORMAL
- en: So, what is in it for the Python users? Well, the good news is that there also
    exists a Python counterpart to the`data.table` package called `datatable`which
    has a clear focus on big data support, high performance, both in-memory and out-of-memory
    datasets, and multi-threaded algorithms. In a way, it can be called as [***data.table***](https://github.com/Rdatatable/data.table)***’s ***younger
    sibling.
  prefs: []
  type: TYPE_NORMAL
- en: Datatable
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![figure-name](../Images/0763f680ee28628fdab89ac81a193692.png)'
  prefs: []
  type: TYPE_IMG
- en: Modern machine learning applications need to process a humongous amount of data
    and generate multiple features. This is necessary in order to build models with
    greater accuracy. Python’s `datatable` module was created to address this issue.
    It is a toolkit for performing big data (up to 100GB) operations on a single-node
    machine, at the maximum possible speed. The development of datatable is sponsored
    by [H2O.ai](https://www.h2o.ai/) and the first user of `datatable` was [Driverless.ai](https://www.h2o.ai/driverless-ai/).
  prefs: []
  type: TYPE_NORMAL
- en: This toolkit resembles [pandas](https://github.com/pandas-dev/pandas) very closely
    but is more focussed on speed and big data support.Python’s`datatable` also strives
    to achieve good user experience, helpful error messages, and a powerful API. In
    this article, we shall see how we can use datatable and how it scores over pandas
    when it comes to large datasets.
  prefs: []
  type: TYPE_NORMAL
- en: Installation
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'On MacOS, datatable can be easily installed with pip:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'On Linux, installation is achieved with a binary distribution as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '*Currently, datatable does not work on Windows but work is being done to add
    support for Windows also.*'
  prefs: []
  type: TYPE_NORMAL
- en: For more information see [Build instructions](https://datatable.readthedocs.io/en/latest/install.html).
  prefs: []
  type: TYPE_NORMAL
- en: The code for this article can be accessed from the associated [Github Repository](https://github.com/parulnith/An-Overview-of-Python-s-Datatable-package) or
    can be viewed on my binder by clicking the image below.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure-name](../Images/983e69bc5a6820ce52e8678f39635e95.png)'
  prefs: []
  type: TYPE_IMG
- en: Reading the Data
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The dataset being used has been taken from Kaggle and belongs to the [*Lending
    Club Loan Data Dataset*](https://www.kaggle.com/wendykan/lending-club-loan-data#loan.csv)*. *The
    dataset consists of complete loan data for all loans issued through the 2007–2015,
    including the current loan status (Current, Late, Fully Paid, etc.) and latest
    payment information. The file consists of **2.26 Million rows **and **145 columns**.
    The data size is ideal to demonstrate the capabilities of the datatable library.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'Let’s load in the data into the `Frame` object. The fundamental unit of analysis
    in datatable is a `Frame`. It is the same notion as a pandas DataFrame or SQL
    table: data arranged in a two-dimensional array with rows and columns.'
  prefs: []
  type: TYPE_NORMAL
- en: '**With datatable**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: The `fread()` function above is both powerful and extremely fast. It can automatically
    detect and parse parameters for the majority of text files, load data from .zip
    archives or URLs, read Excel files, and much more.
  prefs: []
  type: TYPE_NORMAL
- en: 'Additionally, the datatable parser :'
  prefs: []
  type: TYPE_NORMAL
- en: Can automatically detect separators, headers, column types, quoting rules, etc.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Can read data from multiple sources including file, URL, shell, raw text, archives
    and glob.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Provides multi-threaded file reading for maximum speed
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Includes a progress indicator when reading large files
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Can read both [RFC4180](https://tools.ietf.org/html/rfc4180)-compliant and non-compliant
    files.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**With pandas**'
  prefs: []
  type: TYPE_NORMAL
- en: Now, let us calculate the time taken by pandas to read the same file.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: The results show that datatable clearly outperforms pandas when reading large
    datasets. Whereas pandas take more than a minute, datatable only takes seconds
    for the same.
  prefs: []
  type: TYPE_NORMAL
- en: Frame Conversion
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The existing Frame can also be converted into a numpy or pandas dataframe as
    follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Let’s convert our existing frame into a pandas dataframe object and compare
    the time taken.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: It appears that reading a file as a datatable frame and then converting it to
    pandas dataframe takes less time than reading through pandas dataframe. ***Thus,
    it might be a good idea to import a large data file through datatable and then
    convert it to pandas dataframe.***
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Basic Frame Properties
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Let’s look at some of the basic properties of a datatable frame which are similar
    to the pandas’ properties:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: We can also use the `head` command to output the top ‘n’ rows.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: '![figure-name](../Images/babf69d7f56dac36df2a78e6ec46e712.png)A glimpse of
    the first 10 rows of the datatable frame'
  prefs: []
  type: TYPE_NORMAL
- en: The colour signifies the datatype where **red** denotes string,** green** denotes
    int and **blue** stands for float.
  prefs: []
  type: TYPE_NORMAL
- en: Summary Statistics
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Calculating the summary stats in pandas is a memory consuming process but not
    anymore with datatable. We can compute the following per-column summary stats
    using datatable:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: Let’s calculate the **mean** of the columns using both datatable and pandas
    to measure the time difference.
  prefs: []
  type: TYPE_NORMAL
- en: '**With datatable**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: '**With pandas**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: The above command cannot be completed in pandas as it starts throwing memory
    error.
  prefs: []
  type: TYPE_NORMAL
- en: Data Manipulation
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Data Tables like dataframes are columnar data structures. In datatable, the
    primary vehicle for all these operations is the **square-bracket notation**inspired
    by traditional matrix indexing but with more functionalities.
  prefs: []
  type: TYPE_NORMAL
- en: '![figure-name](../Images/980feab7a7cfe86abd29322e4b493f21.png)datatable’s **square-bracket
    notation**'
  prefs: []
  type: TYPE_NORMAL
- en: 'The same DT[i, j] notation is used in mathematics when indexing matrices, in
    C/C++, in R, in pandas, in numpy, etc. Let’s see how we can perform common data
    manipulation activities using datatable:'
  prefs: []
  type: TYPE_NORMAL
- en: '#Selecting Subsets of Rows/Columns'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The following code selects all rows and the `funded_amnt` column from the dataset.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: '![figure-name](../Images/9e3b3de577f99c31b9929fa9cc65e524.png)'
  prefs: []
  type: TYPE_IMG
- en: Here is how we can select the first 5 rows and 3 columns
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: '![figure-name](../Images/6ca189ee0c88fce7688e515eae1ffdab.png)'
  prefs: []
  type: TYPE_IMG
- en: '#Sorting the Frame'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**With datatable**'
  prefs: []
  type: TYPE_NORMAL
- en: 'Sorting the frame by a particular column can be accomplished by `datatable`as
    follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: '**With pandas:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: Notice the substantial time difference between datable and pandas.
  prefs: []
  type: TYPE_NORMAL
- en: '#Deleting Rows/Columns'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Here is how we can delete the column named `member_id`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: '#GroupBy'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Just like in pandas, datatable also has the groupby functionalities. Let’s see
    how we can get the mean of `funded_amount` column grouped by the `grade`column.
  prefs: []
  type: TYPE_NORMAL
- en: '**With datatable**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: '**With pandas**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: '**What does .f stand for?**'
  prefs: []
  type: TYPE_NORMAL
- en: '`f `stands for `frame proxy`, and provides a simple way to refer to the Frame
    that we are currently operating upon. In the case of our example, `dt.f`simply
    stands for `dt_df`.'
  prefs: []
  type: TYPE_NORMAL
- en: '#Filtering Rows'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The syntax for filtering rows is pretty similar to that of GroupBy. Let us filter
    those rows of `loan_amnt`for which the values of `loan_amnt` are greater than `funded_amnt`.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: Saving the Frame
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: It is also possible to write the Frame’s content into a `csv` file so that it
    can be used in future.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs: []
  type: TYPE_PRE
- en: For more data manipulation functions, refer to the [**documentation**](https://datatable.readthedocs.io/en/latest/using-datatable.html) page.
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The datatable module definitely speeds up the execution as compared to the default
    pandas and this definitely is a boon when working on large datasets. However,
    datatable lags behind pandas in terms of the functionalities. But since datatable
    is still undergoing active development, we might see some major additions to the
    library in the future.
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: R’s [data.table](https://github.com/Rdatatable/data.table/wiki)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Datatable documentation](https://datatable.readthedocs.io/en/latest/index.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Getting started with Python datatable](https://www.kaggle.com/sudalairajkumar/getting-started-with-python-datatable):
    A wonderful Kaggle Kernel on the usage of datatable'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Bio: [Parul Pandey](https://www.linkedin.com/in/parul-pandey-a5498975/)**
    is a Data Science enthusiast who frequently writes for Data Science publications
    such as Towards Data Science.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Original](https://towardsdatascience.com/an-overview-of-pythons-datatable-package-5d3a97394ee9).
    Reposted with permission.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Related:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[25 Tricks for Pandas](/2019/08/25-tricks-pandas.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[10 Simple Hacks to Speed up Your Data Analysis in Python](/2019/07/10-simple-hacks-speed-data-analysis-python.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Become a Pro at Pandas, Python’s Data Manipulation Library](/2019/06/pro-pandas-python-library.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: More On This Topic
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[How to Package and Distribute Machine Learning Models with MLFlow](https://www.kdnuggets.com/2022/08/package-distribute-machine-learning-models-mlflow.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Approaches to Text Summarization: An Overview](https://www.kdnuggets.com/2019/01/approaches-text-summarization-overview.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Data Labeling for Machine Learning: Market Overview, Approaches, and Tools](https://www.kdnuggets.com/2021/12/data-labeling-ml-overview-and-tools.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[An Overview of Logistic Regression](https://www.kdnuggets.com/2022/02/overview-logistic-regression.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[An Overview of Mercury: Creating Data Science Portfolio and…](https://www.kdnuggets.com/2022/05/overview-mercury-creating-data-science-portfolio-notebook-based-webapps.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Linear Machine Learning Algorithms: An Overview](https://www.kdnuggets.com/2022/07/linear-machine-learning-algorithms-overview.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
